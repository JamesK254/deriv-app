{"version":3,"file":"bot/js/bot.bot-web-ui-app.446eae7bc37377800d31.js","mappings":"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,0BACA,qBACA,0BACA,6BACA,yBACA,IAEA,0BACA,iBACA,sBACA,UACA,WACA,IAIA,iDACA,qBACA,IAEA,6BACA,iBACA,sBACA,UACA,WACA,YACA,aACA,gCACA,eACA,IAEA,uBACA,oBACA,6BACA,sBACA,kBACA,gBACA,mBACA,gCACA,oBACA,0BACA,sBACA,mBACA,IAEA,wBACA,mBACA,WACA,UACA,iBACA,iBACA,qBACA,sBAAqB,sCACUvuD,QAAQ2e,QAAQ6vC,eAAc,KAC7D,gBACA,6BACA,mBACA,IAEA,4BACA,qBACA,kBACA,IAEA,0BACA,sBACA,WACA,UACA,eACA,gBACA,eACA,6BACA,yBACA,IAEA,2BACA,yBACA,eACA,cACA,eACA,sBACA,iBACA,qBACA,8BACA,mBACA,IAEA,gCAA+B,sCACAxuD,QAAQ2e,QAAQ8vC,YAAW,KAC1D,IAEA,kCAAiC,sCACFzuD,QAAQ2e,QAAQ8vC,YAAW,KAC1D,IAEA,iCACA,cACA,eACA,iBACA,IAEA,gCACA,yBACA,eACA,cACA,eACA,IAEA,yBACA,yBACA,eACA,cACA,eACA,gBACA,eACA,sBACA,wCACA,kBACA,iBACA,0CACA,mBACA,oBACA,mBACA,8CACA,IAEA,+BACA,mBACA,cACA,eACA,qBACA,IAEA,gCACA,8CACA,8CACA,IAEA,cACA,yBACA,0BACA,+BACA,yBACA,IAEA,iBACA,4BACA,2BACA,mCACA,yBACA,IAEA,oBACA,mBACA,oBACA,qBACA,kBACA,yBACA,sBACA,mBACA,IAEA,qBACA,qBACA,cACA,IAEA,qBACA,qBACA,cACA,IAEA,uBACA,gBACA,mBACA,IAEA,sCACA,cACA,gBACA,qBACA,IAEA,iBACA,uBAEA,IAEA,kCACA,mBACA,qBACA,IAEA,uCACA,iBACA,IAEA,sBAEA,gDACA,gBACA,wBACA,qBACA,IAEA,qBAEA,kDACA,oBACA,4BACA,yBACA,IAGA,6BAEA,kDACA,oBACA,4BACA,yBACA,IAIA,+CAEA,kDACA,oBACA,4BACA,yBACA,IAEA,2CACA,kDACA,IAEA,iDACA,wBACA,IAEA,0BACA,kDACA,IAEA,wBACA,kDACA,oBACA,4BACA,IAEA,iCACA,uCACA,qBACA,uBACA,IAEA,kCACA,IAEA,kCACA,oBACA,sBACA,IAEA,yCACA,gBACA,IAEA,iBACA,iBACA,wBACA,iCACA,uBACA,wBACA,sBACA,oBACA,0BACA,IAEA,0BACA,mBACA,IAEA,iCACA,wBACA,IAEA,gCACA,8BACA,+BAEA,IAEA,+CACA,+BACA,IAEA,yBACA,yCACA,IAEA,uBACA,sBACA,IACA,mBACA,sBACA,eACA,IACA,yBACA,cACA,uBACA,IAEA,mCACA,mBACA,IAEA,sCACA,sBACA,IAEA,+BACA,qBACA,IAEA,+BACA,eACA,mBACA,IAEA,wBACA,mBACA,IAEA,kCACA,cACA,IAEA,4BACA,mBACA,iBACA,qBACA,IAMA,kGACA,qBACA,0BACA,6BACA,mBACA,IAEA,mBACA,iBACA,IAEA,8CACA,kBACA,IAEA,sBACA,mBACA,IAEA,iCACA,8BACA,eACA,IAEA,sBACA,cACA,gBACA,qBACA,IAEA,uBACA,cACA,IAEA,wBACA,aACA,cACA,IAEA,iCACA,sBACA,cACA,IAEA,wBACA,iBACA,mBACA,oBACA,IAEA,0BACA,qBACA,mBACA,IAEA,iCACA,cACA,IAEA,gCACA,cACA,IAEA,uCACA,qBACA,IAEA,wCACA,iBACA,mBACA,IAEA,2CACA,gBACA,qBACA,IAEA,4BACA,6BACA,aACA,cACA,aACA,gBACA,gBACA,kBACA,oBACA,IAEA,8BACA,mBACA,cACA,gBACA,IAEA,iDACA,iBACA,IAEA,4BACA,cACA,gBACA,qBACA,IAEA,yDACA,gBACA,IAIA,iCACA,sBACA,IAEA,wBACA,6BACA,sBACA,IAEA,wBACA,iBACA,IAEA,0BACA,qBACA,IAEA,mCACA,mBACA,qBACA,IAEA,iCACA,cACA,IAEA,0BACA,iBACA,oBACA,IAEA,wBAEA,mBACA,oBACA,IAEA,4BACA,6BACA,aACA,cACA,cACA,gBACA,oBACA,IAEA,4BACA,qBACA,qBACA,IAEA,4BACA,qBACA,qBACA,IAEA,sBACA,gBAEA,mBACA,gBACA,aACA,iBACA,0BACA,eACA,sBACA,uBACA,oBACA,IAEA,2BACA,mBAEA,IAEA,8BACA,cACA,gBACA,mBACA,IAEA,6BACA,wBACA,oBACA,IAEA,mCACA,eACA,IAEA,4BACA,eACA,IAEA,2DACA,sBACA,iBACA,IAEA,gCACA,cACA,IAEA,4BACA,2BACA,IAEA,6DACA,kCACA,gCACA,IAEA,uBACA,cACA,IAIA,2CACA,cACA,IAEA,4EACA,iDACA,cACA,IAEA,yBACA,oBACA,IAEA,wBAAuB,kBACZzuD,QAAQ2e,QAAQ+vC,OAAOC,SAAQ,KAC1C,mBAAkB,gBACT3uD,QAAQ2e,QAAQ+vC,OAAOE,UAAS,KACzC,IAEA,6BACA,gBACA,mBACA,cACA,IAEA,4BACA,gBACA,mBACA,wBACA,cACA,mBACA,IAEA,2BACA,uBACA,IAEA,uBACA,gBACA,mBACA,uBACA,IAEA,uBACA,cACA,sBACA,IAEA,sBACA,gBACA,mBACA,yBACA,wBACA,IAEA,wBACA,sBACA,oBACA,IAEA,yBACA,yBACA,IAEA,2BACA,8CACA,IAGA,mEACA,gEACA,4EACA,IAGA,uBACA,qCACA,8BACA,uBACA,oBACA,sBAEA,eACA,4CACA,IAEA,qBACA,kBACA,IAEA,2BACA,iBACA,IAEA,oBACA,gBACA,qBACA,sBACA,sBACA,uBACA,IAEA,2BACA,eACA,yBACA,IAEA,8BACA,gBACA,yBACA,IAEA,kDACA,oBACA,IAEA,oDACA,6BACA,IAEA,0BACA,oCACA,aACA,iBACA,IAEA,oCACA,mCACA,YACA,kBACA,iBACA,IAEA,qBACA,iDACA,gBACA,0BACA,eACA,IAEA,8BACA,mCACA,IAEA,8BACA,iCACA,IAEA,yBACA,mCACA,IAEA,mDACA,oCACA,IAEA,mDACA,kCACA,IAEA,8CACA,oCACA,IAEA,wBACA,8CACA,mCACA,IAEA,sBACA,mBAEA,mBACA,kBACA,0BACA,IAEA,4CACA,kDACA,IAEA,2CACA,eACA,IAEA,gDACA,eACA,gBACA,gBACA,sBACA,iBACA,uBACA,uBACA,IAEA,mEACA,eACA,gBACA,aACA,sBACA,2BACA,uBACA,qDACA,kDACA,6CACA,IAEA,uBACA,oBACA,iBACA,gBACA,eACA,sBACA,8BACA,oBACA,mBACA,IAEA,8BAEA,sBACA,8BACA,eACA,IAEA,kCACA,qBACA,IAEA,gCACA,qBACA,IAEA,4BACA,cACA,sBACA,eACA,IAEA,+BAEA,sBACA,sBACA,wBACA,IAgBA,iCACA,oBACA,qCACA,uBACA,qBACA,mBACA,6DACA,aACA,iBACA,kBACA,sBACA,oBACA,sBACA,kBACA,IAEA,mCACA,mBACA,6DACA,iBACA,kBACA,IA+BA,qCACA,eACA,6DACA,oBACA,aAEA,6BACA,uBACA,IAEA,uCACA,kBACA,6DACA,qBACA,oBACA,aACA,oBAEA,6BACA,uBACA,IAIA,uDACA,yDAEA,qBACA,uBACA,IAGA,0DACA,uDACA,4DACA,0DACA,sBACA,IAMA,wDACA,0DACA,uBACA,IAEA,4CACA,+CACA,eACA,6DACA,IAGA,kEACA,qEACA,oEACA,uEACA,0BACA,IAEA,kEACA,oEACA,gBACA,qBACA,6BACA,IAGA,8CACA,2CACA,6BAGA,yBACA,wBACA,uBACA,uBACA,oBACA,IAEA,gDACA,6CACA,wCACA,IAGA,6CACA,0CACA,+CACA,4CACA,gCACA,gBACA,aACA,sBACA,eACA,0BACA,eACA,IAEA,mEACA,+DACA,qEACA,kEAEA,4EACA,oBACA,eACA,sBACA,IAIA,gEACA,4DACA,kEACA,+DAEA,gBACA,uBACA,IAGA,2CACA,6CACA,eAGA,kBACA,cACA,kBACA,sBACA,YACA,qBACA,IAIA,8DACA,gEAEA,WACA,eACA,oBACA,IAGA,mDACA,qDACA,8BACA,IAEA,wDACA,0DACA,eACA,mBACA,qBACA,IAgBA,0CACA,4CACA,8BACA,iBACA,cACA,IAEA,2BACA,eACA,mBACA,IAEA,mCAAkC,gBACzB5uD,QAAQ2e,QAAQ+vC,OAAOG,QAAO,uBAC5B7uD,QAAQ2e,QAAQ+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","sources":["webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/xml/main.xml","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/ticks_service.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/utils/cliTools.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/error.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/utils/sanitize.js","webpack://@deriv/bot-web-ui/../indicators/src/utils/math.js","webpack://@deriv/bot-web-ui/../indicators/src/indicators/simple-moving-average.js","webpack://@deriv/bot-web-ui/../indicators/src/indicators/bollinger-bands.js","webpack://@deriv/bot-web-ui/../indicators/src/indicators/exponential-moving-average.js","webpack://@deriv/bot-web-ui/../indicators/src/indicators/macd.js","webpack://@deriv/bot-web-ui/../indicators/src/indicators/relative-strength-index.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/Interface/IndicatorsInterface.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/Interface/ToolsInterface.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/Interface/CandleInterface.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/Interface/MiscInterface.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/Interface/TicksInterface.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/Interface/BotInterface.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/Balance.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/state/constants.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/state/actions/index.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/Purchase.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/state/reducers/index.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/Ticks.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/Total.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/index.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/Sell.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/OpenContract.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/Proposal.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/Interface/index.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/utils/interpreter.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/dbot.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/server_time.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/network_monitor.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/contract.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/html-helper.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/date-time-helper.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/colours.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/firebase_setup/firebase.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/firebase_setup/submit_handler.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/constants/config.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/constants/messages.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/constants/save-type.ts","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/backward-compatibility.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blockly.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/images.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Functions/procedures_defnoreturn.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Functions/procedures_defreturn.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Functions/procedures_callnoreturn.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Functions/procedures_callreturn.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Functions/procedures_ifreturn.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_create_with.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_repeat.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_length.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_isEmpty.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_indexOf.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_getIndex.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_setIndex.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_getSublist.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_split.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_sort.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Loops/controls_repeat_ext.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Loops/controls_repeat.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Loops/controls_whileUntil.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Loops/controls_for.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Loops/controls_forEach.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Loops/controls_flow_statements.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Variable/variables_get.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Variable/variables_set.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/After Purchase/after_purchase.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/After Purchase/check_result.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/After Purchase/read_details.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/After Purchase/trade_again.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Before Purchase/before_purchase.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Before Purchase/purchase.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Before Purchase/ask_price.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Before Purchase/payout.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/During Purchase/during_purchase.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/During Purchase/sell_at_market.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/During Purchase/check_sell.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/During Purchase/sell_price.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/bb_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/bba_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/ema_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/emaa_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/rsi_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/rsia_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/sma_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/smaa_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/macda_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/Parts/input_list.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/Parts/period.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/Parts/std_dev_multiplier_up.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/Parts/std_dev_multiplier_down.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/Parts/fast_ema_period.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/Parts/slow_ema_period.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/Parts/signal_ema_period.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/tick.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/ticks.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/ohlc.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/ohlc_values.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/readOhlc.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/get_ohlc.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/check_direction.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/tick_analysis.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/last_digit.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/lastDigitList.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Candle/is_candle_black.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Candle/ohlc_values_in_list.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Candle/read_ohlc_obj.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/balance.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/barrier_offset.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/block_holder.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/loader.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/notify.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/notify_telegram.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/total_profit.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/total_runs.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/useless_block.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/console.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Time/epoch.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Time/timeout.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Time/todatetime.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Time/totimestamp.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition_market.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition_tradetype.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition_contracttype.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition_candleinterval.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition_restartbuysell.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition_restartonerror.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition_tradeoptions.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition_multiplier.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/multiplier_stop_loss.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/multiplier_take_profit.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Logic/logic_compare.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Logic/controls_if.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Logic/logic_boolean.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Logic/logic_operation.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Logic/logic_null.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Logic/logic_ternary.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Logic/logic_negate.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_change.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_constant.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_constrain.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_modulo.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_number.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_number_positive.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_number_property.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_on_list.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_random_float.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_random_int.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_round.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_arithmetic.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_single.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_trig.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_join.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_append.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_length.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_isEmpty.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_indexOf.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_charAt.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_getSubstring.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_changeCase.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_trim.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_print.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_prompt_ext.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/dbot-store.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/block_render_svg_vertical.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/block_svg.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/connection.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/constant.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/css.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/field_image.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/field_textinput.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/gesture.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/icon.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/block.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/contextmenu.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/data_category.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/field_dropdown.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/field.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/flyout_base.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/procedures.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/workspace.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/workspace_svg.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/tooltip.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/inject.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/scratch_block_comment.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/utils.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/variable_map.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/variables.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/workspace_audio.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/xml.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/shared.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/utils/index.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/active-symbols.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/api-middleware.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/appId.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/api-base.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/account-limits.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/api-helpers.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/contracts-for.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/trading-times.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/utils/broadcast.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/utils/helpers.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/local-storage.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/observer.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/pending-promise.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/workspace.js","webpack://@deriv/bot-web-ui/./src/public-path.ts","webpack://@deriv/bot-web-ui/../stores/src/storeContext.ts","webpack://@deriv/bot-web-ui/../api/src/APIProvider.tsx","webpack://@deriv/bot-web-ui/../api/src/useSubscription.ts","webpack://@deriv/bot-web-ui/../stores/src/useStore.ts","webpack://@deriv/bot-web-ui/../stores/src/providers/ExchangeRatesProvider.tsx","webpack://@deriv/bot-web-ui/../stores/src/stores/BaseStore.ts","webpack://@deriv/bot-web-ui/../stores/src/stores/ExchangeRatesStore.ts","webpack://@deriv/bot-web-ui/../stores/src/stores/FeatureFlagsStore.ts","webpack://@deriv/bot-web-ui/../stores/src/storeProvider.tsx","webpack://@deriv/bot-web-ui/./src/components/audio/index.ts","webpack://@deriv/bot-web-ui/./src/components/audio/audio.tsx","webpack://@deriv/bot-web-ui/./src/constants/bot-contents.ts","webpack://@deriv/bot-web-ui/./src/stores/app-store.js","webpack://@deriv/bot-web-ui/./src/utils/settings.js","webpack://@deriv/bot-web-ui/./src/stores/blockly-store.ts","webpack://@deriv/bot-web-ui/./src/stores/chart-store.js","webpack://@deriv/bot-web-ui/./src/constants/load-modal.js","webpack://@deriv/bot-web-ui/./src/components/dashboard/tour-guide.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/joyride-config.tsx","webpack://@deriv/bot-web-ui/./src/stores/dashboard-store.ts","webpack://@deriv/bot-web-ui/./src/stores/data-collection-store.js","webpack://@deriv/bot-web-ui/./src/stores/download-store.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-content.config.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/after_purchase.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/balance.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/before_purchase.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/check_direction.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/console.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/contract_check_result.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/controls_flow_statements.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/controls_for.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/controls_forEach.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/controls_if.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/controls_whileUntil.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/during_purchase.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/epoch.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/get_ohlc.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/is_candle_black.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/last_digit.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/logic_operation.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/math_arithmetic.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/math_constrain.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/math_single.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/notify_telegram.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/ohlc.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/ohlc_values.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/ohlc_values_in_list.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/procedures_ifreturn.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/read_details.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/read_ohlc.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/read_ohlc_obj.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/sell_at_market.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/sell_price.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/sma_statement.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/text_print.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/text_prompt_ext.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/tick_analysis.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/todatetime.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/totimestamp.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/trade_again.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/trade_definition.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/trade_definition_multiplier.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/trade_definition_tradeoptions.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/variables_set.js","webpack://@deriv/bot-web-ui/./src/stores/flyout-help-store.js","webpack://@deriv/bot-web-ui/./src/utils/gtm.js","webpack://@deriv/bot-web-ui/./src/stores/flyout-store.js","webpack://@deriv/bot-web-ui/./src/constants/button-status.js","webpack://@deriv/bot-web-ui/./src/stores/google-drive-store.js","webpack://@deriv/bot-web-ui/./src/utils/journal-notifications.js","webpack://@deriv/bot-web-ui/./src/utils/session-storage.js","webpack://@deriv/bot-web-ui/./src/stores/journal-store.js","webpack://@deriv/bot-web-ui/./src/stores/load-modal-store.ts","webpack://@deriv/bot-web-ui/./src/stores/quick-strategy-store.ts","webpack://@deriv/bot-web-ui/./src/stores/route-prompt-dialog-store.js","webpack://@deriv/bot-web-ui/./src/constants/contract-stage.js","webpack://@deriv/bot-web-ui/./src/constants/run-panel.js","webpack://@deriv/bot-web-ui/./src/utils/bot-notifications.js","webpack://@deriv/bot-web-ui/./src/stores/run-panel-store.js","webpack://@deriv/bot-web-ui/./src/stores/save-modal-store.ts","webpack://@deriv/bot-web-ui/./src/stores/self-exclusion-store.js","webpack://@deriv/bot-web-ui/./src/utils/multiplier.js","webpack://@deriv/bot-web-ui/./src/constants/contract.js","webpack://@deriv/bot-web-ui/./src/utils/validator/errors.js","webpack://@deriv/bot-web-ui/./src/utils/validator/validator.js","webpack://@deriv/bot-web-ui/./src/stores/summary-card-store.js","webpack://@deriv/bot-web-ui/./src/stores/summary-store.js","webpack://@deriv/bot-web-ui/./src/stores/toolbar-store.ts","webpack://@deriv/bot-web-ui/./src/stores/toolbox-store.js","webpack://@deriv/bot-web-ui/./src/constants/transactions.js","webpack://@deriv/bot-web-ui/./src/stores/transactions-store.js","webpack://@deriv/bot-web-ui/./src/stores/root-store.ts","webpack://@deriv/bot-web-ui/./src/stores/useDBotStore.tsx","webpack://@deriv/bot-web-ui/./src/components/bot-notification-messages/bot-notification-messages.tsx","webpack://@deriv/bot-web-ui/./src/components/bot-notification-messages/index.ts","webpack://@deriv/bot-web-ui/./src/components/chart/toolbar-widgets.tsx","webpack://@deriv/bot-web-ui/./src/components/chart/chart.tsx","webpack://@deriv/bot-web-ui/./src/components/chart/index.ts","webpack://@deriv/bot-web-ui/./src/components/contract-card-loading/contract-card-loading.tsx","webpack://@deriv/bot-web-ui/./src/components/contract-card-loading/index.ts","webpack://@deriv/bot-web-ui/./src/components/contract-result-overlay/index.ts","webpack://@deriv/bot-web-ui/./src/components/contract-result-overlay/contract-result-overlay.tsx","webpack://@deriv/bot-web-ui/./src/components/journal/journal-components/date-item.tsx","webpack://@deriv/bot-web-ui/./src/components/journal/journal-components/filter-dialog.tsx","webpack://@deriv/bot-web-ui/./src/components/journal/journal-components/filters.tsx","webpack://@deriv/bot-web-ui/./src/components/journal/journal-components/format-message.tsx","webpack://@deriv/bot-web-ui/./src/components/journal/journal-components/journal-item.tsx","webpack://@deriv/bot-web-ui/./src/components/journal/journal-components/journal-loader.tsx","webpack://@deriv/bot-web-ui/./src/components/download/download.tsx","webpack://@deriv/bot-web-ui/./src/components/download/index.ts","webpack://@deriv/bot-web-ui/./src/components/journal/journal-components/journal-tools.tsx","webpack://@deriv/bot-web-ui/./src/components/journal/journal.tsx","webpack://@deriv/bot-web-ui/./src/components/journal/index.ts","webpack://@deriv/bot-web-ui/./src/components/self-exclusion/self-exclusion.jsx","webpack://@deriv/bot-web-ui/./src/components/self-exclusion/index.js","webpack://@deriv/bot-web-ui/./src/components/summary/summary-card.tsx","webpack://@deriv/bot-web-ui/./src/components/summary/summary.tsx","webpack://@deriv/bot-web-ui/./src/components/summary/index.ts","webpack://@deriv/bot-web-ui/./src/components/trade-animation/trade-animation.jsx","webpack://@deriv/bot-web-ui/./src/components/trade-animation/index.js","webpack://@deriv/bot-web-ui/./src/constants/z-indexes.js","webpack://@deriv/bot-web-ui/./src/components/transactions/transaction.jsx","webpack://@deriv/bot-web-ui/./src/components/transactions/transactions.jsx","webpack://@deriv/bot-web-ui/./src/components/transactions/index.js","webpack://@deriv/bot-web-ui/./src/components/run-panel/run-panel.tsx","webpack://@deriv/bot-web-ui/./src/components/run-panel/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/run-strategy.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-notification.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/workspace-control.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/bot-preview.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/local.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/google-drive.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/delete-dialog.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/hooks/useComponentVisibility.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/constants.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/recent-workspace.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/icon-radio.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/save-modal.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/recent.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/cards.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/constants.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/info-panel.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/user-guide.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/dashboard-component.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/react-joyride-wrapper.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/tour-slider.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/tour-trigger-dialog.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/tutorial-tab/faq-content.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/tutorial-tab/guide-content.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/tutorial-tab/tutorial-content.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/tutorial-tab/sidebar.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/tutorial-tab/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/apollo-tab/load-bot-preview/workspace-control.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/apollo-tab/load-bot-preview/bot-preview.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/apollo-tab/load-bot-preview/local.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/apollo-tab/load-bot-preview/google-drive.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/apollo-tab/load-bot-preview/delete-dialog.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/apollo-tab/load-bot-preview/constants.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/apollo-tab/load-bot-preview/recent-workspace.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/apollo-tab/load-bot-preview/icon-radio.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/apollo-tab/load-bot-preview/save-modal.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/apollo-tab/load-bot-preview/recent.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/apollo-tab/cards.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/apollo-tab/constants.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/apollo-tab/info-panel.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/apollo-tab/user-guide.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/apollo-tab/dashboard-component.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/apollo-tab/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard.tsx","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/trashcan.js","webpack://@deriv/bot-web-ui/./src/components/dashboard/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/container.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/data/common-input-properties.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/data/data-fields.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/data/data-uniq-input-obj.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/description.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/duration-fields.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/fields.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/footer.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/form.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/input-field.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/inputs.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/market-option.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/select-field.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/selects.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy-components/trade-type-option.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/quick-strategy.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/quick-strategy/index.ts","webpack://@deriv/bot-web-ui/./src/components/flyout/flyout-block.jsx","webpack://@deriv/bot-web-ui/./src/components/flyout/flyout-block-group.jsx","webpack://@deriv/bot-web-ui/./src/components/flyout/help-contents/flyout-img.jsx","webpack://@deriv/bot-web-ui/./src/components/flyout/help-contents/flyout-text.jsx","webpack://@deriv/bot-web-ui/./src/components/flyout/help-contents/flyout-video.jsx","webpack://@deriv/bot-web-ui/./src/components/flyout/help-contents/flyout-help-base.jsx","webpack://@deriv/bot-web-ui/./src/components/flyout/help-contents/index.js","webpack://@deriv/bot-web-ui/./src/components/flyout/flyout.jsx","webpack://@deriv/bot-web-ui/./src/components/flyout/index.js","webpack://@deriv/bot-web-ui/./src/components/load-modal/local-footer.tsx","webpack://@deriv/bot-web-ui/./src/components/load-modal/workspace-control.tsx","webpack://@deriv/bot-web-ui/./src/components/load-modal/local.tsx","webpack://@deriv/bot-web-ui/./src/components/load-modal/recent-workspace.tsx","webpack://@deriv/bot-web-ui/./src/components/load-modal/recent.tsx","webpack://@deriv/bot-web-ui/./src/components/load-modal/recent-footer.tsx","webpack://@deriv/bot-web-ui/./src/components/load-modal/load-modal.tsx","webpack://@deriv/bot-web-ui/./src/components/load-modal/index.ts","webpack://@deriv/bot-web-ui/./src/components/network-toast-popup/network-toast-popup.tsx","webpack://@deriv/bot-web-ui/./src/components/network-toast-popup/index.ts","webpack://@deriv/bot-web-ui/./src/components/notify-item/notify-item.jsx","webpack://@deriv/bot-web-ui/./src/components/route-prompt-dialog/route-prompt-dialog.tsx","webpack://@deriv/bot-web-ui/./src/components/route-prompt-dialog/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/stop-bot-modal-content.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/stop-bot-modal.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbar/toolbar-button.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbar/toolbar-icon.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbar/workspace-group.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbar/toolbar.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbar/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbox/search-box/search-icon.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbox/search-box/search-box.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbox/search-box/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbox/toolbox-items.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbox/toolbox.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbox/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/workspace-wrapper.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/bot-builder.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/index.ts","webpack://@deriv/bot-web-ui/./src/components/transaction-details/desktop-transaction-table.tsx","webpack://@deriv/bot-web-ui/./src/components/transaction-details/transaction-details-desktop.tsx","webpack://@deriv/bot-web-ui/./src/components/transaction-details/mobile-transaction-card.tsx","webpack://@deriv/bot-web-ui/./src/components/transaction-details/transaction-details-mobile.tsx","webpack://@deriv/bot-web-ui/./src/components/transaction-details/index.tsx","webpack://@deriv/bot-web-ui/./src/components/transaction-details/transaction-details.tsx","webpack://@deriv/bot-web-ui/./src/components/blockly-loading/index.ts","webpack://@deriv/bot-web-ui/./src/components/blockly-loading/blockly-loading.tsx","webpack://@deriv/bot-web-ui/./src/app/app-content.jsx","webpack://@deriv/bot-web-ui/./src/app/dbot-providers.tsx","webpack://@deriv/bot-web-ui/./src/app/app.tsx","webpack://@deriv/bot-web-ui/./src/xml/ lazy ^\\.\\/.*\\.xml$ chunkName: [request] namespace object"],"sourcesContent":["export default \"<xml xmlns=\\\"http://www.w3.org/1999/xhtml\\\" collection=\\\"false\\\" is_dbot=\\\"true\\\">\\n  <variables></variables>\\n  <block type=\\\"trade_definition\\\" x=\\\"0\\\" y=\\\"0\\\">\\n    <statement name=\\\"TRADE_OPTIONS\\\">\\n      <block type=\\\"trade_definition_market\\\" deletable=\\\"false\\\" movable=\\\"false\\\">\\n        <field name=\\\"MARKET_LIST\\\"></field>\\n        <field name=\\\"SUBMARKET_LIST\\\"></field>\\n        <field name=\\\"SYMBOL_LIST\\\"></field>\\n        <next>\\n          <block type=\\\"trade_definition_tradetype\\\" deletable=\\\"false\\\" movable=\\\"false\\\">\\n            <field name=\\\"TRADETYPECAT_LIST\\\"></field>\\n            <field name=\\\"TRADETYPE_LIST\\\"></field>\\n            <next>\\n              <block type=\\\"trade_definition_contracttype\\\" deletable=\\\"false\\\" movable=\\\"false\\\">\\n                <field name=\\\"TYPE_LIST\\\"></field>\\n                <next>\\n                  <block type=\\\"trade_definition_candleinterval\\\" deletable=\\\"false\\\" movable=\\\"false\\\">\\n                    <field name=\\\"CANDLEINTERVAL_LIST\\\">60</field>\\n                    <next>\\n                      <block type=\\\"trade_definition_restartbuysell\\\" deletable=\\\"false\\\" movable=\\\"false\\\">\\n                        <field name=\\\"TIME_MACHINE_ENABLED\\\">FALSE</field>\\n                        <next>\\n                          <block type=\\\"trade_definition_restartonerror\\\" deletable=\\\"false\\\" movable=\\\"false\\\">\\n                            <field name=\\\"RESTARTONERROR\\\">TRUE</field>\\n                          </block>\\n                        </next>\\n                      </block>\\n                    </next>\\n                  </block>\\n                </next>\\n              </block>\\n            </next>\\n          </block>\\n        </next>\\n      </block>\\n    </statement>\\n    <statement name=\\\"SUBMARKET\\\">\\n      <block type=\\\"trade_definition_tradeoptions\\\">\\n        <mutation has_first_barrier=\\\"false\\\" has_second_barrier=\\\"false\\\" has_prediction=\\\"false\\\"></mutation>\\n        <field name=\\\"DURATIONTYPE_LIST\\\"></field>\\n        <field name=\\\"CURRENCY_LIST\\\">USD</field>\\n        <value name=\\\"DURATION\\\">\\n          <shadow type=\\\"math_number_positive\\\">\\n            <field name=\\\"NUM\\\">5</field>\\n          </shadow>\\n        </value>\\n        <value name=\\\"AMOUNT\\\">\\n          <shadow type=\\\"math_number_positive\\\">\\n            <field name=\\\"NUM\\\">1</field>\\n          </shadow>\\n        </value>\\n        <field name=\\\"AMOUNT_LIMITS\\\"></field>\\n      </block>\\n    </statement>\\n  </block>\\n  <block type=\\\"during_purchase\\\" x=\\\"720\\\" y=\\\"0\\\">\\n    <statement name=\\\"DURING_PURCHASE_STACK\\\">\\n      <block type=\\\"controls_if\\\">\\n        <value name=\\\"IF0\\\">\\n          <block type=\\\"check_sell\\\"></block>\\n        </value>\\n      </block>\\n    </statement>\\n  </block>\\n  <block type=\\\"after_purchase\\\" x=\\\"720\\\" y=\\\"248\\\">\\n    <statement name=\\\"AFTERPURCHASE_STACK\\\">\\n      <block type=\\\"trade_again\\\"></block>\\n    </statement>\\n  </block>\\n  <block type=\\\"before_purchase\\\" x=\\\"0\\\" y=\\\"576\\\">\\n    <statement name=\\\"BEFOREPURCHASE_STACK\\\">\\n      <block type=\\\"purchase\\\">\\n        <field name=\\\"PURCHASE_LIST\\\"></field>\\n      </block>\\n    </statement>\\n  </block>\\n</xml>\";","import { Map } from 'immutable';\nimport { historyToTicks, getLast } from 'binary-utils';\nimport { doUntilDone, getUUID } from '../tradeEngine/utils/helpers';\nimport { observer as globalObserver } from '../../utils/observer';\nimport { api_base } from './api-base';\n\nconst parseTick = tick => ({\n    epoch: +tick.epoch,\n    quote: +tick.quote,\n});\n\nconst parseOhlc = ohlc => ({\n    open: +ohlc.open,\n    high: +ohlc.high,\n    low: +ohlc.low,\n    close: +ohlc.close,\n    epoch: +(ohlc.open_time || ohlc.epoch),\n});\n\nconst parseCandles = candles => candles.map(t => parseOhlc(t));\n\nconst updateTicks = (ticks, newTick) => (getLast(ticks).epoch >= newTick.epoch ? ticks : [...ticks.slice(1), newTick]);\n\nconst updateCandles = (candles, ohlc) => {\n    const lastCandle = getLast(candles);\n    if (\n        (lastCandle.open === ohlc.open &&\n            lastCandle.high === ohlc.high &&\n            lastCandle.low === ohlc.low &&\n            lastCandle.close === ohlc.close &&\n            lastCandle.epoch === ohlc.epoch) ||\n        lastCandle.epoch > ohlc.epoch\n    ) {\n        return candles;\n    }\n    const prevCandles = lastCandle.epoch === ohlc.epoch ? candles.slice(0, -1) : candles.slice(1);\n    return [...prevCandles, ohlc];\n};\n\nconst getType = isCandle => (isCandle ? 'candles' : 'ticks');\n\nexport default class TicksService {\n    constructor() {\n        this.ticks = new Map();\n        this.candles = new Map();\n        this.tickListeners = new Map();\n        this.ohlcListeners = new Map();\n        this.subscriptions = new Map();\n        this.ticks_history_promise = null;\n        this.active_symbols_promise = null;\n        this.candles_promise = null;\n\n        this.observe();\n    }\n\n    requestPipSizes() {\n        if (this.pipSizes) {\n            return Promise.resolve(this.pipSizes);\n        }\n\n        if (!this.active_symbols_promise) {\n            this.active_symbols_promise = new Promise(resolve => {\n                this.pipSizes = api_base.pip_sizes;\n                resolve(this.pipSizes);\n            });\n        }\n        return this.active_symbols_promise;\n    }\n\n    request(options) {\n        const { symbol, granularity } = options;\n\n        const style = getType(granularity);\n\n        if (style === 'ticks' && this.ticks.has(symbol)) {\n            return Promise.resolve(this.ticks.get(symbol));\n        }\n\n        if (style === 'candles' && this.candles.hasIn([symbol, Number(granularity)])) {\n            return Promise.resolve(this.candles.getIn([symbol, Number(granularity)]));\n        }\n        return this.requestStream({ ...options, style });\n    }\n\n    monitor(options) {\n        const { symbol, granularity, callback } = options;\n\n        const type = getType(granularity);\n\n        const key = getUUID();\n\n        this.request(options).catch(e => {\n            globalObserver.emit('Error', e);\n        });\n\n        if (type === 'ticks') {\n            this.tickListeners = this.tickListeners.setIn([symbol, key], callback);\n        } else {\n            this.ohlcListeners = this.ohlcListeners.setIn([symbol, Number(granularity), key], callback);\n        }\n\n        return key;\n    }\n\n    stopMonitor(options) {\n        const { symbol, granularity, key } = options;\n        const type = getType(granularity);\n\n        if (type === 'ticks' && this.tickListeners.hasIn([symbol, key])) {\n            this.tickListeners = this.tickListeners.deleteIn([symbol, key]);\n        }\n\n        if (type === 'candles' && this.ohlcListeners.hasIn([symbol, Number(granularity), key])) {\n            this.ohlcListeners = this.ohlcListeners.deleteIn([symbol, Number(granularity), key]);\n        }\n\n        this.unsubscribeIfEmptyListeners(options);\n    }\n\n    unsubscribeIfEmptyListeners(options) {\n        const { symbol, granularity } = options;\n\n        let needToUnsubscribe = false;\n\n        const tickListener = this.tickListeners.get(symbol);\n\n        if (tickListener && !tickListener.size) {\n            this.tickListeners = this.tickListeners.delete(symbol);\n            this.ticks = this.ticks.delete(symbol);\n            needToUnsubscribe = true;\n        }\n\n        const ohlcListener = this.ohlcListeners.getIn([symbol, Number(granularity)]);\n\n        if (ohlcListener && !ohlcListener.size) {\n            this.ohlcListeners = this.ohlcListeners.deleteIn([symbol, Number(granularity)]);\n            this.candles = this.candles.deleteIn([symbol, Number(granularity)]);\n            needToUnsubscribe = true;\n        }\n\n        if (needToUnsubscribe) {\n            this.unsubscribeAllAndSubscribeListeners(symbol);\n        }\n    }\n\n    unsubscribeAllAndSubscribeListeners(symbol) {\n        const ohlcSubscriptions = this.subscriptions.getIn(['ohlc', symbol]);\n        const tickSubscription = this.subscriptions.getIn(['tick', symbol]);\n\n        const subscription = [\n            ...(ohlcSubscriptions ? Array.from(ohlcSubscriptions.values()) : []),\n            ...(tickSubscription || []),\n        ];\n\n        Promise.all(subscription.map(id => doUntilDone(() => api_base.api.forget(id))));\n\n        this.subscriptions = new Map();\n    }\n\n    updateTicksAndCallListeners(symbol, ticks) {\n        if (this.ticks.get(symbol) === ticks) {\n            return;\n        }\n        this.ticks = this.ticks.set(symbol, ticks);\n\n        const listeners = this.tickListeners.get(symbol);\n\n        if (listeners) {\n            listeners.forEach(callback => callback(this.ticks.get(symbol)));\n        }\n    }\n\n    updateCandlesAndCallListeners(address, candles) {\n        if (this.ticks.getIn(address) === candles) {\n            return;\n        }\n        this.candles = this.candles.setIn(address, candles);\n\n        const listeners = this.ohlcListeners.getIn(address);\n\n        if (listeners) {\n            listeners.forEach(callback => callback(this.candles.getIn(address)));\n        }\n    }\n\n    observe() {\n        const subscription = api_base.api.onMessage().subscribe(({ data }) => {\n            if (data.msg_type === 'tick') {\n                const { tick } = data;\n                const { symbol, id } = tick;\n                if (this.ticks.has(symbol)) {\n                    this.subscriptions = this.subscriptions.setIn(['tick', symbol], id);\n                    this.updateTicksAndCallListeners(symbol, updateTicks(this.ticks.get(symbol), parseTick(tick)));\n                }\n            }\n\n            if (data.msg_type === 'ohlc') {\n                const { ohlc } = data;\n                const { symbol, granularity, id } = ohlc;\n                if (this.candles.hasIn([symbol, Number(granularity)])) {\n                    this.subscriptions = this.subscriptions.setIn(['ohlc', symbol, Number(granularity)], id);\n                    const address = [symbol, Number(granularity)];\n                    this.updateCandlesAndCallListeners(\n                        address,\n                        updateCandles(this.candles.getIn(address), parseOhlc(ohlc))\n                    );\n                }\n            }\n        });\n        api_base.pushSubscription(subscription);\n    }\n\n    requestStream(options) {\n        const { style } = options;\n        const stringified_options = JSON.stringify(options);\n\n        if (style === 'ticks') {\n            if (!this.ticks_history_promise || this.ticks_history_promise.stringified_options !== stringified_options) {\n                this.ticks_history_promise = {\n                    promise: this.requestPipSizes().then(() => this.requestTicks(options)),\n                    stringified_options,\n                };\n            }\n\n            return this.ticks_history_promise.promise;\n        }\n\n        if (style === 'candles') {\n            if (!this.candles_promise || this.candles_promise.stringified_options !== stringified_options) {\n                this.candles_promise = {\n                    promise: this.requestPipSizes().then(() => this.requestTicks(options)),\n                    stringified_options,\n                };\n            }\n\n            return this.candles_promise.promise;\n        }\n\n        return [];\n    }\n\n    requestTicks(options) {\n        const { symbol, granularity, style } = options;\n        const request_object = {\n            ticks_history: symbol,\n            subscribe: 1,\n            end: 'latest',\n            count: 1000,\n            granularity: granularity ? Number(granularity) : undefined,\n            style,\n        };\n        return new Promise((resolve, reject) => {\n            doUntilDone(() => api_base.api.send(request_object), [], api_base)\n                .then(r => {\n                    if (style === 'ticks') {\n                        const ticks = historyToTicks(r.history);\n\n                        this.updateTicksAndCallListeners(symbol, ticks);\n                        resolve(ticks);\n                    } else {\n                        const candles = parseCandles(r.candles);\n\n                        this.updateCandlesAndCallListeners([symbol, Number(granularity)], candles);\n\n                        resolve(candles);\n                    }\n                })\n                .catch(reject);\n        });\n    }\n\n    forget = subscription_id => {\n        if (subscription_id) {\n            api_base.api.forget(subscription_id);\n        }\n    };\n\n    unsubscribeFromTicksService() {\n        if (this.ticks_history_promise) {\n            const { stringified_options } = this.ticks_history_promise;\n            const { symbol = '' } = JSON.parse(stringified_options);\n            if (symbol) {\n                this.forget(this.subscriptions.getIn(['tick', symbol]));\n            }\n        }\n        if (this.candles_promise) {\n            const { stringified_options } = this.candles_promise;\n            const { symbol = '' } = JSON.parse(stringified_options);\n            if (symbol) {\n                this.forget(this.subscriptions.getIn(['candle', symbol]));\n            }\n        }\n    }\n}\n","import TicksService from '../../api/ticks_service';\nimport Observer from '../../../utils/observer';\n\nexport const createScope = () => {\n    const observer = new Observer();\n    const ticksService = new TicksService();\n    const stopped = false;\n    return { observer, ticksService, stopped };\n};\n","import { observer as globalObserver } from './observer';\n\nexport const createError = (name, message) => {\n    const e = new Error(message);\n    e.name = name;\n    e.code = name;\n    return e;\n};\n\nexport const trackAndEmitError = (message, object = {}) => {\n    globalObserver.emit('ui.log.error', message);\n    if (window.trackJs) {\n        trackJs.track(`${message} - Error: ${JSON.stringify(object)}`);\n    }\n};\n","import { localize } from '@deriv/translations';\nimport { createError } from '../../../utils/error';\n\nconst isPositiveNumber = num => Number.isFinite(num) && num > 0;\n\nconst isPositiveInteger = num => isPositiveNumber(num) && Number.isInteger(num);\n\nexport const expectPositiveInteger = (num, msg) => {\n    if (!isPositiveInteger(num)) {\n        throw createError('PositiveIntegerExpected', msg);\n    }\n    return num;\n};\n\nconst expectOptions = options => {\n    const { symbol, contractTypes } = options;\n\n    if (!symbol) {\n        throw createError('OptionError', localize('Underlying market is not selected'));\n    }\n\n    if (!contractTypes[0]) {\n        throw createError('OptionError', localize('Contract type is not selected'));\n    }\n};\n\nexport const expectInitArg = args => {\n    const [token, options] = args;\n\n    if (!token) {\n        throw createError('LoginError', localize('Please login'));\n    }\n\n    expectOptions(options);\n\n    return args;\n};\n\nconst isCandle = candle =>\n    candle instanceof Object &&\n    ['open', 'high', 'low', 'close'].every(key => isPositiveNumber(candle[key])) &&\n    isPositiveInteger(candle.epoch);\n\nexport const expectCandle = candle => {\n    if (!isCandle(candle)) {\n        throw createError('CandleExpected', localize('Given candle is not valid'));\n    }\n    return candle;\n};\n\nexport const expectCandles = candles => {\n    if (!(candles instanceof Array) || !candles.every(c => isCandle(c))) {\n        throw createError('CandleListExpected', localize('Given candle list is not valid'));\n    }\n    return candles;\n};\n","export const takeField = (arr, field) => arr.map(x => (field ? x[field] : x));\n\nexport const takeLast = (arr, n, field) => takeField(arr.slice(n > arr.length ? 0 : arr.length - n, arr.length), field);\n\nexport const sum = data => data.reduce((acc, x) => acc + x, 0);\n\nexport const mean = data => data.reduce((a, b) => a + b, 0) / data.length;\n\nexport const stddev = data => {\n    const data_mean = mean(data);\n    const sq_diff = data.map(n => Math.pow(n - data_mean, 2));\n    const avg_sq_diff = mean(sq_diff);\n    return Math.sqrt(avg_sq_diff);\n};\n","import { sequence } from '@deriv/shared';\nimport { sum, takeLast } from '../utils/math';\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nexport const simpleMovingAverage = (data, config) => {\n    const { periods, field } = config;\n\n    if (data.length < periods) {\n        throw new Error('Periods longer than data length');\n    }\n\n    const vals = takeLast(data, periods, field);\n\n    return sum(vals) / periods;\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nexport const simpleMovingAverageArray = (data, config) => {\n    const { periods, pipSize = 2 } = config;\n    return sequence(data.length - periods + 1).map(\n        (x, i) => +simpleMovingAverage(data.slice(i, i + periods), config).toFixed(pipSize)\n    );\n};\n","import { sequence } from '@deriv/shared';\nimport { simpleMovingAverage } from './simple-moving-average';\nimport { stddev, takeLast } from '../utils/math';\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  type: 'SMA' | 'WMA' | 'EMA' | 'TEMA' | 'TRIMA',\n *  stdDevUp: number,\n *  stdDevDown: number,\n *  pipSize: number,\n * }\n */\nexport const bollingerBands = (data, config) => {\n    const { periods = 20, field, stdDevUp = 2, stdDevDown = 2, pipSize = 2 } = config;\n    const vals = takeLast(data, periods, field);\n    const middle = simpleMovingAverage(vals, { periods });\n    const std_dev = stddev(vals);\n    const upper = middle + std_dev * stdDevUp;\n    const lower = middle - std_dev * stdDevDown;\n\n    return [+middle.toFixed(pipSize), +upper.toFixed(pipSize), +lower.toFixed(pipSize)];\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  type: 'SMA' | 'WMA' | 'EMA' | 'TEMA' | 'TRIMA',\n *  stdDevUp: number,\n *  stdDevDown: number,\n *  pipSize: number,\n * }\n */\nexport const bollingerBandsArray = (data, config) => {\n    const { periods } = config;\n    return sequence(data.length - periods + 1).map((x, i) => bollingerBands(data.slice(i, i + periods), config));\n};\n","import { takeField, mean } from '../utils/math';\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n * @param {Number} init_val\n */\nexport const exponentialMovingAverage = (data, config, init_val) => {\n    const { periods, field, pipSize = 2 } = config;\n\n    const weighting_multiplier = 2 / (periods + 1);\n\n    const vals = takeField(data, field);\n\n    if (init_val) {\n        return (vals[0] - init_val) * weighting_multiplier + init_val;\n    }\n\n    if (data.length < periods) {\n        throw new Error('Periods longer than data length');\n    }\n\n    const mean_val = mean(takeField(data.slice(0, periods), field));\n\n    return +vals\n        .slice(periods)\n        .reduce((prev, e) => (e - prev) * weighting_multiplier + prev, mean_val)\n        .toFixed(pipSize);\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nexport const exponentialMovingAverageArray = (data, config) => {\n    const { periods } = config;\n\n    let init_val = exponentialMovingAverage(data.slice(0, periods), config);\n\n    return data\n        .slice(periods - 1)\n        .map((x, i) => (!i ? init_val : (init_val = exponentialMovingAverage([x], config, init_val))));\n};\n","import { exponentialMovingAverageArray } from './exponential-moving-average';\nimport { takeField } from '../utils/math';\n\nconst paddingLeft = (data, length) => {\n    const arr = [];\n    arr.length = length - data.length;\n    arr.fill(0);\n    return [...arr, ...data];\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  fastEmaPeriod: number,\n *  slowEmaPeriod: number,\n *  signalEmaPeriod: number\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nexport const macdArray = (data, config) => {\n    const { field, fastEmaPeriod = 12, slowEmaPeriod = 26, signalEmaPeriod = 9, pipSize = 2 } = config;\n\n    const vals = takeField(data, field);\n\n    const length = vals.length;\n\n    const fast_ema_array = paddingLeft(\n        exponentialMovingAverageArray(\n            vals,\n            { periods: fastEmaPeriod, pipSize: 20, field }\n            // -------------------------- ^ set pipSize to 20 to prevent rounding\n        ),\n        length\n    );\n    const slow_ema_array = paddingLeft(\n        exponentialMovingAverageArray(vals, { periods: slowEmaPeriod, pipSize: 20, field }),\n        length\n    );\n\n    const macd_calc_array = paddingLeft(\n        slow_ema_array.map((x, i) => +(fast_ema_array[i] - x).toFixed(pipSize)),\n        length\n    );\n\n    const signal_ema_array = paddingLeft(\n        exponentialMovingAverageArray(macd_calc_array.slice(slowEmaPeriod - 1), {\n            periods: signalEmaPeriod,\n            pipSize: 20,\n            field,\n        }),\n        length\n    );\n\n    return macd_calc_array\n        .map((x, i) => [+(x - signal_ema_array[i]).toFixed(pipSize), x, +signal_ema_array[i].toFixed(pipSize)])\n        .slice(slowEmaPeriod + signalEmaPeriod - 2);\n};\n","import { sequence } from '@deriv/shared';\nimport { takeField } from '../utils/math';\n\nconst calcGain = (q1, q2) => (q2 > q1 ? q2 - q1 : 0);\nconst calcLoss = (q1, q2) => (q2 < q1 ? q1 - q2 : 0);\n\nconst calcFirstAvgDiff = (vals, comp, periods) => {\n    let prev;\n    return (\n        vals.reduce((r, q, i) => {\n            if (i === 1) {\n                prev = r;\n            }\n            const diff = comp(prev, q);\n            prev = q;\n            return diff + (i === 1 ? 0 : r);\n        }) / periods\n    );\n};\n\nconst calcSecondAvgDiff = (vals, comp, periods, init_avg) => {\n    let prev;\n    if (vals.length === 1) {\n        // There is no data to calc avg\n        return init_avg;\n    }\n    return vals.reduce((r, q, i) => {\n        if (i === 1) {\n            prev = r;\n        }\n        const diff = comp(prev, q);\n        prev = q;\n        const prev_avg = i === 1 ? init_avg : r;\n        return (prev_avg * (periods - 1) + diff) / periods;\n    });\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n * @param {any} memoized_diff\n */\nexport const relativeStrengthIndex = (data, config, memoized_diff) => {\n    const { periods, field } = config;\n\n    if (data.length < periods) {\n        throw new Error('Periods longer than data length');\n    }\n\n    if (data.length === periods) {\n        return 0;\n    }\n\n    const vals = takeField(data.slice(0, periods + 1), field);\n\n    let rest_seq, init_avg_gain, init_avg_loss;\n\n    if (memoized_diff && 'gain' in memoized_diff) {\n        rest_seq = takeField(data.slice(-2), field);\n\n        init_avg_gain = memoized_diff.gain;\n        init_avg_loss = memoized_diff.loss;\n    } else {\n        // include last element from above to calc diff\n        rest_seq = takeField(data.slice(periods, data.length), field);\n\n        init_avg_gain = calcFirstAvgDiff(vals, calcGain, periods);\n        init_avg_loss = calcFirstAvgDiff(vals, calcLoss, periods);\n    }\n\n    const avg_gain = calcSecondAvgDiff(rest_seq, calcGain, periods, init_avg_gain);\n    const avg_loss = calcSecondAvgDiff(rest_seq, calcLoss, periods, init_avg_loss);\n\n    if (memoized_diff) {\n        memoized_diff.gain = avg_gain;\n        memoized_diff.loss = avg_loss;\n    }\n\n    if (avg_gain === 0) {\n        return 0;\n    } else if (avg_loss === 0) {\n        return 100;\n    }\n\n    const RS = avg_gain / avg_loss;\n\n    return 100 - 100 / (1 + RS);\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nexport const relativeStrengthIndexArray = (data, config) => {\n    const { periods, pipSize = 2 } = config;\n    const memoized_diff = {};\n    return sequence(data.length - periods).map(\n        (x, i) => +relativeStrengthIndex(data.slice(0, i + periods + 1), config, memoized_diff).toFixed(pipSize)\n    );\n};\n","import {\n    simpleMovingAverage as sma,\n    simpleMovingAverageArray as smaa,\n    bollingerBands as bb,\n    bollingerBandsArray as bba,\n    exponentialMovingAverage as ema,\n    exponentialMovingAverageArray as emaa,\n    relativeStrengthIndex as rsi,\n    relativeStrengthIndexArray as rsia,\n    macdArray as macda,\n} from '@deriv/indicators';\n\nconst decorate = (f, input, tradeEngine, config, ...args) => {\n    const pipSize = tradeEngine.getPipSize();\n    return f(input, { pipSize, ...config }, ...args);\n};\n\nconst getIndicatorsInterface = tradeEngine => {\n    return {\n        sma: (input, periods) => decorate(sma, input, tradeEngine, { periods }),\n        smaa: (input, periods) => decorate(smaa, input, tradeEngine, { periods }),\n        ema: (input, periods) => decorate(ema, input, tradeEngine, { periods }),\n        emaa: (input, periods) => decorate(emaa, input, tradeEngine, { periods }),\n        rsi: (input, periods) => decorate(rsi, input, tradeEngine, { periods }),\n        rsia: (input, periods) => decorate(rsia, input, tradeEngine, { periods }),\n        bb: (input, config, field) => decorate(bb, input, tradeEngine, config)[field],\n        bba: (input, config, field) => decorate(bba, input, tradeEngine, config).map(r => r[field]),\n        macda: (input, config, field) => decorate(macda, input, tradeEngine, config).map(r => r[field]),\n    };\n};\n\nexport default getIndicatorsInterface;\n","import { localize } from '@deriv/translations';\nimport getCandleInterface from './CandleInterface';\nimport getIndicatorsInterface from './IndicatorsInterface';\nimport getMiscInterface from './MiscInterface';\n\nconst getToolsInterface = tradeEngine => {\n    return {\n        dateTimeStringToTimestamp: datetime_string => {\n            const invalid_msg = localize('Invalid date/time: {{ datetime_string }}', { datetime_string });\n\n            if (typeof datetime_string !== 'string') {\n                return invalid_msg;\n            }\n\n            const date_time = datetime_string\n                .replace(/[^0-9.:-\\s]/g, '')\n                .replace(/\\s+/g, ' ')\n                .trim()\n                .split(' ');\n\n            const d = /^[12]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$/;\n            const t = /^(0[0-9]|1[0-9]|2[0-3]):([0-5][0-9])(:([0-5][0-9])?)?$/;\n\n            let validated_datetime;\n\n            if (date_time.length >= 2) {\n                validated_datetime =\n                    d.test(date_time[0]) && t.test(date_time[1]) ? `${date_time[0]}T${date_time[1]}` : null;\n            } else if (date_time.length === 1) {\n                validated_datetime = d.test(date_time[0]) ? date_time[0] : null;\n            } else {\n                validated_datetime = null;\n            }\n\n            if (validated_datetime) {\n                const date_obj = new Date(validated_datetime);\n                // eslint-disable-next-line no-restricted-globals\n                if (date_obj instanceof Date && !isNaN(date_obj)) {\n                    return date_obj.getTime() / 1000;\n                }\n            }\n\n            return invalid_msg;\n        },\n        getTime: () => parseInt(new Date().getTime() / 1000),\n        ...getCandleInterface(),\n        ...getMiscInterface(tradeEngine),\n        ...getIndicatorsInterface(tradeEngine),\n\n        // Highlight the block that is being executed\n        highlightBlock: block_id => {\n            const block = Blockly.derivWorkspace.getBlockById(block_id);\n\n            if (block) {\n                block.highlightExecutedBlock(block);\n            }\n        },\n    };\n};\n\nexport default getToolsInterface;\n","import { expectCandle, expectCandles } from '../utils/sanitize';\n\nconst getCandleInterface = () => {\n    return {\n        isCandleBlack: candle => expectCandle(candle) && candle.close < candle.open,\n        candleValues: (ohlc, field) => expectCandles(ohlc).map(o => o[field]),\n        candleField: (candle, field) => expectCandle(candle)[field],\n    };\n};\n\nexport default getCandleInterface;\n","import { localize } from '@deriv/translations';\nimport { notify } from '../utils/broadcast';\nimport { observer as globalObserver } from '../../../utils/observer';\n\nconst getMiscInterface = tradeEngine => {\n    return {\n        notify: args => globalObserver.emit('ui.log.notify', args),\n        console: ({ type, message }) => console[type](message), // eslint-disable-line no-console\n        notifyTelegram: (access_token, chat_id, text) => {\n            const url = `https://api.telegram.org/bot${access_token}/sendMessage`;\n            const onError = () => notify('warn', localize('The Telegram notification could not be sent'));\n\n            fetch(url, {\n                method: 'POST',\n                mode: 'cors',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ chat_id, text }),\n            })\n                .then(response => {\n                    if (!response.ok) {\n                        onError();\n                    }\n                })\n                .catch(onError);\n        },\n        getTotalRuns: () => tradeEngine.getTotalRuns(),\n        getBalance: type => tradeEngine.getBalance(type),\n        getTotalProfit: toString => tradeEngine.getTotalProfit(toString, tradeEngine.tradeOptions.currency),\n    };\n};\n\nexport default getMiscInterface;\n","const getTicksInterface = tradeEngine => {\n    return {\n        getLastTick: (...args) => tradeEngine.getLastTick(...args),\n        getLastDigit: (...args) => tradeEngine.getLastDigit(...args),\n        getTicks: (...args) => tradeEngine.getTicks(...args),\n        checkDirection: (...args) => tradeEngine.checkDirection(...args),\n        getOhlcFromEnd: (...args) => tradeEngine.getOhlcFromEnd(...args),\n        getOhlc: (...args) => tradeEngine.getOhlc(...args),\n        getLastDigitList: (...args) => tradeEngine.getLastDigitList(...args),\n    };\n};\n\nexport default getTicksInterface;\n","import { observer as globalObserver } from '../../../utils/observer';\nimport { createDetails } from '../utils/helpers';\n\nconst getBotInterface = tradeEngine => {\n    const getDetail = i => createDetails(tradeEngine.data.contract)[i];\n\n    return {\n        init: (...args) => tradeEngine.init(...args),\n        start: (...args) => tradeEngine.start(...args),\n        stop: (...args) => tradeEngine.stop(...args),\n        purchase: contract_type => tradeEngine.purchase(contract_type),\n        getAskPrice: contract_type => Number(getProposal(contract_type, tradeEngine).ask_price),\n        getPayout: contract_type => Number(getProposal(contract_type, tradeEngine).payout),\n        getPurchaseReference: () => tradeEngine.getPurchaseReference(),\n        isSellAvailable: () => tradeEngine.isSellAtMarketAvailable(),\n        sellAtMarket: () => tradeEngine.sellAtMarket(),\n        getSellPrice: () => getSellPrice(tradeEngine),\n        isResult: result => getDetail(10) === result,\n        isTradeAgain: result => globalObserver.emit('bot.trade_again', result),\n        readDetails: i => getDetail(i - 1),\n    };\n};\n\nconst getProposal = (contract_type, tradeEngine) => {\n    return tradeEngine.data.proposals.find(\n        proposal =>\n            proposal.contract_type === contract_type &&\n            proposal.purchase_reference === tradeEngine.getPurchaseReference()\n    );\n};\n\nconst getSellPrice = tradeEngine => {\n    return tradeEngine.getSellPrice();\n};\n\nexport default getBotInterface;\n","import { getFormattedText } from '@deriv/shared';\nimport { info } from '../utils/broadcast';\nimport DBotStore from '../../../scratch/dbot-store';\nimport { api_base } from '../../api/api-base';\n\nlet balance_string = '';\n\nexport default Engine =>\n    class Balance extends Engine {\n        observeBalance() {\n            const subscription = api_base.api.onMessage().subscribe(({ data }) => {\n                if (data.msg_type === 'balance') {\n                    const {\n                        balance: { balance: b, currency },\n                    } = data;\n\n                    balance_string = getFormattedText(b, currency);\n\n                    info({ accountID: this.accountInfo.loginid, balance: balance_string });\n                }\n            });\n            api_base.pushSubscription(subscription);\n        }\n\n        // eslint-disable-next-line class-methods-use-this\n        getBalance(type) {\n            const { client } = DBotStore.instance;\n            const balance = (client && client.balance) || 0;\n\n            balance_string = getFormattedText(balance, client.currency, false);\n            return type === 'STR' ? balance_string : balance;\n        }\n    };\n","export const BEFORE_PURCHASE = 'BEFORE_PURCHASE';\nexport const DURING_PURCHASE = 'DURING_PURCHASE';\nexport const PROPOSALS_READY = 'PROPOSALS_READY';\nexport const CLEAR_PROPOSALS = 'CLEAR_PROPOSALS';\nexport const PURCHASE_SUCCESSFUL = 'PURCHASE_SUCCESSFUL';\nexport const OPEN_CONTRACT = 'OPEN_CONTRACT';\nexport const INVALID_ACTION = 'INVALID_ACTION';\nexport const SELL = 'SELL';\nexport const START = 'START';\nexport const STOP = 'STOP';\nexport const NEW_TICK = 'NEW_TICK';\n","import * as constants from '../constants';\n\nconst dispatchIfScopeIs = ({ dispatch, getState, data, scope }) => {\n    const { scope: currentScope } = getState();\n    if (currentScope === scope) {\n        dispatch(data);\n    }\n};\n\nconst dispatchIfScopeIsBeforePurchase = args => dispatchIfScopeIs({ ...args, scope: constants.BEFORE_PURCHASE });\n\nexport const start = () => (dispatch, getState) =>\n    dispatchIfScopeIs({ dispatch, getState, data: { type: constants.START }, scope: constants.STOP });\n\nexport const proposalsReady = () => ({ type: constants.PROPOSALS_READY });\n\nexport const clearProposals = () => ({ type: constants.CLEAR_PROPOSALS });\n\nconst dispatchIfBeforePurchaseReady = args => {\n    const { getState } = args;\n    const { proposalsReady: beforePurchaseReady } = getState();\n    if (beforePurchaseReady) {\n        dispatchIfScopeIsBeforePurchase(args);\n    }\n};\nexport const purchaseSuccessful = () => (dispatch, getState) =>\n    dispatchIfBeforePurchaseReady({ dispatch, getState, data: { type: constants.PURCHASE_SUCCESSFUL } });\n\nexport const openContractReceived = () => (dispatch, getState) => {\n    const { scope: currentScope } = getState();\n    if (currentScope === constants.DURING_PURCHASE) {\n        dispatch({ type: constants.OPEN_CONTRACT });\n    }\n    dispatchIfBeforePurchaseReady({ dispatch, getState, data: { type: constants.OPEN_CONTRACT } });\n};\n\nexport const sell = () => (dispatch, getState) =>\n    dispatchIfScopeIs({ dispatch, getState, data: { type: constants.SELL }, scope: constants.DURING_PURCHASE });\n","import { purchaseSuccessful } from './state/actions';\nimport { BEFORE_PURCHASE } from './state/constants';\nimport { contractStatus, info, log } from '../utils/broadcast';\nimport { getUUID, recoverFromError, doUntilDone } from '../utils/helpers';\nimport { log_types } from '../../../constants/messages';\nimport { api_base } from '../../api/api-base';\n\nlet delayIndex = 0;\nlet purchase_reference;\n\nexport default Engine =>\n    class Purchase extends Engine {\n        purchase(contract_type) {\n            // Prevent calling purchase twice\n            if (this.store.getState().scope !== BEFORE_PURCHASE) {\n                return Promise.resolve();\n            }\n\n            const { id, askPrice } = this.selectProposal(contract_type);\n\n            const onSuccess = response => {\n                // Don't unnecessarily send a forget request for a purchased contract.\n                this.data.proposals = this.data.proposals.filter(p => p.id !== response.echo_req.buy);\n                const { buy } = response;\n\n                contractStatus({\n                    id: 'contract.purchase_received',\n                    data: buy.transaction_id,\n                    buy,\n                });\n\n                this.contractId = buy.contract_id;\n                this.store.dispatch(purchaseSuccessful());\n                this.renewProposalsOnPurchase();\n                delayIndex = 0;\n                log(log_types.PURCHASE, { longcode: buy.longcode, transaction_id: buy.transaction_id });\n                info({\n                    accountID: this.accountInfo.loginid,\n                    totalRuns: this.updateAndReturnTotalRuns(),\n                    transaction_ids: { buy: buy.transaction_id },\n                    contract_type,\n                    buy_price: buy.buy_price,\n                });\n            };\n            const action = () => api_base.api.send({ buy: id, price: askPrice });\n            this.isSold = false;\n            contractStatus({\n                id: 'contract.purchase_sent',\n                data: askPrice,\n            });\n\n            if (!this.options.timeMachineEnabled) {\n                return doUntilDone(action).then(onSuccess);\n            }\n            return recoverFromError(\n                action,\n                (errorCode, makeDelay) => {\n                    // if disconnected no need to resubscription (handled by live-api)\n                    if (errorCode !== 'DisconnectError') {\n                        this.renewProposalsOnPurchase();\n                    } else {\n                        this.clearProposals();\n                    }\n\n                    const unsubscribe = this.store.subscribe(() => {\n                        const { scope, proposalsReady } = this.store.getState();\n                        if (scope === BEFORE_PURCHASE && proposalsReady) {\n                            makeDelay().then(() => this.observer.emit('REVERT', 'before'));\n                            unsubscribe();\n                        }\n                    });\n                },\n                ['PriceMoved', 'InvalidContractProposal'],\n                delayIndex++\n            ).then(onSuccess);\n        }\n        getPurchaseReference = () => purchase_reference;\n        regeneratePurchaseReference = () => {\n            purchase_reference = getUUID();\n        };\n    };\n","import * as constants from '../constants';\n\nconst initialState = {\n    scope: constants.STOP,\n    proposalsReady: false,\n};\n\nconst signal = (state = initialState, action) => {\n    switch (action.type) {\n        case constants.START:\n            return {\n                scope: constants.BEFORE_PURCHASE,\n                proposalsReady: state.proposalsReady,\n            };\n        case constants.PROPOSALS_READY:\n            return {\n                ...state,\n                proposalsReady: true,\n            };\n        case constants.CLEAR_PROPOSALS:\n            return {\n                ...state,\n                proposalsReady: false,\n            };\n        case constants.PURCHASE_SUCCESSFUL:\n            return {\n                scope: constants.DURING_PURCHASE,\n                openContract: false,\n                proposalsReady: state.proposalsReady,\n            };\n        case constants.OPEN_CONTRACT:\n            return {\n                scope: constants.DURING_PURCHASE,\n                openContract: true,\n                proposalsReady: state.proposalsReady,\n            };\n        case constants.SELL:\n            return {\n                scope: constants.STOP,\n                proposalsReady: state.proposalsReady,\n            };\n        case constants.NEW_TICK:\n            return {\n                ...state,\n                newTick: action.payload,\n            };\n        default:\n            return state;\n    }\n};\n\nexport default signal;\n","import { getLast } from 'binary-utils';\nimport { localize } from '@deriv/translations';\nimport * as constants from './state/constants';\nimport { getDirection, getLastDigit } from '../utils/helpers';\nimport { expectPositiveInteger } from '../utils/sanitize';\nimport { observer as globalObserver } from '../../../utils/observer';\n\nlet tickListenerKey;\n\nexport default Engine =>\n    class Ticks extends Engine {\n        watchTicks(symbol) {\n            if (symbol && this.symbol !== symbol) {\n                const { ticksService } = this.$scope;\n\n                ticksService.stopMonitor({\n                    symbol,\n                    key: tickListenerKey,\n                });\n\n                const callback = ticks => {\n                    this.checkProposalReady();\n                    const lastTick = ticks.slice(-1)[0];\n                    const { epoch } = lastTick;\n                    this.store.dispatch({ type: constants.NEW_TICK, payload: epoch });\n                };\n\n                const key = ticksService.monitor({ symbol, callback });\n\n                this.symbol = symbol;\n\n                tickListenerKey = key;\n            }\n        }\n\n        getTicks(toString = false) {\n            return new Promise(resolve => {\n                this.$scope.ticksService.request({ symbol: this.symbol }).then(ticks => {\n                    const ticks_list = ticks.map(tick => {\n                        if (toString) {\n                            return tick.quote.toFixed(this.getPipSize());\n                        }\n                        return tick.quote;\n                    });\n\n                    resolve(ticks_list);\n                });\n            });\n        }\n\n        getLastTick(raw, toString = false) {\n            return new Promise(resolve =>\n                this.$scope.ticksService\n                    .request({ symbol: this.symbol })\n                    .then(ticks => {\n                        let last_tick = raw ? getLast(ticks) : getLast(ticks).quote;\n                        if (!raw && toString) {\n                            last_tick = last_tick.toFixed(this.getPipSize());\n                        }\n                        resolve(last_tick);\n                    })\n                    .catch(e => {\n                        if (e.code === 'MarketIsClosed') {\n                            globalObserver.emit('Error', e);\n                            resolve(e.code);\n                        }\n                    })\n            );\n        }\n\n        getLastDigit() {\n            return new Promise(resolve => this.getLastTick(false, true).then(tick => resolve(getLastDigit(tick))));\n        }\n\n        getLastDigitList() {\n            return new Promise(resolve => this.getTicks().then(ticks => resolve(this.getLastDigitsFromList(ticks))));\n        }\n        getLastDigitsFromList(ticks) {\n            const digits = ticks.map(tick => {\n                return getLastDigit(tick.toFixed(this.getPipSize()));\n            });\n            return digits;\n        }\n\n        checkDirection(dir) {\n            return new Promise(resolve =>\n                this.$scope.ticksService\n                    .request({ symbol: this.symbol })\n                    .then(ticks => resolve(getDirection(ticks) === dir))\n            );\n        }\n\n        getOhlc(args) {\n            const { granularity = this.options.candleInterval || 60, field } = args || {};\n\n            return new Promise(resolve =>\n                this.$scope.ticksService\n                    .request({ symbol: this.symbol, granularity })\n                    .then(ohlc => resolve(field ? ohlc.map(o => o[field]) : ohlc))\n            );\n        }\n\n        getOhlcFromEnd(args) {\n            const { index: i = 1 } = args || {};\n\n            const index = expectPositiveInteger(Number(i), localize('Index must be a positive integer'));\n\n            return new Promise(resolve => this.getOhlc(args).then(ohlc => resolve(ohlc.slice(-index)[0])));\n        }\n\n        getPipSize() {\n            return this.$scope.ticksService.pipSizes[this.symbol];\n        }\n    };\n","import { getRoundedNumber } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { info, log } from '../utils/broadcast';\nimport { createError } from '../../../utils/error';\nimport { observer as globalObserver } from '../../../utils/observer';\nimport { log_types } from '../../../constants/messages';\n\nconst skeleton = {\n    totalProfit: 0,\n    totalWins: 0,\n    totalLosses: 0,\n    totalStake: 0,\n    totalPayout: 0,\n    totalRuns: 0,\n};\n\nconst globalStat = {};\n\nexport default Engine =>\n    class Total extends Engine {\n        constructor() {\n            super();\n            this.sessionRuns = 0;\n            this.sessionProfit = 0;\n\n            globalObserver.register('statistics.clear', this.clearStatistics.bind(this));\n        }\n\n        clearStatistics() {\n            this.sessionRuns = 0;\n            this.sessionProfit = 0;\n            if (!this.accountInfo) return;\n            const { loginid: accountID } = this.accountInfo;\n            globalStat[accountID] = { ...skeleton };\n        }\n\n        updateTotals(contract) {\n            const { sell_price: sellPrice, buy_price: buyPrice, currency } = contract;\n\n            const profit = getRoundedNumber(Number(sellPrice) - Number(buyPrice), currency);\n\n            const win = profit > 0;\n\n            const accountStat = this.getAccountStat();\n\n            accountStat.totalWins += win ? 1 : 0;\n\n            accountStat.totalLosses += !win ? 1 : 0;\n\n            this.sessionProfit = getRoundedNumber(Number(this.sessionProfit) + Number(profit), currency);\n\n            accountStat.totalProfit = getRoundedNumber(Number(accountStat.totalProfit) + Number(profit), currency);\n\n            accountStat.totalStake = getRoundedNumber(Number(accountStat.totalStake) + Number(buyPrice), currency);\n\n            accountStat.totalPayout = getRoundedNumber(Number(accountStat.totalPayout) + Number(sellPrice), currency);\n\n            info({\n                profit,\n                contract,\n                accountID: this.accountInfo.loginid,\n                totalProfit: accountStat.totalProfit,\n                totalWins: accountStat.totalWins,\n                totalLosses: accountStat.totalLosses,\n                totalStake: accountStat.totalStake,\n                totalPayout: accountStat.totalPayout,\n            });\n\n            log(win ? log_types.PROFIT : log_types.LOST, { currency, profit });\n        }\n\n        updateAndReturnTotalRuns() {\n            this.sessionRuns++;\n            const accountStat = this.getAccountStat();\n\n            return ++accountStat.totalRuns;\n        }\n\n        /* eslint-disable class-methods-use-this */\n        getTotalRuns() {\n            const accountStat = this.getAccountStat();\n            return accountStat.totalRuns;\n        }\n\n        getTotalProfit(toString, currency) {\n            const accountStat = this.getAccountStat();\n\n            return toString && accountStat.totalProfit !== 0\n                ? getRoundedNumber(+accountStat.totalProfit, currency)\n                : +accountStat.totalProfit;\n        }\n\n        /* eslint-enable */\n        checkLimits(tradeOption) {\n            if (!tradeOption.limitations) {\n                return;\n            }\n\n            const {\n                limitations: { maxLoss, maxTrades },\n            } = tradeOption;\n\n            if (maxLoss && maxTrades) {\n                if (this.sessionRuns >= maxTrades) {\n                    throw createError('CustomLimitsReached', localize('Maximum number of trades reached'));\n                }\n                if (this.sessionProfit <= -maxLoss) {\n                    throw createError('CustomLimitsReached', localize('Maximum loss amount reached'));\n                }\n            }\n        }\n\n        getAccountStat() {\n            const { loginid: accountID } = this.accountInfo;\n\n            if (!(accountID in globalStat)) {\n                globalStat[accountID] = { ...skeleton };\n            }\n\n            return globalStat[accountID];\n        }\n    };\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { localize } from '@deriv/translations';\nimport Balance from './Balance';\nimport OpenContract from './OpenContract';\nimport Proposal from './Proposal';\nimport Purchase from './Purchase';\nimport Sell from './Sell';\nimport { start } from './state/actions';\nimport * as constants from './state/constants';\nimport rootReducer from './state/reducers';\nimport Ticks from './Ticks';\nimport Total from './Total';\nimport { doUntilDone } from '../utils/helpers';\nimport { expectInitArg } from '../utils/sanitize';\nimport { createError } from '../../../utils/error';\nimport { observer as globalObserver } from '../../../utils/observer';\nimport { api_base } from '../../api/api-base';\n\nconst watchBefore = store =>\n    watchScope({\n        store,\n        stopScope: constants.DURING_PURCHASE,\n        passScope: constants.BEFORE_PURCHASE,\n        passFlag: 'proposalsReady',\n    });\n\nconst watchDuring = store =>\n    watchScope({\n        store,\n        stopScope: constants.STOP,\n        passScope: constants.DURING_PURCHASE,\n        passFlag: 'openContract',\n    });\n\n/* The watchScope function is called randomly and resets the prevTick\n * which leads to the same problem we try to solve. So prevTick is isolated\n */\nlet prevTick;\nconst watchScope = ({ store, stopScope, passScope, passFlag }) => {\n    // in case watch is called after stop is fired\n    if (store.getState().scope === stopScope) {\n        return Promise.resolve(false);\n    }\n    return new Promise(resolve => {\n        const unsubscribe = store.subscribe(() => {\n            const newState = store.getState();\n\n            if (newState.newTick === prevTick) return;\n            prevTick = newState.newTick;\n\n            if (newState.scope === passScope && newState[passFlag]) {\n                unsubscribe();\n                resolve(true);\n            }\n\n            if (newState.scope === stopScope) {\n                unsubscribe();\n                resolve(false);\n            }\n        });\n    });\n};\n\nexport default class TradeEngine extends Balance(Purchase(Sell(OpenContract(Proposal(Ticks(Total(class {}))))))) {\n    constructor($scope) {\n        super();\n        this.observer = $scope.observer;\n        this.$scope = $scope;\n        this.observe();\n        this.data = {\n            contract: {},\n            proposals: [],\n        };\n        this.store = createStore(rootReducer, applyMiddleware(thunk));\n    }\n\n    init(...args) {\n        const [token, options] = expectInitArg(args);\n        const { symbol } = options;\n\n        this.initArgs = args;\n        this.options = options;\n        this.startPromise = this.loginAndGetBalance(token);\n\n        this.watchTicks(symbol);\n    }\n\n    start(tradeOptions) {\n        if (!this.options) {\n            throw createError('NotInitialized', localize('Bot.init is not called'));\n        }\n\n        globalObserver.emit('bot.running');\n\n        this.tradeOptions = tradeOptions;\n        this.store.dispatch(start());\n        this.checkLimits(tradeOptions);\n        this.makeProposals({ ...this.options, ...tradeOptions });\n        this.checkProposalReady();\n    }\n\n    loginAndGetBalance(token) {\n        if (this.token === token) {\n            return Promise.resolve();\n        }\n        return new Promise(resolve => {\n            // Try to recover from a situation where API doesn't give us a correct response on\n            // \"proposal_open_contract\" which would make the bot run forever. When there's a \"sell\"\n            // event, wait a couple seconds for the API to give us the correct \"proposal_open_contract\"\n            // response, if there's none after x seconds. Send an explicit request, which _should_\n            // solve the issue. This is a backup!\n            const subscription = api_base.api.onMessage().subscribe(({ data }) => {\n                if (data.msg_type === 'transaction' && data.transaction.action === 'sell') {\n                    this.transaction_recovery_timeout = setTimeout(() => {\n                        const { contract } = this.data;\n                        const is_same_contract = contract.contract_id === data.transaction.contract_id;\n                        const is_open_contract = contract.status === 'open';\n                        if (is_same_contract && is_open_contract) {\n                            doUntilDone(() => {\n                                api_base.api.send({ proposal_open_contract: 1, contract_id: contract.contract_id });\n                            }, ['PriceMoved']);\n                        }\n                    }, 1500);\n                }\n                this.accountInfo = api_base.account_info;\n                this.token = api_base.token;\n                resolve();\n            });\n            api_base.pushSubscription(subscription);\n        });\n    }\n\n    observe() {\n        this.observeOpenContract();\n        this.observeBalance();\n        this.observeProposals();\n    }\n\n    watch(watchName) {\n        if (watchName === 'before') {\n            return watchBefore(this.store);\n        }\n        return watchDuring(this.store);\n    }\n}\n","import { DURING_PURCHASE } from './state/constants';\nimport { contractStatus, log } from '../utils/broadcast';\nimport { recoverFromError, doUntilDone } from '../utils/helpers';\nimport { log_types } from '../../../constants/messages';\nimport { observer as globalObserver } from '../../../utils/observer';\nimport { api_base } from '../../api/api-base';\n\nexport default Engine =>\n    class Sell extends Engine {\n        isSellAtMarketAvailable() {\n            return this.contractId && !this.isSold && this.isSellAvailable && !this.isExpired;\n        }\n\n        sellAtMarket() {\n            globalObserver.emit('bot.sell');\n\n            // Prevent calling sell twice\n            if (this.store.getState().scope !== DURING_PURCHASE) {\n                return Promise.resolve();\n            }\n\n            if (!this.isSellAtMarketAvailable()) {\n                log(log_types.NOT_OFFERED);\n                return Promise.resolve();\n            }\n\n            let delay_index = 1;\n\n            return new Promise(resolve => {\n                const onContractSold = sell_response => {\n                    delay_index = 1;\n\n                    if (sell_response) {\n                        const { sold_for } = sell_response.sell;\n                        log(log_types.SELL, { sold_for });\n                    }\n\n                    contractStatus('purchase.sold');\n                    this.waitForAfter();\n                    resolve();\n                };\n\n                const contract_id = this.contractId;\n\n                const sellContractAndGetContractInfo = () => {\n                    return doUntilDone(() => api_base.api.send({ sell: contract_id, price: 0 }))\n                        .then(sell_response => {\n                            doUntilDone(() => api_base.api.send({ proposal_open_contract: 1, contract_id })).then(\n                                () => sell_response\n                            );\n                        })\n                        .catch(e => {\n                            const error = e.error;\n                            if (error.code === 'InvalidOfferings') {\n                                // \"InvalidOfferings\" may occur when user tries to sell the contract too close\n                                // to the expiry time. We shouldn't interrupt the bot but instead let the contract\n                                // finish.\n                                return Promise.resolve();\n                            }\n\n                            const sell_error = {\n                                name: error.code,\n                                message: error.message,\n                                msg_type: e.msg_type,\n                                error: { ...error.error },\n                            };\n\n                            if (error.code === 'RateLimit') {\n                                return Promise.reject(sell_error);\n                            }\n\n                            // For every other error, check whether the contract is not actually already sold.\n                            return doUntilDone(() =>\n                                api_base.api.send({\n                                    proposal_open_contract: 1,\n                                    contract_id,\n                                })\n                            ).then(proposal_open_contract_response => {\n                                const { proposal_open_contract } = proposal_open_contract_response;\n\n                                if (proposal_open_contract.status !== 'sold') {\n                                    return Promise.reject(sell_error);\n                                }\n\n                                // If the contract is sold at this point it means there was a race condition.\n                                // Pretend this sell request was successful and mislead the trade engine into\n                                // moving onto the next scope.\n                                return Promise.resolve({\n                                    sell: {\n                                        sold_for: proposal_open_contract.sell_price,\n                                    },\n                                });\n                            });\n                        });\n                };\n\n                const errors_to_ignore = ['NoOpenPosition', 'InvalidSellContractProposal', 'UnrecognisedRequest'];\n\n                // Restart buy/sell on error is enabled, don't recover from sell error.\n                if (!this.options.timeMachineEnabled) {\n                    return doUntilDone(sellContractAndGetContractInfo, errors_to_ignore).then(sell_response =>\n                        onContractSold(sell_response)\n                    );\n                }\n\n                // If above checkbox not checked, try to recover from sell error.\n                const recoverFn = (error_code, makeDelay) => {\n                    return makeDelay().then(() => this.observer.emit('REVERT', 'during'));\n                };\n                return recoverFromError(\n                    sellContractAndGetContractInfo,\n                    recoverFn,\n                    errors_to_ignore,\n                    delay_index++\n                ).then(sell_response => onContractSold(sell_response));\n            });\n        }\n    };\n","import { getRoundedNumber } from '@deriv/shared';\nimport { sell, openContractReceived } from './state/actions';\nimport { contractStatus, contract as broadcastContract } from '../utils/broadcast';\nimport { api_base } from '../../api/api-base';\n\nexport default Engine =>\n    class OpenContract extends Engine {\n        observeOpenContract() {\n            const subscription = api_base.api.onMessage().subscribe(({ data }) => {\n                if (data.msg_type === 'proposal_open_contract') {\n                    const contract = data.proposal_open_contract;\n\n                    if (!contract || !this.expectedContractId(contract?.contract_id)) {\n                        return;\n                    }\n\n                    this.setContractFlags(contract);\n\n                    this.data.contract = contract;\n\n                    broadcastContract({ accountID: api_base.account_info.loginid, ...contract });\n\n                    if (this.isSold) {\n                        this.contractId = '';\n                        clearTimeout(this.transaction_recovery_timeout);\n                        this.updateTotals(contract);\n                        contractStatus({\n                            id: 'contract.sold',\n                            data: contract.transaction_ids.sell,\n                            contract,\n                        });\n\n                        if (this.afterPromise) {\n                            this.afterPromise();\n                        }\n\n                        this.store.dispatch(sell());\n                    } else {\n                        this.store.dispatch(openContractReceived());\n                    }\n                }\n            });\n            api_base.pushSubscription(subscription);\n        }\n\n        waitForAfter() {\n            return new Promise(resolve => {\n                this.afterPromise = resolve;\n            });\n        }\n\n        setContractFlags(contract) {\n            const { is_expired, is_valid_to_sell, is_sold, entry_tick } = contract;\n\n            this.isSold = Boolean(is_sold);\n            this.isSellAvailable = !this.isSold && Boolean(is_valid_to_sell);\n            this.isExpired = Boolean(is_expired);\n            this.hasEntryTick = Boolean(entry_tick);\n        }\n\n        expectedContractId(contractId) {\n            return this.contractId && contractId === this.contractId;\n        }\n\n        getSellPrice() {\n            const { bid_price: bidPrice, buy_price: buyPrice, currency } = this.data.contract;\n            return getRoundedNumber(Number(bidPrice) - Number(buyPrice), currency);\n        }\n    };\n","import { localize } from '@deriv/translations';\nimport { proposalsReady, clearProposals } from './state/actions';\nimport { tradeOptionToProposal, doUntilDone } from '../utils/helpers';\nimport { api_base } from '../../api/api-base';\n\nexport default Engine =>\n    class Proposal extends Engine {\n        makeProposals(trade_option) {\n            if (!this.isNewTradeOption(trade_option)) {\n                return;\n            }\n\n            // Generate a purchase reference when trade options are different from previous trade options.\n            // This will ensure the bot doesn't mistakenly purchase the wrong proposal.\n            this.regeneratePurchaseReference();\n            this.trade_option = trade_option;\n            this.proposal_templates = tradeOptionToProposal(trade_option, this.getPurchaseReference());\n            this.renewProposalsOnPurchase();\n        }\n\n        selectProposal(contract_type) {\n            const { proposals } = this.data;\n\n            if (proposals.length === 0) {\n                throw Error(localize('Proposals are not ready'));\n            }\n\n            const to_buy = proposals.find(proposal => {\n                if (\n                    proposal.contract_type === contract_type &&\n                    proposal.purchase_reference === this.getPurchaseReference()\n                ) {\n                    // Below happens when a user has had one of the proposals return\n                    // with a ContractBuyValidationError. We allow the logic to continue\n                    // to here cause the opposite proposal may still be valid. Only once\n                    // they attempt to purchase the errored proposal we will intervene.\n                    if (proposal.error) {\n                        throw proposal.error;\n                    }\n\n                    return proposal;\n                }\n\n                return false;\n            });\n\n            if (!to_buy) {\n                throw new Error(localize('Selected proposal does not exist'));\n            }\n\n            return {\n                id: to_buy.id,\n                askPrice: to_buy.ask_price,\n            };\n        }\n\n        renewProposalsOnPurchase() {\n            this.data.proposals = [];\n            this.store.dispatch(clearProposals());\n            this.requestProposals();\n        }\n\n        requestProposals() {\n            // Since there are two proposals (in most cases), an error may be logged twice, to avoid this\n            // flip this boolean on error.\n            let has_informed_error = false;\n\n            Promise.all(\n                this.proposal_templates.map(proposal => {\n                    doUntilDone(() => api_base.api.send(proposal)).catch(error => {\n                        // We intercept ContractBuyValidationError as user may have specified\n                        // e.g. a DIGITUNDER 0 or DIGITOVER 9, while one proposal may be invalid\n                        // the other is valid. We will error on Purchase rather than here.\n\n                        if (error.error.code === 'ContractBuyValidationError') {\n                            this.data.proposals.push({\n                                ...error.error.echo_req,\n                                ...error.echo_req.passthrough,\n                                error,\n                            });\n\n                            return null;\n                        }\n                        if (!has_informed_error) {\n                            has_informed_error = true;\n                            this.$scope.observer.emit('Error', error.error);\n                        }\n                        return null;\n                    });\n                })\n            );\n        }\n\n        observeProposals() {\n            const subscription = api_base.api.onMessage().subscribe(response => {\n                if (response.data.msg_type === 'proposal') {\n                    const { passthrough, proposal } = response.data;\n                    if (proposal && this.data.proposals.findIndex(p => p.id === proposal.id) === -1) {\n                        // Add proposals based on the ID returned by the API.\n                        this.data.proposals.push({ ...proposal, ...passthrough });\n                        this.checkProposalReady();\n                    }\n                }\n            });\n            api_base.pushSubscription(subscription);\n        }\n\n        checkProposalReady() {\n            // Proposals are considered ready when the proposals in our memory match the ones\n            // we've requested from the API, we determine this by checking the passthrough of the response.\n            const { proposals } = this.data;\n\n            if (proposals.length > 0) {\n                const has_equal_proposals = this.proposal_templates.every(template => {\n                    return (\n                        proposals.findIndex(proposal => {\n                            return (\n                                proposal.purchase_reference === template.passthrough.purchase_reference &&\n                                proposal.contract_type === template.contract_type\n                            );\n                        }) !== -1\n                    );\n                });\n\n                if (has_equal_proposals) {\n                    this.startPromise.then(() => this.store.dispatch(proposalsReady()));\n                }\n            }\n        }\n\n        isNewTradeOption(trade_option) {\n            if (!this.trade_option) {\n                this.trade_option = trade_option;\n                return true;\n            }\n\n            // Compare incoming \"trade_option\" argument with \"this.trade_option\", if any\n            // of the values is different, this is a new tradeOption and new proposals\n            // should be generated.\n            return [\n                'amount',\n                'barrierOffset',\n                'basis',\n                'duration',\n                'duration_unit',\n                'prediction',\n                'secondBarrierOffset',\n                'symbol',\n            ].some(value => this.trade_option[value] !== trade_option[value]);\n        }\n    };\n","import getToolsInterface from './ToolsInterface';\nimport getTicksInterface from './TicksInterface';\nimport getBotInterface from './BotInterface';\nimport TradeEngine from '../trade';\n\nconst sleep = (observer, arg = 1) => {\n    return new Promise(\n        r =>\n            setTimeout(() => {\n                r();\n                setTimeout(() => observer.emit('CONTINUE'), 0);\n            }, arg * 1000),\n        () => {}\n    );\n};\n\nconst Interface = $scope => {\n    const tradeEngine = new TradeEngine($scope);\n    const { observer } = $scope;\n    const getInterface = () => {\n        return {\n            ...getBotInterface(tradeEngine),\n            ...getToolsInterface(tradeEngine),\n            getTicksInterface: getTicksInterface(tradeEngine),\n            watch: (...args) => tradeEngine.watch(...args),\n            sleep: (...args) => sleep(observer, ...args),\n            alert: (...args) => alert(...args), // eslint-disable-line no-alert\n            prompt: (...args) => prompt(...args), // eslint-disable-line no-alert\n            console: {\n                log(...args) {\n                    // eslint-disable-next-line no-console\n                    console.log(new Date().toLocaleTimeString(), ...args);\n                },\n            },\n        };\n    };\n    return { tradeEngine, observer, getInterface };\n};\n\nexport default Interface;\n","import { cloneThorough } from '@deriv/shared';\nimport JSInterpreter from '@deriv/js-interpreter';\nimport { createScope } from './cliTools';\nimport Interface from '../Interface';\nimport { unrecoverable_errors } from '../../../constants/messages';\nimport { observer as globalObserver } from '../../../utils/observer';\nimport { api_base } from '../../api/api-base';\n\nJSInterpreter.prototype.takeStateSnapshot = function () {\n    const newStateStack = cloneThorough(this.stateStack, undefined, undefined, undefined, true);\n    return newStateStack;\n};\n\nJSInterpreter.prototype.restoreStateSnapshot = function (snapshot) {\n    this.stateStack = cloneThorough(snapshot, undefined, undefined, undefined, true);\n    this.global = this.stateStack[0].scope.object || this.stateStack[0].scope;\n    this.initFunc_(this, this.global);\n};\n\nconst botInitialized = bot => bot && bot.tradeEngine.options;\nconst botStarted = bot => botInitialized(bot) && bot.tradeEngine.tradeOptions;\nconst shouldRestartOnError = (bot, errorName = '') =>\n    !unrecoverable_errors.includes(errorName) && botInitialized(bot) && bot.tradeEngine.options.shouldRestartOnError;\n\nconst shouldStopOnError = (bot, errorName = '') => {\n    const stopErrors = ['SellNotAvailableCustom', 'ContractCreationFailure'];\n    if (stopErrors.includes(errorName) && botInitialized(bot)) {\n        return true;\n    }\n    return false;\n};\n\nconst timeMachineEnabled = bot => botInitialized(bot) && bot.tradeEngine.options.timeMachineEnabled;\n\n// TODO chek beforState & duringState & startState\nconst Interpreter = () => {\n    let $scope = createScope();\n    let bot = Interface($scope);\n    let interpreter = {};\n    let onFinish;\n\n    $scope.observer.register('REVERT', watchName =>\n        revert(watchName === 'before' ? $scope.beforeState : $scope.duringState)\n    );\n\n    function init() {\n        $scope = createScope();\n        bot = Interface($scope);\n        interpreter = {};\n        onFinish = () => {};\n    }\n\n    function revert(state) {\n        interpreter.restoreStateSnapshot(state);\n        interpreter.paused_ = false;\n        loop();\n    }\n\n    function loop() {\n        if ($scope.stopped || !interpreter.run()) {\n            onFinish(interpreter.pseudoToNative(interpreter.value));\n        }\n    }\n\n    function createAsync(js_interpreter, func) {\n        const asyncFunc = (...args) => {\n            const callback = args.pop();\n\n            // Workaround for unknown number of args\n            const reversed_args = args.slice().reverse();\n            const first_defined_arg_idx = reversed_args.findIndex(arg => arg !== undefined);\n\n            // Remove extra undefined args from end of the args\n            const function_args = first_defined_arg_idx < 0 ? [] : reversed_args.slice(first_defined_arg_idx).reverse();\n            // End of workaround\n\n            func(...function_args.map(arg => js_interpreter.pseudoToNative(arg)))\n                .then(rv => {\n                    callback(js_interpreter.nativeToPseudo(rv));\n                    loop();\n                })\n                .catch(e => {\n                    // e.error for errors get from API, e for code errors\n                    $scope.observer.emit('Error', e.error || e);\n                });\n        };\n\n        // TODO: This is a workaround, create issue on original repo, once fixed\n        // remove this. We don't know how many args are going to be passed, so we\n        // assume a max of 100.\n        const MAX_ACCEPTABLE_FUNC_ARGS = 100;\n        Object.defineProperty(asyncFunc, 'length', { value: MAX_ACCEPTABLE_FUNC_ARGS + 1 });\n        return js_interpreter.createAsyncFunction(asyncFunc);\n    }\n\n    function initFunc(js_interpreter, scope) {\n        const bot_interface = bot.getInterface();\n        const { getTicksInterface, alert, prompt, sleep, console: custom_console } = bot_interface;\n        const ticks_interface = getTicksInterface;\n\n        js_interpreter.setProperty(scope, 'console', js_interpreter.nativeToPseudo(custom_console));\n        js_interpreter.setProperty(scope, 'alert', js_interpreter.nativeToPseudo(alert));\n        js_interpreter.setProperty(scope, 'prompt', js_interpreter.nativeToPseudo(prompt));\n        js_interpreter.setProperty(\n            scope,\n            'getPurchaseReference',\n            js_interpreter.nativeToPseudo(bot_interface.getPurchaseReference)\n        );\n\n        const pseudo_bot_interface = js_interpreter.nativeToPseudo(bot_interface);\n\n        Object.entries(ticks_interface).forEach(([name, f]) =>\n            js_interpreter.setProperty(pseudo_bot_interface, name, createAsync(js_interpreter, f))\n        );\n\n        js_interpreter.setProperty(\n            pseudo_bot_interface,\n            'start',\n            js_interpreter.nativeToPseudo((...args) => {\n                const { start } = bot_interface;\n                if (shouldRestartOnError(bot)) {\n                    $scope.startState = js_interpreter.takeStateSnapshot();\n                }\n                start(...args);\n            })\n        );\n\n        js_interpreter.setProperty(\n            pseudo_bot_interface,\n            'purchase',\n            createAsync(js_interpreter, bot_interface.purchase)\n        );\n        js_interpreter.setProperty(\n            pseudo_bot_interface,\n            'sellAtMarket',\n            createAsync(js_interpreter, bot_interface.sellAtMarket)\n        );\n        js_interpreter.setProperty(scope, 'Bot', pseudo_bot_interface);\n        js_interpreter.setProperty(\n            scope,\n            'watch',\n            createAsync(js_interpreter, watchName => {\n                const { watch } = bot.getInterface();\n\n                if (timeMachineEnabled(bot)) {\n                    const snapshot = interpreter.takeStateSnapshot();\n                    if (watchName === 'before') {\n                        $scope.beforeState = snapshot;\n                    } else {\n                        $scope.duringState = snapshot;\n                    }\n                }\n\n                return watch(watchName);\n            })\n        );\n\n        js_interpreter.setProperty(scope, 'sleep', createAsync(js_interpreter, sleep));\n    }\n\n    function stop() {\n        const global_timeouts = globalObserver.getState('global_timeouts') ?? [];\n        const is_timeouts_cancellable = Object.keys(global_timeouts).every(\n            timeout => global_timeouts[timeout].is_cancellable\n        );\n\n        if (!bot.tradeEngine.contractId && is_timeouts_cancellable) {\n            // When user is rate limited, allow them to stop the bot immediately\n            // granted there is no active contract.\n            global_timeouts.forEach(timeout => clearTimeout(global_timeouts[timeout]));\n            terminateSession();\n        } else if (bot.tradeEngine.isSold === false && !$scope.is_error_triggered) {\n            globalObserver.register('contract.status', contractStatus => {\n                if (contractStatus.id === 'contract.sold') {\n                    terminateSession();\n                }\n            });\n        } else {\n            terminateSession();\n        }\n    }\n\n    function terminateSession() {\n        $scope.stopped = true;\n        $scope.is_error_triggered = false;\n        globalObserver.emit('bot.stop');\n        const { ticksService } = $scope;\n        // Unsubscribe previous ticks_history subscription\n        ticksService.unsubscribeFromTicksService();\n        // Unsubscribe the subscriptions from Proposal, Balance and OpenContract\n        api_base.clearSubscriptions();\n    }\n\n    function run(code) {\n        return new Promise((resolve, reject) => {\n            const onError = e => {\n                if ($scope.stopped) {\n                    return;\n                }\n                // DBot handles 'InvalidToken' internally\n                if (e.code === 'InvalidToken') {\n                    globalObserver.emit('client.invalid_token');\n                    return;\n                }\n                if (shouldStopOnError(bot, e?.code)) {\n                    globalObserver.emit('ui.log.error', e.message);\n                    globalObserver.emit('bot.click_stop');\n                    return;\n                }\n\n                $scope.is_error_triggered = true;\n                if (!shouldRestartOnError(bot, e.code) || !botStarted(bot)) {\n                    reject(e);\n                    return;\n                }\n\n                globalObserver.emit('Error', e);\n                const { initArgs, tradeOptions } = bot.tradeEngine;\n                terminateSession();\n                init();\n                $scope.observer.register('Error', onError);\n                bot.tradeEngine.init(...initArgs);\n                bot.tradeEngine.start(tradeOptions);\n                revert($scope.startState);\n            };\n\n            $scope.observer.register('Error', onError);\n\n            interpreter = new JSInterpreter(code, initFunc);\n            onFinish = resolve;\n\n            loop();\n        });\n    }\n\n    return { stop, run, terminateSession, bot };\n};\nexport default Interpreter;\n\nexport const createInterpreter = () => new Interpreter();\n","import { localize } from '@deriv/translations';\nimport './blockly';\nimport { hasAllRequiredBlocks, isAllRequiredBlocksEnabled, updateDisabledBlocks } from './utils';\nimport main_xml from './xml/main.xml';\nimport DBotStore from './dbot-store';\nimport { save_types } from '../constants';\nimport { config } from '../constants/config';\nimport { getSavedWorkspaces, saveWorkspaceToRecent } from '../utils/local-storage';\nimport { observer as globalObserver } from '../utils/observer';\nimport ApiHelpers from '../services/api/api-helpers';\nimport Interpreter from '../services/tradeEngine/utils/interpreter';\nimport { api_base } from '../services/api/api-base';\n\nclass DBot {\n    constructor() {\n        this.interpreter = null;\n        this.workspace = null;\n        this.before_run_funcs = [];\n    }\n\n    /**\n     * Initialises the workspace and mounts it to a container element (app_contents).\n     */\n    async initWorkspace(public_path, store, api_helpers_store, is_mobile) {\n        const recent_files = await getSavedWorkspaces();\n\n        return new Promise((resolve, reject) => {\n            __webpack_public_path__ = public_path; // eslint-disable-line no-global-assign\n            ApiHelpers.setInstance(api_helpers_store);\n            DBotStore.setInstance(store);\n            const window_width = window.innerWidth;\n            try {\n                let workspaceScale = 0.8;\n\n                const { handleFileChange } = DBotStore.instance;\n                if (window_width < 1640) {\n                    if (is_mobile) {\n                        workspaceScale = 0.7;\n                    } else {\n                        const scratch_div_width = document.getElementById('scratch_div')?.offsetWidth;\n                        const zoom_scale = scratch_div_width / window_width / 1.5;\n                        workspaceScale = zoom_scale;\n                    }\n                }\n                const el_scratch_div = document.getElementById('scratch_div');\n                if (!el_scratch_div) {\n                    return;\n                }\n                this.workspace = Blockly.inject(el_scratch_div, {\n                    media: `${__webpack_public_path__}media/`,\n                    trashcan: !is_mobile,\n                    zoom: { wheel: true, startScale: workspaceScale },\n                    scrollbars: true,\n                });\n\n                this.workspace.cached_xml = { main: main_xml };\n\n                this.workspace.addChangeListener(this.valueInputLimitationsListener.bind(this));\n                this.workspace.addChangeListener(event => updateDisabledBlocks(this.workspace, event));\n                this.workspace.addChangeListener(event => this.workspace.dispatchBlockEventEffects(event));\n\n                Blockly.derivWorkspace = this.workspace;\n\n                this.addBeforeRunFunction(this.unselectBlocks.bind(this));\n                this.addBeforeRunFunction(this.disableStrayBlocks.bind(this));\n                this.addBeforeRunFunction(this.checkForErroredBlocks.bind(this));\n                this.addBeforeRunFunction(this.checkForRequiredBlocks.bind(this));\n\n                // Push main.xml to workspace and reset the undo stack.\n                this.workspace.current_strategy_id = Blockly.utils.genUid();\n                Blockly.derivWorkspace.strategy_to_load = main_xml;\n                Blockly.mainWorkspace.strategy_to_load = main_xml;\n                let file_name = config.default_file_name;\n                if (recent_files && recent_files.length) {\n                    const latest_file = recent_files[0];\n                    Blockly.derivWorkspace.strategy_to_load = latest_file.xml;\n                    Blockly.mainWorkspace.strategy_to_load = latest_file.xml;\n                    file_name = latest_file.name;\n                    Blockly.derivWorkspace.current_strategy_id = latest_file.id;\n                    Blockly.mainWorkspace.current_strategy_id = latest_file.id;\n                }\n\n                const event_group = `dbot-load${Date.now()}`;\n                Blockly.Events.setGroup(event_group);\n                Blockly.Xml.domToWorkspace(\n                    Blockly.Xml.textToDom(Blockly.derivWorkspace.strategy_to_load),\n                    this.workspace\n                );\n                const { save_modal } = DBotStore.instance;\n\n                save_modal.updateBotName(file_name);\n                this.workspace.cleanUp();\n                this.workspace.clearUndo();\n\n                window.dispatchEvent(new Event('resize'));\n                window.addEventListener('dragover', DBot.handleDragOver);\n                window.addEventListener('drop', e => DBot.handleDropOver(e, handleFileChange));\n                api_base.init();\n                // disable overflow\n                el_scratch_div.parentNode.style.overflow = 'hidden';\n                resolve();\n            } catch (error) {\n                // TODO: Handle error.\n                reject(error);\n                throw error;\n            }\n        });\n    }\n\n    async saveRecentWorkspace() {\n        await saveWorkspaceToRecent(Blockly.Xml.workspaceToDom(this.workspace), save_types.UNSAVED);\n    }\n\n    /**\n     * Allows you to add a function that needs to be executed before running the bot. Each\n     * function needs to return true in order for the bot to run.\n     * @param {Function} func Function to execute which returns true/false.\n     */\n    addBeforeRunFunction(func) {\n        this.before_run_funcs.push(func);\n    }\n\n    shouldRunBot() {\n        return this.before_run_funcs.every(func => !!func());\n    }\n\n    /**\n     * Runs the bot. Does a sanity check before attempting to generate the\n     * JavaScript code that's fed to the interpreter.\n     */\n    runBot() {\n        try {\n            const code = this.generateCode();\n            if (this.interpreter !== null) {\n                this.interpreter = null;\n            }\n\n            this.interpreter = Interpreter();\n            api_base.setIsRunning(true);\n            this.interpreter.run(code).catch(error => {\n                globalObserver.emit('Error', error);\n                this.stopBot();\n            });\n        } catch (error) {\n            globalObserver.emit('Error', error);\n\n            if (this.interpreter) {\n                this.stopBot();\n            }\n        }\n    }\n\n    /**\n     * Generates the code that is passed to the interpreter.\n     * @param {Object} limitations Optional limitations (legacy argument)\n     */\n    generateCode(limitations = {}) {\n        return `\n            var BinaryBotPrivateInit;\n            var BinaryBotPrivateStart;\n            var BinaryBotPrivateBeforePurchase; \n            var BinaryBotPrivateDuringPurchase;\n            var BinaryBotPrivateAfterPurchase;\n            var BinaryBotPrivateLastTickTime;\n            var BinaryBotPrivateTickAnalysisList = [];\n            var BinaryBotPrivateHasCalledTradeOptions = false;\n\n           \n            function recursiveList(list, final_list){\n                for(var i=0; i < list.length; i++){\n                    if(typeof(list[i]) === 'object'){\n                        recursiveList(list[i], final_list);\n                    }\n                    if(typeof(list[i]) == 'number'){\n                        final_list.push(list[i]);   \n                                  \t\n                    }\n                }\n                return final_list;\n            }\n\n            function BinaryBotPrivateRun(f, arg) {\n                if (f) return f(arg);\n                return false;\n            }\n            function BinaryBotPrivateTickAnalysis() {\n                var currentTickTime = Bot.getLastTick(true);\n                while (currentTickTime === 'MarketIsClosed') {\n                    sleep(5);\n                    currentTickTime = Bot.getLastTick(true);\n                }\n                currentTickTime = currentTickTime.epoch;\n                if (currentTickTime === BinaryBotPrivateLastTickTime) {\n                    return;\n                }\n                BinaryBotPrivateLastTickTime = currentTickTime;\n                for (var BinaryBotPrivateI = 0; BinaryBotPrivateI < BinaryBotPrivateTickAnalysisList.length; BinaryBotPrivateI++) {\n                    BinaryBotPrivateRun(BinaryBotPrivateTickAnalysisList[BinaryBotPrivateI]);\n                }\n            }\n            var BinaryBotPrivateLimitations = ${JSON.stringify(limitations)};\n            ${Blockly.JavaScript.workspaceToCode(this.workspace)}\n            BinaryBotPrivateRun(BinaryBotPrivateInit);\n            while (true) {\n                BinaryBotPrivateTickAnalysis();\n                BinaryBotPrivateRun(BinaryBotPrivateStart);\n                if (!BinaryBotPrivateHasCalledTradeOptions) {\n                    sleep(1);\n                    continue;\n                }\n                while (watch('before')) {\n                    BinaryBotPrivateTickAnalysis();\n                    BinaryBotPrivateRun(BinaryBotPrivateBeforePurchase);\n                }\n                while (watch('during')) {\n                    BinaryBotPrivateTickAnalysis();\n                    BinaryBotPrivateRun(BinaryBotPrivateDuringPurchase);\n                }\n                BinaryBotPrivateTickAnalysis();\n                if (!BinaryBotPrivateRun(BinaryBotPrivateAfterPurchase)) {\n                    break;\n                }\n            }`;\n    }\n\n    /**\n     * Instructs the interpreter to stop the bot. If there is an active trade\n     * that trade will be completed first to reflect correct contract status in UI.\n     */\n    stopBot() {\n        api_base.setIsRunning(false);\n        if (this.interpreter) {\n            this.interpreter.stop();\n        }\n    }\n\n    /**\n     * Immediately instructs the interpreter to terminate the WS connection and bot.\n     */\n    terminateBot() {\n        if (this.interpreter) {\n            this.interpreter.terminateSession();\n            this.interpreter = null;\n        }\n    }\n\n    terminateConnection = () => {\n        api_base.terminate();\n    };\n\n    /**\n     * Unselects any selected block before running the bot.\n     */\n    // eslint-disable-next-line class-methods-use-this\n    unselectBlocks() {\n        if (Blockly.selected) {\n            Blockly.selected.unselect();\n        }\n        return true;\n    }\n\n    /**\n     * Disable blocks outside of any main or independent blocks.\n     */\n    disableStrayBlocks() {\n        const top_blocks = this.workspace.getTopBlocks();\n\n        top_blocks.forEach(block => {\n            if (!block.isMainBlock() && !block.isIndependentBlock()) {\n                this.disableBlocksRecursively(block);\n            }\n        });\n\n        return true;\n    }\n\n    /**\n     * Disable blocks and their optional children.\n     */\n    disableBlocksRecursively(block) {\n        block.setDisabled(true);\n        if (block.nextConnection?.targetConnection) {\n            this.disableBlocksRecursively(block.nextConnection.targetConnection.sourceBlock_);\n        }\n    }\n\n    /**\n     * Check if there are any blocks highlighted for errors.\n     */\n    checkForErroredBlocks() {\n        // Force a check on value inputs.\n        this.valueInputLimitationsListener({}, true);\n\n        const all_blocks = this.workspace.getAllBlocks(true);\n        const error_blocks = all_blocks\n            .filter(block => block.is_error_highlighted && !block.disabled)\n            // filter out duplicated error message\n            .filter((block, index, self) => index === self.findIndex(b => b.error_message === block.error_message));\n\n        if (!error_blocks.length) {\n            return true;\n        }\n\n        this.workspace.centerOnBlock(error_blocks[0].id);\n        error_blocks.forEach(block => {\n            globalObserver.emit('ui.log.error', block.error_message);\n        });\n\n        return false;\n    }\n\n    centerAndHighlightBlock(block_id, should_animate = false) {\n        const block_to_highlight = this.workspace.getBlockById(block_id);\n\n        if (!block_to_highlight) {\n            return;\n        }\n\n        const all_blocks = this.workspace.getAllBlocks();\n\n        all_blocks.forEach(block => block.setErrorHighlighted(false));\n        if (should_animate) {\n            block_to_highlight.blink();\n        }\n        block_to_highlight.setErrorHighlighted(true);\n\n        this.workspace.centerOnBlock(block_to_highlight.id);\n    }\n\n    unHighlightAllBlocks() {\n        this.workspace?.getAllBlocks().forEach(block => block.setErrorHighlighted(false));\n    }\n\n    /**\n     * Checks whether the workspace contains all required blocks before running the strategy.\n     */\n    checkForRequiredBlocks() {\n        let error;\n\n        if (!hasAllRequiredBlocks(this.workspace)) {\n            error = new Error(\n                localize(\n                    'One or more mandatory blocks are missing from your workspace. Please add the required block(s) and then try again.'\n                )\n            );\n        } else if (!isAllRequiredBlocksEnabled(this.workspace)) {\n            error = new Error(\n                localize(\n                    'One or more mandatory blocks are disabled in your workspace. Please enable the required block(s) and then try again.'\n                )\n            );\n        }\n\n        if (error) {\n            globalObserver.emit('Error', error);\n            return false;\n        }\n\n        return true;\n    }\n\n    /**\n     * Checks all blocks in the workspace to see if they need to be highlighted\n     * in case one of their inputs is not populated, returns an empty value, or doesn't\n     * pass the custom validator.\n     * Note: The value passed to the custom validator is always a string value\n     * @param {Blockly.Event} event Workspace event\n     */\n    valueInputLimitationsListener(event, force_check = false) {\n        if (!force_check && (!this.workspace || this.workspace.isDragging())) {\n            return;\n        }\n\n        Blockly.JavaScript.init(this.workspace);\n\n        if (force_check) {\n            Blockly.hideChaff(false);\n        }\n\n        const isGlobalEndDragEvent = () => event.type === Blockly.Events.END_DRAG;\n        const isGlobalDeleteEvent = () => event.type === Blockly.Events.BLOCK_DELETE;\n        const isGlobalCreateEvent = () => event.type === Blockly.Events.BLOCK_CREATE;\n        const isClickEvent = () =>\n            event.type === Blockly.Events.UI && (event.element === 'click' || event.element === 'selected');\n        const isChangeEvent = b => event.type === Blockly.Events.BLOCK_CHANGE && event.blockId === b.id;\n        const isChangeInMyInputs = b => {\n            if (event.type === Blockly.Events.BLOCK_CHANGE) {\n                return b.inputList.some(input => {\n                    if (input.connection) {\n                        const target_block = input.connection.targetBlock();\n                        return target_block && event.blockId === target_block.id;\n                    }\n                    return false;\n                });\n            }\n            return false;\n        };\n        const isParentEnabledEvent = b => {\n            if (event.type === Blockly.Events.BLOCK_CHANGE && event.element === 'disabled') {\n                let parent_block = b.getParent();\n\n                while (parent_block !== null) {\n                    if (parent_block.id === event.blockId) {\n                        return true;\n                    }\n\n                    parent_block = parent_block.getParent();\n                }\n            }\n            return false;\n        };\n\n        this.workspace.getAllBlocks(true).forEach(block => {\n            if (\n                force_check ||\n                isGlobalEndDragEvent() ||\n                isGlobalDeleteEvent() ||\n                isGlobalCreateEvent() ||\n                isClickEvent() ||\n                isChangeEvent(block) ||\n                isChangeInMyInputs(block) ||\n                isParentEnabledEvent(block)\n            ) {\n                // Unhighlight disabled blocks and their optional children.\n                if (block.disabled) {\n                    const unhighlightRecursively = child_blocks => {\n                        child_blocks.forEach(child_block => {\n                            child_block.setErrorHighlighted(false);\n                            unhighlightRecursively(child_block.getChildren());\n                        });\n                    };\n\n                    unhighlightRecursively([block]);\n                    return;\n                }\n\n                // No required inputs, ignore this block.\n                if (!block.getRequiredValueInputs) {\n                    return;\n                }\n\n                const required_inputs_object = block.getRequiredValueInputs();\n                const required_input_names = Object.keys(required_inputs_object);\n                const should_highlight = required_input_names.some(input_name => {\n                    const is_selected = Blockly.selected === block; // Don't highlight selected blocks.\n                    const is_disabled = block.disabled || block.getInheritedDisabled(); // Don't highlight disabled blocks.\n\n                    if (is_selected || is_disabled) {\n                        return false;\n                    }\n\n                    // Don't unhighlight collapsed blocks with highlighted descendants.\n                    if (block.isCollapsed() && block.hasErrorHighlightedDescendant()) {\n                        return true;\n                    }\n\n                    const input = block.getInput(input_name);\n\n                    if (!input && !block.domToMutation) {\n                        // eslint-disable-next-line no-console\n                        console.warn('Detected a non-existent required input.', {\n                            input_name,\n                            type: block.type,\n                        });\n                    } else if (input.connection) {\n                        const order = Blockly.JavaScript.ORDER_ATOMIC;\n                        const value = Blockly.JavaScript.valueToCode(block, input_name, order);\n                        const inputValidatorFn = required_inputs_object[input_name];\n\n                        // If a custom validator was supplied, use this to determine whether\n                        // the block should be highlighted.\n                        if (typeof inputValidatorFn === 'function') {\n                            return !!inputValidatorFn(value);\n                        }\n\n                        // If there's no custom validator, only check if input was populated and\n                        // doesn't return an empty value.\n                        return !value;\n                    }\n\n                    return true;\n                });\n\n                if (should_highlight) {\n                    // Remove select highlight in favour of error highlight.\n                    block.removeSelect();\n                }\n\n                block.setErrorHighlighted(should_highlight, block.error_message || undefined);\n\n                // Automatically expand blocks that have been highlighted.\n                if (force_check && (block.is_error_highlighted || block.hasErrorHighlightedDescendant())) {\n                    let current_collapsed_block = block;\n                    while (current_collapsed_block) {\n                        current_collapsed_block.setCollapsed(false);\n                        current_collapsed_block = current_collapsed_block.getParent();\n                    }\n                }\n            }\n        });\n    }\n\n    /**\n     * Checks whether the workspace contains non-silent notification blocks. Returns array of names for audio files to be played.\n     */\n    getStrategySounds() {\n        const all_blocks = this.workspace.getAllBlocks();\n        const notify_blocks = all_blocks.filter(block => block.type === 'notify');\n        const strategy_sounds = [];\n\n        notify_blocks.forEach(block => {\n            const selected_sound = block.inputList[0].fieldRow[3].value_;\n\n            if (selected_sound !== 'silent') {\n                strategy_sounds.push(selected_sound);\n            }\n        });\n\n        return strategy_sounds;\n    }\n\n    static handleDragOver(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        event.dataTransfer.dropEffect = 'copy'; // eslint-disable-line no-param-reassign\n    }\n\n    static handleDropOver(event, handleFileChange) {\n        const main_workspace_dom = document.getElementById('scratch_div');\n        const local_drag_zone = document.getElementById('load-strategy__local-dropzone-area');\n\n        if (main_workspace_dom.contains(event.target)) {\n            handleFileChange(event);\n        } else if (local_drag_zone && local_drag_zone.contains(event.target)) {\n            handleFileChange(event, false);\n        } else {\n            event.stopPropagation();\n            event.preventDefault();\n            event.dataTransfer.effectAllowed = 'none';\n            event.dataTransfer.dropEffect = 'none';\n        }\n    }\n}\n\nexport default new DBot();\n","import PendingPromise from '../../utils/pending-promise';\n\nconst ServerTime = (() => {\n    let clock_started = false;\n    const pending = new PendingPromise();\n    let common_store;\n\n    const init = store => {\n        if (!clock_started) {\n            common_store = store;\n            pending.resolve(common_store.server_time);\n            clock_started = true;\n        }\n    };\n\n    const get = () => (clock_started && common_store.server_time ? common_store.server_time.clone() : undefined);\n\n    return {\n        init,\n        get,\n        timePromise: () => (clock_started ? Promise.resolve(common_store.server_time) : pending.promise),\n    };\n})();\n\nexport default ServerTime;\n","export default class NetworkMonitor {\n    constructor(apiInstance, parentElement) {\n        this.api = apiInstance;\n        this.parentElement = parentElement;\n        this.addEvents();\n    }\n\n    addEvents() {\n        if ('onLine' in navigator) {\n            window.addEventListener('online', () => this.setStatus());\n            window.addEventListener('offline', () => this.setStatus());\n        } else {\n            navigator.onLine = true;\n            setInterval(() => this.setStatus(), 10000);\n        }\n        this.setStatus();\n    }\n\n    setStatus() {\n        if (navigator.onLine) {\n            this.parentElement.html(\"<span class='connecting'></span>\");\n            this.api.send({ ping: '1' }).then(() => {\n                this.parentElement.html(\"<span class='online'></span>\");\n            });\n        } else {\n            this.parentElement.html(\"<span class='offline'></span>\");\n        }\n    }\n}\n","import { localize } from '@deriv/translations';\nimport { config } from '../constants/config';\n\n// TODO: use-shared-functions - These functions are duplicates of trader ones, export and use these instead.\nexport const getContractTypeName = contract => {\n    const { opposites } = config;\n    let name = localize('Unknown');\n\n    Object.keys(opposites).forEach(opposites_name => {\n        const contract_type_objs = opposites[opposites_name];\n\n        contract_type_objs.forEach(contract_type_obj => {\n            const contract_type_names = Object.entries(contract_type_obj)[0]; // ['CALL', 'Rise']\n\n            if (contract_type_names[0] === contract.contract_type) {\n                // Extra check for CALL & PUT types to distinguish Rise/Fall & Higher/Lower.\n                if (['CALL', 'PUT'].includes(contract_type_names[0])) {\n                    const shortcode_suffix = contract.shortcode.split('_').slice(-2)[0];\n                    const is_risefall = /^S0P$/.test(shortcode_suffix);\n                    const req_opposite_name = is_risefall ? 'CALLPUT' : 'HIGHERLOWER';\n\n                    if (opposites_name !== req_opposite_name) {\n                        return;\n                    }\n                }\n\n                name = contract_type_names[1];\n            }\n        });\n    });\n\n    return name;\n};\n","export const importExternal = url => {\n    return new Promise((resolve, reject) => {\n        const script = document.createElement('script');\n        script.src = url;\n        script.async = true;\n        script.onload = () => resolve(window.external_global_component);\n        script.onerror = reject;\n\n        document.body.appendChild(script);\n    });\n};\n","import { localize } from '@deriv/translations';\n\nexport const timeSince = timestamp => {\n    const now = new Date();\n    const secondPast = (now.getTime() - timestamp) / 1000;\n\n    if (secondPast < 60) {\n        return localize('{{secondPast}}s ago', { secondPast: parseInt(secondPast) });\n    }\n    if (secondPast < 3600) {\n        return localize('{{minutePast}}m ago', { minutePast: parseInt(secondPast / 60) });\n    }\n    if (secondPast <= 86400) {\n        return localize('{{hourPast}}h ago', { hourPast: parseInt(secondPast / 3600) });\n    }\n\n    const timestampDate = new Date(timestamp);\n    const day = timestampDate.getDate();\n    const month = timestampDate\n        .toDateString()\n        .match(/ [a-zA-Z]*/)[0]\n        .replace(' ', '');\n    const year = `${timestampDate.getFullYear() === now.getFullYear() ? '' : ' '}${timestampDate.getFullYear()}`;\n    return `${day} ${month}${year}`;\n};\n","const darkMode = () => {\n    const workspace = Blockly;\n    workspace.Colours.RootBlock = {\n        colour: '#183046',\n        colourSecondary: '#F2F3F5',\n        colourTertiary: '#151717',\n    };\n    workspace.Colours.Base = {\n        colour: '#C2C2C2',\n        colourSecondary: '#0e0e0e',\n        colourTertiary: '#0e0e0e',\n    };\n\n    workspace.Colours.Special1 = {\n        colour: '#C2C2C2',\n        colourSecondary: '#0e0e0e',\n        colourTertiary: '#6d7278',\n    };\n\n    workspace.Colours.Special2 = {\n        colour: '#C2C2C2',\n        colourSecondary: '#0e0e0e',\n        colourTertiary: '#D27954',\n    };\n\n    workspace.Colours.Special3 = {\n        colour: '#C2C2C2',\n        colourSecondary: '#0e0e0e',\n        colourTertiary: '#D27954',\n    };\n};\n\nconst lightMode = () => {\n    const workspace = Blockly;\n    workspace.Colours.RootBlock = {\n        colour: '#064e72',\n        colourSecondary: '#064e72',\n        colourTertiary: '#6d7278',\n    };\n\n    workspace.Colours.Base = {\n        colour: '#e5e5e5',\n        colourSecondary: '#ffffff',\n        colourTertiary: '#6d7278',\n    };\n\n    workspace.Colours.Special1 = {\n        colour: '#e5e5e5',\n        colourSecondary: '#ffffff',\n        colourTertiary: '#6d7278',\n    };\n\n    workspace.Colours.Special2 = {\n        colour: '#e5e5e5',\n        colourSecondary: '#ffffff',\n        colourTertiary: '#6d7278',\n    };\n\n    workspace.Colours.Special3 = {\n        colour: '#e5e5e5',\n        colourSecondary: '#ffffff',\n        colourTertiary: '#6d7278',\n    };\n};\nexport const setColors = is_dark_mode => (is_dark_mode ? darkMode() : lightMode());\n","// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore } from \"@firebase/firestore\";\nimport { getStorage } from \"firebase/storage\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBkVLmtrIaeFqytcZv05SqdFyM0lDQJXSM\",\n  authDomain: \"derivtrader-8670a.firebaseapp.com\",\n  projectId: \"derivtrader-8670a\",\n  storageBucket: \"derivtrader-8670a.appspot.com\",\n  messagingSenderId: \"616660657042\",\n  appId: \"1:616660657042:web:bde99650abb24ad2b9974b\",\n  measurementId: \"G-4VYN9WMZY1\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nexport const firestore = getFirestore(app);\nexport const storage = getStorage(app);","import { storage } from './firebase';\nimport { ref, getDownloadURL } from 'firebase/storage';\nimport BlockConversion from '../scratch/backward-compatibility';\nimport { observer as globalObserver } from '../utils/observer';\nimport { removeLimitedBlocks } from '../utils/workspace';\nimport {loadBlocks,loadWorkspace} from '../scratch/utils/index'\nimport DBotStore from '../scratch/dbot-store';\nimport {saveWorkspaceToRecent} from '../utils/local-storage';\nimport { save_types } from '../constants/save-type';\n\n\nconst showInvalidStrategyError = () => {\n    const error_message = localize('XML file contains unsupported elements. Please check or modify file.');\n    globalObserver.emit('ui.log.error', error_message);\n};\n\n\nexport const readStorage = async () => {\n    try {\n        // Reference to the XML file in the Storage bucket\n        const xmlFileRef = ref(storage, '/bots/Entry_Touch_BBot.xml');\n\n        // Get the download URL for the XML file\n        const url = await getDownloadURL(xmlFileRef);\n\n        // Fetch the XML file using the download URL\n        const response = await fetch(url);\n        if (!response.ok) {\n            throw new Error('Failed to fetch XML');\n        }\n\n        const xmlString = await response.text();\n\n        // // Parse the XML string into an XML Document if needed\n        // const parser = new DOMParser();\n        // const xmlDoc = parser.parseFromString(xmlString, 'application/xml');\n        // const rootElement = xmlDoc.documentElement;\n\n        // Check if XML can be parsed correctly.\n        try {\n            const xmlDoc = new DOMParser().parseFromString(xmlString, 'application/xml');\n\n            if (xmlDoc.getElementsByTagName('parsererror').length) {\n                return showInvalidStrategyError();\n            }\n        } catch (e) {\n            return showInvalidStrategyError();\n        }\n\n        let xml;\n        let workspace = Blockly.derivWorkspace;\n        let file_name = 'apollo_v1';\n\n        // Check if XML can be parsed into a strategy.\n        try {\n            xml = Blockly.Xml.textToDom(xmlString);\n        } catch (e) {\n            return showInvalidStrategyError();\n        }\n\n        const blockConversion = new BlockConversion();\n        xml = blockConversion.convertStrategy(xml, 'Incompatible Bot');\n\n        const blockly_xml = xml.querySelectorAll('block');\n\n        // Check if there are any blocks in this strategy.\n        if (!blockly_xml.length) {\n            return showInvalidStrategyError();\n        }\n\n        // Check if all block types in XML are allowed.\n        const has_invalid_blocks = Array.from(blockly_xml).some(block => {\n            const block_type = block.getAttribute('type');\n            return !Object.keys(Blockly.Blocks).includes(block_type);\n        });\n\n        if (has_invalid_blocks) {\n            return showInvalidStrategyError();\n        }\n\n        try {\n            const is_collection = xml.hasAttribute('collection') && xml.getAttribute('collection') === 'true';\n            const event_group = is_collection ? `load_collection${Date.now()}` : `dbot-load${Date.now()}`;\n            Blockly.Events.setGroup(event_group);\n            removeLimitedBlocks(\n                Blockly.derivWorkspace,\n                Array.from(blockly_xml).map(xml_block => xml_block.getAttribute('type'))\n            );\n            if (is_collection) {\n                loadBlocks(xml, {}, event_group, Blockly.derivWorkspace);\n            }else{\n                await loadWorkspace(xml, event_group, workspace);\n\n                const is_main_workspace = workspace === Blockly.derivWorkspace;\n                if (is_main_workspace) {\n                    const { save_modal } = DBotStore.instance;\n\n                    save_modal.updateBotName(file_name);\n                    workspace.clearUndo();\n                    workspace.current_strategy_id = Blockly.utils.genUid();\n                    await saveWorkspaceToRecent(xml, save_types.UNSAVED,true);\n                }\n            }\n            \n        } catch (error) {\n            console.error(error); // eslint-disable-line\n            return showInvalidStrategyError();\n        }\n    } catch (error) {\n        console.error('Error:', error);\n    }\n};\n","import { localize } from '@deriv/translations';\n\nconst CRYPTO_CURRENCIES = ['BTC', 'ETH', 'LTC', 'BCH', 'UST'];\n\nexport const config = {\n    lists: {\n        PAYOUTTYPE: [\n            // [localize('Payout'), 'payout'],\n            [localize('Stake'), 'stake'],\n        ],\n        CRYPTO_CURRENCIES,\n        DETAILS: [\n            [localize('deal reference id'), '1'],\n            [localize('purchase price'), '2'],\n            [localize('payout'), '3'],\n            [localize('profit'), '4'],\n            [localize('contract type'), '5'],\n            [localize('entry spot time'), '6'],\n            [localize('entry spot price'), '7'],\n            [localize('exit spot time'), '8'],\n            [localize('exit spot price'), '9'],\n            [localize('barrier'), '10'],\n            [localize('result'), '11'],\n        ],\n        CHECK_RESULT: [\n            [localize('Win'), 'win'],\n            [localize('Loss'), 'loss'],\n        ],\n        CHECK_DIRECTION: [\n            [localize('Rise'), 'rise'],\n            [localize('Fall'), 'fall'],\n            [localize('No Change'), ''],\n        ],\n        BALANCE_TYPE: [\n            [localize('string'), 'STR'],\n            [localize('number'), 'NUM'],\n        ],\n        NOTIFICATION_TYPE: [\n            [localize('green'), 'success'],\n            [localize('blue'), 'info'],\n            [localize('yellow'), 'warn'],\n            [localize('red'), 'error'],\n        ],\n        NOTIFICATION_SOUND: [\n            [localize('Silent'), 'silent'],\n            [localize('Announcement'), 'announcement'],\n            [localize('Earned money'), 'earned-money'],\n            [localize('Job done'), 'job-done'],\n            [localize('Error'), 'error'],\n            [localize('Severe error'), 'severe-error'],\n        ],\n        CURRENCY: ['USD', 'EUR', 'GBP', 'AUD', ...CRYPTO_CURRENCIES],\n    },\n    opposites: {\n        MULTIPLIER: [\n            {\n                MULTUP: localize('Up'),\n            },\n            {\n                MULTDOWN: localize('Down'),\n            },\n        ],\n        CALLPUT: [\n            {\n                CALL: localize('Rise'),\n            },\n            {\n                PUT: localize('Fall'),\n            },\n        ],\n        CALLPUTEQUAL: [\n            {\n                CALLE: localize('Rise Equals'),\n            },\n            {\n                PUTE: localize('Fall Equals'),\n            },\n        ],\n        HIGHERLOWER: [\n            {\n                CALL: localize('Higher'),\n            },\n            {\n                PUT: localize('Lower'),\n            },\n        ],\n        TOUCHNOTOUCH: [\n            {\n                ONETOUCH: localize('Touch'),\n            },\n            {\n                NOTOUCH: localize('No Touch'),\n            },\n        ],\n        ENDSINOUT: [\n            {\n                EXPIRYRANGE: localize('Ends Between'),\n            },\n            {\n                EXPIRYMISS: localize('Ends Outside'),\n            },\n        ],\n        STAYSINOUT: [\n            {\n                RANGE: localize('Stays Between'),\n            },\n            {\n                UPORDOWN: localize('Goes Outside'),\n            },\n        ],\n        ASIANS: [\n            {\n                ASIANU: localize('Asian Up'),\n            },\n            {\n                ASIAND: localize('Asian Down'),\n            },\n        ],\n        MATCHESDIFFERS: [\n            {\n                DIGITMATCH: localize('Matches'),\n            },\n            {\n                DIGITDIFF: localize('Differs'),\n            },\n        ],\n        EVENODD: [\n            {\n                DIGITEVEN: localize('Even'),\n            },\n            {\n                DIGITODD: localize('Odd'),\n            },\n        ],\n        OVERUNDER: [\n            {\n                DIGITOVER: localize('Over'),\n            },\n            {\n                DIGITUNDER: localize('Under'),\n            },\n        ],\n        HIGHLOWTICKS: [\n            {\n                TICKHIGH: localize('High Tick'),\n            },\n            {\n                TICKLOW: localize('Low Tick'),\n            },\n        ],\n        RESET: [\n            {\n                RESETCALL: localize('Reset Call'),\n            },\n            {\n                RESETPUT: localize('Reset Put'),\n            },\n        ],\n        RUNS: [\n            {\n                RUNHIGH: localize('Only Ups'),\n            },\n            {\n                RUNLOW: localize('Only Downs'),\n            },\n        ],\n        CALLPUTSPREAD: [\n            {\n                CALLSPREAD: localize('Call Spread'),\n            },\n            {\n                PUTSPREAD: localize('Put Spread'),\n            },\n        ],\n    },\n    BARRIER_TYPES: [\n        ['Offset +', '+'],\n        ['Offset -', '-'],\n    ],\n    ohlcFields: [\n        [localize('Open'), 'open'],\n        [localize('High'), 'high'],\n        [localize('Low'), 'low'],\n        [localize('Close'), 'close'],\n        [localize('Open Time'), 'epoch'],\n    ],\n    candleIntervals: [\n        [localize('Default'), 'default'],\n        [localize('1 minute'), '60'],\n        [localize('2 minutes'), '120'],\n        [localize('3 minutes'), '180'],\n        [localize('5 minutes'), '300'],\n        [localize('10 minutes'), '600'],\n        [localize('15 minutes'), '900'],\n        [localize('30 minutes'), '1800'],\n        [localize('1 hour'), '3600'],\n        [localize('2 hours'), '7200'],\n        [localize('4 hours'), '14400'],\n        [localize('8 hours'), '28800'],\n        [localize('1 day'), '86400'],\n    ],\n    mainBlocks: ['trade_definition', 'before_purchase', 'during_purchase', 'after_purchase'],\n    mandatoryMainBlocks: ['trade_definition', 'purchase', 'before_purchase'],\n    procedureDefinitionBlocks: ['procedures_defnoreturn', 'procedures_defreturn'],\n    single_instance_blocks: ['trade_definition', 'before_purchase', 'during_purchase', 'after_purchase'],\n    TRADE_TYPE_TO_CONTRACT_CATEGORY_MAPPING: {\n        callput: ['callput', 'higherlower'],\n        asian: ['asians'],\n        digits: ['matchesdiffers', 'evenodd', 'overunder'],\n    },\n    TRADE_TYPE_CATEGORIES: {\n        multiplier: ['multiplier'],\n        callput: ['callput', 'callputequal', 'higherlower'],\n        touchnotouch: ['touchnotouch'],\n        inout: ['endsinout', 'staysinout'],\n        asian: ['asians'],\n        digits: ['matchesdiffers', 'evenodd', 'overunder'],\n        reset: ['reset'],\n        callputspread: ['callputspread'],\n        highlowticks: ['highlowticks'],\n        runs: ['runs'],\n    },\n    TRADE_TYPE_CATEGORY_NAMES: {\n        callput: localize('Up/Down'),\n        touchnotouch: localize('Touch/No Touch'),\n        inout: localize('In/Out'),\n        asian: localize('Asians'),\n        digits: localize('Digits'),\n        reset: localize('Reset Call/Reset Put'),\n        callputspread: localize('Call Spread/Put Spread'),\n        highlowticks: localize('High/Low Ticks'),\n        runs: localize('Only Ups/Only Downs'),\n        multiplier: localize('Multipliers'),\n    },\n    BARRIER_CATEGORIES: {\n        euro_atm: ['callput', 'callputequal'],\n        euro_non_atm: ['endsinout', 'higherlower', 'callputspread'],\n        american: ['staysinout', 'touchnotouch', 'highlowticks', 'runs', 'multiplier'],\n        non_financial: ['digits', 'overunder', 'evenodd', 'matchesdiffers'],\n        asian: ['asians'],\n        reset: ['reset'],\n        lookback: ['lookback'],\n    },\n    DEFAULT_DURATION_DROPDOWN_OPTIONS: [\n        [localize('Ticks'), 't'],\n        [localize('Seconds'), 's'],\n        [localize('Minutes'), 'm'],\n        [localize('Hours'), 'h'],\n        [localize('Days'), 'd'],\n    ],\n    BARRIER_LABELS: [localize('High barrier'), localize('Low barrier')],\n    ABSOLUTE_BARRIER_DROPDOWN_OPTION: [[localize('Absolute'), 'absolute']],\n    NOT_AVAILABLE_DROPDOWN_OPTIONS: [[localize('Not available'), 'na']],\n    NOT_AVAILABLE_DURATIONS: [{ display: localize('Not available'), unit: 'na', min: 0 }],\n    BARRIER_TRADE_TYPES: ['higherlower', 'touchnotouch', 'endsinout', 'staysinout', 'callputspread'],\n    PREDICTION_TRADE_TYPES: ['matchesdiffers', 'overunder', 'highlowticks'],\n    DIGIT_CATEGORIES: ['digits', 'highlowticks'],\n    INDEPEDENT_BLOCKS: ['block_holder', 'tick_analysis', 'loader', 'procedures_defreturn', 'procedures_defnoreturn'],\n    bbResult: [\n        [localize('upper'), '1'],\n        [localize('middle'), '0'],\n        [localize('lower'), '2'],\n    ],\n    macdFields: [\n        [localize('Histogram'), '0'],\n        [localize('MACD'), '1'],\n        [localize('Signal'), '2'],\n    ],\n    gd: {\n        scope: 'https://www.googleapis.com/auth/drive.file',\n        discovery_docs: 'https://www.googleapis.com/discovery/v1/apis/drive/v3/rest',\n    },\n    workspaces: {\n        flyoutWorkspacesStartScale: 0.7,\n        mainWorkspaceStartScale: 0.9,\n        previewWorkspaceStartScale: 0.6,\n    },\n    strategies: {\n        martingale: {\n            index: 0,\n            label: localize('Martingale'),\n            description: localize(\n                'The Martingale Strategy is a classic trading technique that has been used for more than a hundred years, popularised by the French mathematician Paul Pierre Levy in the 18th century.'\n            ),\n        },\n        dalembert: {\n            index: 1,\n            label: localize(\"D'Alembert\"),\n            description: localize(\n                'The concept of the DAlembert Strategy is said to be similar to the Martingale Strategy where you will increase your contract size after a loss. With the DAlembert Strategy, you will also decrease your contract size after a successful trade.'\n            ),\n        },\n        oscars_grind: {\n            index: 2,\n            label: localize(\"Oscar's Grind\"),\n            description: localize(\n                \"The Oscar's Grind Strategy is a low-risk positive progression strategy that first appeared in 1965. By using this strategy, the size of your contract will increase after successful trades, but remains unchanged after unsuccessful trades.\"\n            ),\n        },\n    },\n    default_file_name: localize('Untitled Bot'),\n};\n","export const unrecoverable_errors = [\n    'InsufficientBalance',\n    'CustomLimitsReached',\n    'OfferingsValidationError',\n    'InvalidCurrency',\n    'ContractBuyValidationError',\n    'NotDefaultCurrency',\n    'PleaseAuthenticate',\n    'FinancialAssessmentRequired',\n    'PositiveIntegerExpected',\n    'OptionError',\n    'IncorrectPayoutDecimals',\n    'IncorrectStakeDecimals',\n    'NoMFProfessionalClient',\n    'AuthorizationRequired',\n    'InvalidToken',\n    'DailyLossLimitExceeded',\n    'InputValidationFailed',\n    'ClientUnwelcome',\n    'PriceMoved',\n];\n\nexport const message_types = Object.freeze({\n    ERROR: 'error',\n    NOTIFY: 'notify',\n    SUCCESS: 'success',\n});\n\nexport const error_types = Object.freeze({\n    RECOVERABLE_ERRORS: 'recoverable_errors',\n    UNRECOVERABLE_ERRORS: 'unrecoverable_errors',\n});\n\nexport const log_types = Object.freeze({\n    LOAD_BLOCK: 'load_block',\n    PURCHASE: 'purchase',\n    SELL: 'sell',\n    NOT_OFFERED: 'not_offered',\n    PROFIT: 'profit',\n    LOST: 'lost',\n    WELCOME_BACK: 'welcome_back',\n});\n","export const save_types = Object.freeze({\n    UNSAVED: 'unsaved',\n    LOCAL: 'local',\n    GOOGLE_DRIVE: 'google drive',\n});\n","import { localize } from '@deriv/translations';\nimport { config } from '../constants/config';\nimport ApiHelpers from '../services/api/api-helpers';\n\n/* eslint-disable no-underscore-dangle */\nexport default class BlockConversion {\n    constructor() {\n        this.blocks_pending_reconnect = {};\n        this.workspace = this.createWorkspace();\n        this.workspace_variables = {};\n        this.has_market_block = false;\n    }\n\n    getConversions() {\n        const generateGrowingListBlock = (block_node, block_type, variable_name, child_value_input_name) => {\n            const block = this.workspace.newBlock(block_type);\n            const block_child_nodes = Array.from(block_node.children);\n            const mutation_dom = block_child_nodes.find(child_node => child_node.tagName.toLowerCase() === 'mutation');\n\n            if (mutation_dom) {\n                const items_amount = parseInt(mutation_dom.getAttribute('items')) || 0;\n\n                if (items_amount > 0) {\n                    // In DBot we have a statement block for each value part of the list, so we need to\n                    // generate blocks for these and connect them to the parent's statement.\n                    for (let i = 0; i < items_amount; i++) {\n                        block.onIconClick();\n                    }\n\n                    // Note that value_input_nodes.length can be different than the items_amount\n                    // user can have empty entries in their list!\n                    block_child_nodes\n                        .filter(child_node => child_node.tagName.toLowerCase() === 'value')\n                        .forEach(child_node => {\n                            const value_input_name = child_node.getAttribute('name');\n                            const value_input_index = parseInt(value_input_name.replace(/[^0-9]+/g, ''));\n\n                            Array.from(child_node.children).forEach(value_block_node => {\n                                const value_block = this.convertBlockNode(value_block_node, block);\n\n                                // Now connect this converted block to the new text_statement.\n                                const statement_block = block\n                                    .getBlocksInStatement('STACK')\n                                    .find((b, i) => value_input_index === i);\n                                const value_input = statement_block.getInput(child_value_input_name);\n\n                                value_input.connection.connect(value_block.outputConnection);\n                            });\n\n                            child_node.parentNode.removeChild(child_node);\n                        });\n                }\n            }\n\n            // Return variable block instead of statement.\n            const variable = this.generateUniqueVariable(variable_name);\n            const variable_block = this.workspace.newBlock('variables_get');\n\n            variable_block.setFieldValue(variable.getId(), 'VAR');\n            block.setFieldValue(variable.getId(), 'VARIABLE');\n\n            return {\n                block_to_attach: variable_block,\n                statement_blocks: [block],\n            };\n        };\n        const generateIndicatorBlock = (block_node, block_type, variable_name) => {\n            const block = this.workspace.newBlock(block_type);\n            const value_input_name_mappings = {\n                input_list: [{ old: 'INPUT', new: 'INPUT_LIST' }],\n                period: [{ old: 'PERIOD', new: 'PERIOD' }],\n                fast_ema_period: [{ old: 'FAST_EMA_PERIOD', new: 'FAST_EMA_PERIOD' }],\n                signal_ema_period: [\n                    // https://github.com/binary-com/binary-bot/pull/1123\n                    { old: 'SMA_PERIOD', new: 'SIGNAL_EMA_PERIOD' },\n                    { old: 'SIGNAL_EMA_PERIOD', new: 'SIGNAL_EMA_PERIOD' },\n                ],\n                slow_ema_period: [{ old: 'SLOW_EMA_PERIOD', new: 'SLOW_EMA_PERIOD' }],\n                std_dev_multiplier_up: [{ old: 'UPMULTIPLIER', new: 'UPMULTIPLIER' }],\n                std_dev_multiplier_down: [{ old: 'DOWNMULTIPLIER', new: 'DOWNMULTIPLIER' }],\n            };\n\n            // Bollinger Bands + MACDA have some fields we need to carry over.\n            switch (block_type) {\n                case 'bb_statement':\n                case 'bba_statement': {\n                    const bb_result_list = block.getField('BBRESULT_LIST');\n                    if (bb_result_list) {\n                        bb_result_list.setValue(this.getFieldValue(block_node, 'BBRESULT_LIST'));\n                    }\n                    break;\n                }\n                case 'macda_statement': {\n                    const macd_fields_list = block.getField('MACDFIELDS_LIST');\n                    if (macd_fields_list) {\n                        macd_fields_list.setValue(this.getFieldValue(block_node, 'MACDFIELDS_LIST'));\n                    }\n                    break;\n                }\n                default:\n                    break;\n            }\n\n            // Attach required child blocks (these are defined on each indicator block).\n            const required_child_blocks = block.required_child_blocks || [];\n\n            required_child_blocks.forEach(required_child_block_name => {\n                const child_block = this.workspace.newBlock(required_child_block_name);\n                const last_connection = block.getLastConnectionInStatement('STATEMENT');\n\n                last_connection.connect(child_block.previousConnection);\n            });\n\n            const blocks_in_statement = block.getBlocksInStatement('STATEMENT');\n\n            blocks_in_statement.forEach(block_in_statement => {\n                const value_name_mappings = value_input_name_mappings[block_in_statement.type];\n\n                if (value_name_mappings) {\n                    value_name_mappings.forEach(value_name_mapping => {\n                        const el_value = block_node.querySelector(`value[name=\"${value_name_mapping.old}\"]`);\n\n                        if (el_value) {\n                            const value_input = block_in_statement.getInput(value_name_mapping.new);\n\n                            Array.from(el_value.children).forEach(el_value_child => {\n                                const converted_block = this.convertBlockNode(el_value_child, block);\n                                const input_child_type = el_value_child.tagName.toLowerCase();\n\n                                if (input_child_type === 'shadow') {\n                                    converted_block.setShadow(true);\n                                }\n\n                                value_input.connection.connect(converted_block.outputConnection);\n                            });\n\n                            el_value.parentNode.removeChild(el_value);\n                        }\n                    });\n                }\n            });\n\n            // Return variable block instead of statement.\n            const variable = this.generateUniqueVariable(variable_name);\n            const variable_block = this.workspace.newBlock('variables_get');\n\n            variable_block.setFieldValue(variable.getId(), 'VAR');\n            block.setFieldValue(variable.getId(), 'VARIABLE');\n\n            return {\n                block_to_attach: variable_block,\n                statement_blocks: [block],\n            };\n        };\n        const tradeOptions = (block_node, is_symbol_type = false) => {\n            const block = this.workspace.newBlock('trade_definition_tradeoptions');\n            const block_node_to_use = block_node;\n\n            // Legacy symbol blocks used a statement \"CONDITION\" populated with a trade type block.\n            // This trade type block has the same structure as tradeOptions, hence we can use it here.\n            if (is_symbol_type) {\n                return false;\n            }\n\n            const fields = [\n                'DURATIONTYPE_LIST',\n                'CURRENCY_LIST',\n                'BARRIEROFFSETTYPE_LIST',\n                'SECONDBARRIEROFFSETTYPE_LIST',\n            ];\n            const block_child_nodes = Array.from(block_node_to_use.children);\n\n            let barrier_inputs = 0;\n            let has_prediction = false;\n\n            block_child_nodes\n                .filter(block_child_node => block_child_node.tagName.toLowerCase() === 'value')\n                .forEach(block_child_node => {\n                    const value_input_name = block_child_node.getAttribute('name');\n\n                    if (value_input_name === 'BARRIEROFFSET' || value_input_name === 'SECONDBARRIEROFFSET') {\n                        barrier_inputs++;\n                    } else if (value_input_name === 'PREDICTION') {\n                        has_prediction = true;\n                    }\n                });\n\n            if (barrier_inputs > 0) {\n                block.createBarrierInputs({\n                    allow_both_types: true,\n                    values: [1, -1],\n                });\n            }\n\n            if (has_prediction) {\n                block.createPredictionInput([0]);\n            }\n\n            fields.forEach(field_name => {\n                const field = block.getField(field_name);\n                if (field) {\n                    field.setValue(this.getFieldValue(block_node_to_use, field_name));\n                }\n            });\n\n            return { block_to_attach: block };\n        };\n        const conversions = {\n            bb: block_node => generateIndicatorBlock(block_node, 'bb_statement', 'bb'),\n            bba: block_node => generateIndicatorBlock(block_node, 'bba_statement', 'bba'),\n            ema: block_node => generateIndicatorBlock(block_node, 'ema_statement', 'ema'),\n            emaa: block_node => generateIndicatorBlock(block_node, 'emaa_statement', 'emaa'),\n            lists_create_with: block_node =>\n                generateGrowingListBlock(block_node, 'lists_create_with', localize('list'), 'VALUE'),\n            macda: block_node => generateIndicatorBlock(block_node, 'macda_statement', 'macda'),\n            market: block_node => {\n                this.has_market_block = true;\n                return tradeOptions(block_node);\n            },\n            rsi: block_node => generateIndicatorBlock(block_node, 'rsi_statement', 'rsi'),\n            rsia: block_node => generateIndicatorBlock(block_node, 'rsia_statement', 'rsia'),\n            sma: block_node => generateIndicatorBlock(block_node, 'sma_statement', 'sma'),\n            smaa: block_node => generateIndicatorBlock(block_node, 'smaa_statement', 'smaa'),\n            text_join: block_node => generateGrowingListBlock(block_node, 'text_join', localize('text'), 'TEXT'),\n            trade: block_node => {\n                const block = this.workspace.newBlock('trade_definition');\n                const block_fields = {\n                    trade_definition_market: ['MARKET_LIST', 'SUBMARKET_LIST', 'SYMBOL_LIST'],\n                    trade_definition_tradetype: ['TRADETYPECAT_LIST', 'TRADETYPE_LIST'],\n                    trade_definition_contracttype: ['TYPE_LIST'],\n                    trade_definition_candleinterval: ['CANDLEINTERVAL_LIST'],\n                    trade_definition_restartbuysell: ['TIME_MACHINE_ENABLED'],\n                    trade_definition_restartonerror: ['RESTARTONERROR'],\n                };\n\n                const blocks_to_connect = {};\n\n                Object.keys(block_fields).forEach(child_block_name => {\n                    const child_block = this.workspace.newBlock(child_block_name);\n\n                    block_fields[child_block_name].forEach(field_name => {\n                        child_block.setFieldValue(this.getFieldValue(block_node, field_name), field_name);\n                    });\n\n                    blocks_to_connect[child_block_name] = child_block;\n                });\n\n                Object.values(blocks_to_connect).forEach(child_block => {\n                    const last_connection = block.getLastConnectionInStatement('TRADE_OPTIONS');\n                    last_connection.connect(child_block.previousConnection);\n                });\n\n                return { block_to_attach: block };\n            },\n            tradeOptions,\n        };\n\n        return conversions;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getIllegalBlocks() {\n        const illegal_blocks = [];\n\n        // Legacy symbol + trade_type blocks are special cases, they are turned into multiple blocks.\n        // We don't convert these atm, as a workaround users can import to BBot, then export and load\n        // into DBot.\n        const { active_symbols } = ApiHelpers.instance.active_symbols;\n        const { opposites } = config;\n\n        active_symbols.forEach(active_symbol => {\n            const symbol_name = active_symbol.symbol.toLowerCase();\n            if (!illegal_blocks.includes(symbol_name)) {\n                illegal_blocks.push(symbol_name);\n            }\n        });\n\n        // All trade types blocks cannot be converted at this time.\n        Object.keys(opposites).forEach(opposites_name => illegal_blocks.push(opposites_name));\n\n        return illegal_blocks;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    createWorkspace() {\n        const options = new Blockly.Options({ media: `${__webpack_public_path__}media/` });\n        const el_injection_div = new DocumentFragment();\n        const workspace = Blockly.createVirtualWorkspace_(el_injection_div, options, false, false);\n\n        return workspace;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getFieldValue(el_block, field_name) {\n        const el_field = el_block.querySelector(`field[name=\"${field_name}\"]`);\n        return el_field ? el_field.textContent : '';\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getFirstBlockInStack(block) {\n        let current_previous_connection = block.previousConnection;\n        let previous_block = block.getPreviousBlock();\n\n        if (!current_previous_connection) {\n            return block;\n        }\n\n        while (previous_block) {\n            if (previous_block === block.getSurroundParent()) {\n                break;\n            }\n\n            current_previous_connection = previous_block.previousConnection;\n            previous_block = previous_block.getPreviousBlock();\n        }\n\n        return current_previous_connection.sourceBlock_;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    updateRenamedFields(xml) {\n        const renamed_fields = {\n            MARKET_LIST: {\n                volidx: 'synthetic_index',\n            },\n            TRADETYPECAT_LIST: {\n                endsinout: 'inout',\n                staysinout: 'inout',\n                callputequal: 'callput',\n            },\n            TRADETYPE_LIST: {\n                risefall: 'callput',\n                risefallequals: 'callputequal',\n            },\n        };\n\n        Object.keys(renamed_fields).forEach(field_name => {\n            const el_field = xml.querySelector(`field[name=\"${field_name}\"]`);\n\n            if (el_field) {\n                const value = el_field.innerText;\n\n                Object.keys(renamed_fields[field_name]).forEach(old_name => {\n                    if (value === old_name) {\n                        el_field.innerText = renamed_fields[field_name][old_name];\n                    }\n                });\n            }\n        });\n\n        return xml;\n    }\n\n    naivelyFixLegacyStrategyAfterConversion() {\n        // For old \"market\" blocks, move everything in \"Trade options\" except \"DURATION\"\n        // to \"Run once at start\". Legacy \"market\" blocks had no such thing as \"Run once at start\"\n        // not moving everything would kill Martingale strategies as they'd be reinitialised each run.\n        const trade_definition_block = this.workspace.getTradeDefinitionBlock();\n        const has_initialization_block = trade_definition_block.getBlocksInStatement('INITIALIZATION').length > 0;\n        if (trade_definition_block) {\n            trade_definition_block.getBlocksInStatement('SUBMARKET').forEach(block => {\n                if (\n                    block.type !== 'trade_definition_tradeoptions' &&\n                    this.has_market_block &&\n                    !has_initialization_block\n                ) {\n                    const last_connection = trade_definition_block.getLastConnectionInStatement('INITIALIZATION');\n                    block.unplug(true);\n                    last_connection.connect(block.previousConnection);\n                }\n            });\n        }\n    }\n\n    generateUniqueVariable(variable_name) {\n        let current_name = variable_name;\n        let counter = 0;\n\n        while (Object.values(this.workspace_variables).includes(current_name)) {\n            counter++;\n            current_name = variable_name + counter;\n        }\n\n        const ws_variable = Blockly.Variables.getOrCreateVariablePackage(this.workspace, '', current_name, '');\n        this.workspace_variables[ws_variable.id_] = current_name; // eslint-disable-line\n\n        return ws_variable;\n    }\n\n    convertStrategy(strategy_node, showIncompatibleStrategyDialog) {\n        // Disable events (globally) to suppress block onchange listeners from firing.\n        Blockly.Events.disable();\n\n        // We only want to update renamed fields for modern strategies.\n        const xml = this.updateRenamedFields(strategy_node);\n\n        // Don't convert already compatible strategies.\n        if (strategy_node.hasAttribute('is_dbot') && strategy_node.getAttribute('is_dbot') === 'true') {\n            Blockly.Events.enable();\n            return xml;\n        }\n\n        const has_illegal_block = this.getIllegalBlocks().some(\n            illegal_block_type => !!xml.querySelector(`block[type=\"${illegal_block_type}\"]`)\n        );\n\n        if (has_illegal_block) {\n            if (showIncompatibleStrategyDialog) {\n                showIncompatibleStrategyDialog();\n            }\n            Blockly.Events.enable();\n            return Blockly.Xml.textToDom('<xml />');\n        }\n\n        const variable_nodes = [];\n        const block_nodes = [];\n\n        Array.from(xml.children).forEach(strategy_child_node => {\n            const tag_name = strategy_child_node.nodeName.toLowerCase();\n\n            switch (tag_name) {\n                case 'block':\n                case 'shadow': {\n                    block_nodes.push(strategy_child_node);\n                    break;\n                }\n                case 'variables': {\n                    variable_nodes.push(...strategy_child_node.children);\n                    break;\n                }\n                default:\n                    break;\n            }\n        });\n\n        const registerVariables = el_variables => {\n            el_variables.forEach(el_variable => {\n                const variable_id = el_variable.getAttribute('id');\n                const variable_name = el_variable.textContent;\n\n                if (!this.workspace_variables[variable_id]) {\n                    const variable = Blockly.Variables.getOrCreateVariablePackage(\n                        this.workspace,\n                        variable_id,\n                        variable_name,\n                        ''\n                    );\n                    this.workspace_variables[variable.id_] = variable.name;\n                }\n            });\n        };\n\n        // Register pre-existing variables taken from XML file. Users may register variables\n        // but not use them, we should not delete them nor create only the ones used in the strategy.\n        registerVariables(variable_nodes);\n\n        // Collection strategies don't pre-register variables, find these and register\n        // variable instances for them if they don't exist yet.\n        registerVariables(xml.querySelectorAll('field[name=\"VAR\"]'));\n\n        block_nodes.forEach(block_node => this.convertBlockNode(block_node));\n\n        // Re-connect blocks that have been transformed into multiples. i.e. in the case\n        // of old multiline blocks converted to statement blocks.\n        Object.keys(this.blocks_pending_reconnect).forEach(previous_sibling_id => {\n            const previous_sibling_block = this.workspace.getBlockById(previous_sibling_id);\n            const child_blocks = this.blocks_pending_reconnect[previous_sibling_id];\n            const sibling_previous_connection = previous_sibling_block.previousConnection;\n\n            if (sibling_previous_connection) {\n                const sibling_previous_target_connection = sibling_previous_connection.targetConnection;\n                let highest_previous_connection = sibling_previous_connection;\n\n                // Connect all the blocks to be connected in reverse, we do this to maintain\n                // the original order of statement blocks, although the order mostly doesn't\n                // matter. (This may change, it may matter for other statement blocks.)\n                child_blocks.reverse().forEach(child_block => {\n                    highest_previous_connection.connect(child_block.nextConnection);\n                    highest_previous_connection = child_block.previousConnection;\n                });\n\n                if (sibling_previous_target_connection) {\n                    // Reconnect the first block in this statement to the original parent connection.\n                    let current_previous_connection = previous_sibling_block.previousConnection;\n                    let previous_block = previous_sibling_block.getPreviousBlock();\n\n                    while (previous_block) {\n                        if (previous_block === previous_block.getSurroundParent()) {\n                            break;\n                        }\n\n                        current_previous_connection = previous_block.previousConnection;\n                        previous_block = previous_block.getPreviousBlock();\n                    }\n\n                    sibling_previous_target_connection.connect(current_previous_connection);\n                }\n            }\n        });\n\n        this.naivelyFixLegacyStrategyAfterConversion();\n\n        this.workspace.getAllBlocks(true).forEach(block => {\n            block.initSvg();\n            block.render();\n        });\n\n        this.workspace.cleanUp();\n\n        const converted_xml = Blockly.Xml.workspaceToDom(this.workspace);\n\n        if (strategy_node.hasAttribute('collection') && strategy_node.getAttribute('collection') === 'true') {\n            converted_xml.setAttribute('collection', 'true');\n        }\n\n        converted_xml.setAttribute('is_dbot', 'true');\n\n        this.workspace = null;\n\n        Blockly.Events.enable();\n\n        return converted_xml;\n    }\n\n    convertBlockNode(el_block, parent_block = null) {\n        const conversions = this.getConversions();\n        const block_type = el_block.getAttribute('type');\n        const is_old_block = Object.keys(conversions).includes(block_type);\n        let block = null;\n\n        const is_collapsed = el_block.getAttribute('collapsed') && el_block.getAttribute('collapsed') === 'true';\n        const is_immovable = el_block.getAttribute('movable') && el_block.getAttribute('movable') === 'false';\n        const is_undeletable = el_block.getAttribute('deletable') && el_block.getAttribute('deletable') === 'false';\n        const is_disabled = el_block.getAttribute('disabled') && el_block.getAttribute('disabled') === 'true';\n\n        const setBlockAttributes = b => {\n            b.setCollapsed(is_collapsed);\n            b.setMovable(!is_immovable);\n            b.setDeletable(!is_undeletable);\n            b.setDisabled(is_disabled);\n        };\n\n        if (is_old_block) {\n            const conversion_obj = conversions[block_type](el_block);\n\n            // block is a value block that needs to be reattached. TODO?\n            if (conversion_obj.block_to_attach) {\n                block = conversion_obj.block_to_attach;\n                setBlockAttributes(block);\n            }\n\n            // Statement blocks coming from the conversion_obj need to be attached to the block's previousConnection.\n            if (parent_block && conversion_obj.statement_blocks) {\n                conversion_obj.statement_blocks.forEach(statement_block => {\n                    // Persist block attributes.\n                    setBlockAttributes(statement_block);\n\n                    const previous_connection = this.getClosestLegalPreviousConnection(parent_block);\n\n                    if (previous_connection) {\n                        const target_block = previous_connection.sourceBlock_;\n\n                        if (!this.blocks_pending_reconnect[target_block.id]) {\n                            this.blocks_pending_reconnect[target_block.id] = [];\n                        }\n\n                        this.blocks_pending_reconnect[target_block.id].push(statement_block);\n                    }\n                });\n            }\n        } else {\n            const is_legal_block = Object.keys(Blockly.Blocks).includes(block_type);\n\n            if (is_legal_block) {\n                block = this.workspace.newBlock(block_type);\n                setBlockAttributes(block);\n\n                // Ensure mutations are correctly rendered. This logic happens here because\n                // we should ignore mutations on blocks that are already converted i.e mutations\n                // will be taken care of in conversion, not here.\n                if (block) {\n                    const mutation_dom = Array.from(el_block.children).find(\n                        child_node => child_node.tagName.toLowerCase() === 'mutation'\n                    );\n\n                    if (mutation_dom && block.domToMutation) {\n                        block.domToMutation(mutation_dom);\n                    }\n                }\n            }\n        }\n\n        if (!block) {\n            console.warn('Unrecognised block found.', block_type); // eslint-disable-line no-console\n            return false;\n        }\n\n        // Keep track of parent_block, especially important for blocks\n        // nested in <next> statements. This property is only set during conversion.\n        if (parent_block) {\n            block.conversion_parent = parent_block;\n        }\n\n        Array.from(el_block.children).forEach(el_block_child => {\n            const tag_name = el_block_child.tagName.toLowerCase();\n\n            switch (tag_name) {\n                case 'field': {\n                    const field_name = el_block_child.getAttribute('name');\n                    const field = block.getField(field_name);\n\n                    if (field) {\n                        if (field instanceof Blockly.FieldVariable) {\n                            const variable_id = el_block_child.getAttribute('id');\n                            const variable_name = el_block_child.innerText.trim();\n                            const variable = Blockly.Variables.getOrCreateVariablePackage(\n                                this.workspace,\n                                variable_id,\n                                variable_name,\n                                ''\n                            );\n                            this.workspace_variables[variable.id_] = variable_name;\n                            field.setValue(variable.id_);\n                        } else {\n                            field.setValue(el_block_child.innerText);\n                        }\n                    }\n                    break;\n                }\n                case 'value': {\n                    this.processValueInputs(block, el_block_child);\n                    break;\n                }\n                case 'statement': {\n                    const statement_name = el_block_child.getAttribute('name');\n                    this.processStatementInputs(block, statement_name, el_block_child);\n                    break;\n                }\n                case 'next': {\n                    const closest_statement = el_block_child.closest('statement');\n\n                    if (closest_statement) {\n                        const statement_name = closest_statement.getAttribute('name');\n                        this.processStatementInputs(block, statement_name, el_block_child, block.conversion_parent);\n                    } else if (block.nextConnection) {\n                        Array.from(el_block_child.children).forEach(el_sibling_block => {\n                            const sibling_block = this.convertBlockNode(el_sibling_block);\n                            block.nextConnection.connect(sibling_block.previousConnection);\n                        });\n                    }\n                    break;\n                }\n                case 'comment': {\n                    const is_minimised = el_block_child.getAttribute('pinned') !== 'true';\n                    const comment_text = el_block_child.innerText;\n\n                    block.comment = new Blockly.ScratchBlockComment(block, comment_text, null, 0, 0, is_minimised);\n                    block.comment.iconXY_ = { x: 0, y: 0 };\n                    block.comment.setVisible(true); // Scratch comments are always visible.\n                    break;\n                }\n                default:\n                    break;\n            }\n        });\n\n        return block;\n    }\n\n    // eslint-disable-next-line consistent-return\n    processValueInputs(block, el_input) {\n        const input_name = el_input.getAttribute('name');\n        const input = block.getInput(input_name);\n\n        if (!input) {\n            console.warn('Unrecognised value input', input_name); // eslint-disable-line no-console\n            return false;\n        }\n\n        // Each of the children of a value node is a shadow or block node. Recursively\n        // convert these block nodes to their new counterpart and re-connect them.\n        // eslint-disable-next-line consistent-return\n        Array.from(el_input.children).forEach(el_input_child_block => {\n            const input_child_block = this.convertBlockNode(el_input_child_block, block);\n\n            if (!input_child_block) {\n                // eslint-disable-next-line no-console\n                console.warn('Illegal child.', el_input_child_block.getAttribute('type'));\n                return false;\n            }\n\n            // Set shadow property for shadow blocks.\n            const input_child_type = el_input_child_block.tagName.toLowerCase();\n            if (input_child_type === 'shadow') {\n                input_child_block.setShadow(true);\n            }\n\n            // Re-connect the child block to the value input.\n            input.connection.connect(input_child_block.outputConnection);\n        });\n    }\n\n    // eslint-disable-next-line consistent-return\n    processStatementInputs(block, statement_name, el_node_with_children, block_to_search = null) {\n        const block_to_use = block_to_search || block;\n        const input = block_to_use.getInput(statement_name);\n\n        if (!input) {\n            console.warn('Unrecognised statement input', statement_name); // eslint-disable-line no-console\n            return false;\n        }\n\n        // Each of the children of a statement node is a block node. Recursively\n        // convert these block nodes to their new counterpart and reconnect them.\n        // eslint-disable-next-line consistent-return\n        Array.from(el_node_with_children.children).forEach(el_input_child_block => {\n            const input_child_block = this.convertBlockNode(el_input_child_block, block_to_use);\n            if (!input_child_block) {\n                // eslint-disable-next-line no-console\n                console.warn('Unrecognised child in statement', el_input_child_block.getAttribute('type'));\n                return false;\n            }\n\n            // Note that blocks are connected recursively so more deeply nested blocks\n            // (i.e. nested in <next>) will be connected before less nested blocks.\n            // Luckily Blockly API works in our favour and helps maintain the correct order.\n            const statement_input = block_to_use.getInput(statement_name);\n\n            if (statement_input && input_child_block.previousConnection) {\n                statement_input.connection.connect(input_child_block.previousConnection);\n            }\n        });\n    }\n\n    getClosestLegalPreviousConnection(supposed_parent_block) {\n        // Procedures are a bit special, it's hard to find the correct connection for them so we\n        // generate a (completely useless) filler block and connect it to the procedure's statement\n        // so we can return that useless block's previousConnection.\n        if (config.procedureDefinitionBlocks.includes(supposed_parent_block.type)) {\n            const blocks_in_statement = supposed_parent_block.getBlocksInStatement('STACK');\n\n            if (blocks_in_statement.length === 0) {\n                const input = supposed_parent_block.getInput('STACK');\n                const useless_block = this.workspace.newBlock('useless_block');\n\n                input.connection.connect(useless_block.previousConnection);\n\n                return useless_block.previousConnection;\n            }\n\n            return supposed_parent_block.getInputTargetBlock('STACK').previousConnection;\n        }\n\n        let current_block = this.getFirstBlockInStack(supposed_parent_block);\n        let is_protected_statement = this.isConnectedToProtectedStatementInput(current_block);\n\n        while (is_protected_statement) {\n            const new_parent = current_block.getParent();\n\n            if (new_parent) {\n                current_block = new_parent;\n                is_protected_statement = this.isConnectedToProtectedStatementInput(current_block);\n            }\n        }\n\n        if (current_block.previousConnection) {\n            return current_block.previousConnection;\n        }\n\n        if (supposed_parent_block.conversion_parent) {\n            return this.getClosestLegalPreviousConnection(supposed_parent_block.conversion_parent);\n        }\n\n        return false;\n    }\n\n    isConnectedToProtectedStatementInput(block) {\n        const first_block = this.getFirstBlockInStack(block);\n        const previous_connection = first_block.previousConnection;\n\n        if (previous_connection) {\n            const target_connection = previous_connection.targetConnection;\n\n            if (target_connection) {\n                const target_block = target_connection.sourceBlock_; // eslint-disable-line\n                const input = target_block.getInputWithConnection(target_connection);\n                const protected_statements = target_block.protected_statements || [];\n\n                if (input && protected_statements.includes(input.name)) {\n                    return true;\n                }\n            }\n        }\n\n        return false;\n    }\n}\n","/* eslint import/no-webpack-loader-syntax: 0 */\nconst {\n    goog,\n    Blockly,\n} = require('imports-loader?this=>window!exports-loader?goog&Blockly!scratch-blocks/blockly_compressed_vertical');\n\nBlockly.JavaScript = require('blockly/javascript');\n\nwindow.goog = goog;\nwindow.Blockly = Blockly;\n\nrequire('imports-loader!scratch-blocks/msg/messages');\nrequire('./blocks');\nrequire('./hooks');\n","export const defineContract =\n    // 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAlQTFRFAAAAMzMzMzMzaARWNQAAAAN0Uk5TAID/7PezGAAAACFJREFUeJxjYEAFUqtWLQFSCgwMHDipplXUF0ShoI5ABgDTPwulgF1l+wAAAABJRU5ErkJggg==';\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAAGXcA1uAAAAAXNSR0IArs4c6QAAAK9JREFUSA3tVUkOgCAMROP/f4PfU4iOaWQKLYmBg71AOksXTAyhGkeKKuECjTSDUwcFxVdNawNgQ10omJNKROqiJbMJsKJZgKgEouuESRYVFVxO35JTnxGDvk9aWQ5GCXfSPbRbsLHysr0lBeMESaKE3hkmbKk230SY9Ulky5rG/SVJU8udPrMU5s7w9bEugUlN886MWiJN86/o2dywFQ17g10b+dlJefH9X0t9X+YETM6gfmoeI+MAAAAASUVORK5CYII=';\n\nexport const blueInfo =\n    // 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABOUlEQVQ4EaVTu07DQBDcOVuUpEaEUEETiY9IYYnHLyAaGlq+IF9AF9HQIEV8AQjJBR+BlAYqQhA1lCj2smPrEMFrIsQVPt3uzO6sbw7yY/WOXvs6L45FNFNFj2lAp/bNkSYX08u1yXcK4qE/1JX3x9mZCk5ENcT4wg6UED1f3eqeTob4YK4qQPLbw8utdR0sEFoPuOtsr++ySNWJnT1yksh+EnDQrKODmmMKOHM5L+492SwgChSlXjeK2DghTXbS6oe1zFwUcmPKGtwqYBxybQTNPAS7z6424I8QGZqFeFUxFPe6u8jTuGsq/EWuf10+3o2G2iRubmmQXFOAfCmyFYA80J7m1bIV05agK40b6G3a08NtHj7vMe7dBDk11wD/tjI9TW8DMvp1HMo2THwHVPf1Gnng+utz/gS/LY1YxBZd7wAAAABJRU5ErkJggg==';\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAWBJREFUOI2dk81KQmEQhp/5zgHRjhtz0apMXBUSdAcVLWrnxhswsHARSLcRhYm00CvIRbugrCtIaJHtIqlFQUsPBeY50yINM7WfZzV8M+/MOzCfMED8wE2q0Q0VVgSJASjaNEJNoHy7Fb7ur5dekChooGO7ewJZwAw27uIBh6Gok2+kpf3ZIFHQgG+7JwpLI4RfULiYiDprjbS0DYBvu/u/FXenLr88u7sAEj9wk2rp1TDb1VQQXyF9/Dp0HctnwajRjWFiAF9BRxuxOpZmJF5qNRTmfmt/gGujMD0qW00FOUoFxzWYsRnjcnHK+smBGoGHn6rGcG8Qzv6v11MjUObjwr5Rf/K4fByaAvA8IxUBmC21ikDub8Mp3OXC2wYgFHXyCOd/kNcitrMD3QNqpKUdmnTWUYqMWKdnG6UQsZz1elbeoO839kgUW/MdSzOisgrEus9N0FPPSOV+M3zTX/8O8E9xAaZDaSsAAAAASUVORK5CYII=';\n\nexport const purchase =\n    // 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAIRQTFRFAAAAMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzxeXsBQAAACx0Uk5TAAG7tbYCR//Y2a15rhj7+hmse95G391Iehd4tNIy0bJSsZJykXFRMRLxEbk1pp94AAAA7UlEQVR4nO2R2RaCMAxEi1VHQXBfAUXcQP7//xSOgC2J1Vd1Htq0J7dJOkL89auyWrIM263OG0AXvTLso/sGYMMpQwcDc77reW4VD72REXBg14cxJqZ8a/rc9wxz09j3FOsJX2BpAMZYqQ0axl5rY+rnhjb6i/zYEi8lPwV8okaAkC4eYkve7xDRQIQ9eR/jQAMHHJn7mAZinJjKu2KXUlnyXs8kECIodkBZ8t+4kECClAZSXOleUyQUUD7U1MMIHeBsqIyQvrKwNrBGcDawRnA21EY0OqVtqI3QxNmQ/x8jxgYhMjo/4/L/+mbdAKHBEAKASOAzAAAAAElFTkSuQmCC';\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAAEgBckRAAAAAXNSR0IArs4c6QAAAvlJREFUaAXtmU1u00AUxxPEGoluKMcgJ8gCARsW9CZ0ReEU5BwFiYpWqtgYiQuQFSygJ2CRLV2E39+ZZ42dGc84XxIwT3p9X//34VfbsZPRaGNaQkpGPNu4yGESGfHUOtnYte0b6G8NdABJu7NoG4KXmi1GwUTACwtYomzp5r9ripP3/KB8zj7q4P4t0z9o9PfJowM0NhD6D9NN+sFm1xb05Rjybe171nKkDBLqfw6yt1Oqjjo3F4XArbli1dfmT7YpgOQGWPanLgjfFXyn6x9sU+QMfhdKxL/1OfSAGreh4vIR643H8pQ4hydRQCAAPv9owJ7AF1YH/bKr+z7FsPMbdBP8ZNNNOuwE+6v0bPILpJLAXsAvUrgSLxsoG4hsgAtoDDe3CoPhW7uFW8yXOffzcxK++ElOfxzwDXcxafAmhvscfjO8opdBgSfwjedqVPxaXbB5A0op5P+GH8ZwqXgwj6RtaO1kiDYJBiJOJop+HuScRZGyLfcUq2p5nJHVgAnrQzepXF/HnMIVnEckt84Os02qSkdfYN/Pq75KnpPQPFVYMZOBBq2B/EaxFVWApga0x2WT8vu64UIyq0EoMdfXeuC3JFZxhP7L7ByZe0Q5tQqmbKBsoGygbOCv2wAfHU/1SQp9Sw0P5nuNJCeFPUicYY7hW8fHqaYOr4dR5UQfSFN1dhJnAD1a/4RF2RsFq8d10Q0ce+LYyYy9RWiulw/R615gIEiOvuASpb/IDeRv7aLxq7r9FgOQbwvY7g2s72ho0vurgjuIfYmPfbMNijGhvsoSnQxKHABW7brDcvkhN23IBVS5otPc4hvgrHa1QW5/CpvR26loHkKuQuuvc/L7+BDO4sT0tiZ6ZL6dSgrr/VGkd54WrdzpYUM4FVJNF1u0CieM7g90CfjoM4Dn8BTu3v6u8LW2jZ3rA1rXlKz0Zy/Ehk7dlma7bkDdmav9cte1m3o0mLgmweugAW6gUHfuau/n/LeZaHLtGu1DXFufIssGygb+kw38ARimnBqQbBHiAAAAAElFTkSuQmCC';\n\nexport const sellContract =\n    // 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAMZQTFRFAAAAMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzsMQO9wAAAEJ0Uk5TAEnj/xnzWcgSZVrxvQFt9AlD34If9dBpcPij0X7mSLyziAyl7H1k3dYbAu2qn6eA1LGN6G66uPucBP23ERPXJIPGaDxgqAAAAQdJREFUeJztlFlvwjAQhBeP4yQlKVfvg7acvQ+g90H5/3+qViWSjQ2RLfGYebC0q/k2sTw2UaVKG1RNwEGilgFOfk1kAKAXiWDdHwSQSxcDFMJ1QAhlA5FAzDxbdVbEEJEBSCWQpMyz3WjmRZpAKFkAtBKZO1ptoNHJB8jk38KAIIzZ/J1d1PeAffaNOAzMTTMd4DCiIxwXuyXACU5T6p6dOwNd4KJHpkoA6gODoYmUATQaA5dXHgBdqxvcOgN39zqYDxg4A494IppgWgIUD24GPL+84i3vWAdXjMb75EM3Pr+yhh0NM3zf/Z85m2+Hz4r374IVK+JN/hfI64p6PwLez0ylShvQHzxCDnS9VqsZAAAAAElFTkSuQmCC';\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAAEgBckRAAAAAXNSR0IArs4c6QAAA45JREFUaAXtWDFrFUEQzoU0QhpjFVRs/Cc2Sf6AxD4BQSF/QBFtbPwDYici2ImFIqaVlBEEK7FICBaxCFEQRM/v29vZzO7O3dv3uGCEXdg3M998M7O7d7e37+bmZmpt2y4xEPLITABHazpOC0wLwt5wtVKHDGBeFJEg7og+okTaVY5hUgslSQwGFJhb2tZ6mARI3XQ77x/YbzQR9mlMTpc4u3rDoWEFomXtGe5+0zSXg28oCL69IT8r/kwJYocLF0p1yi2ITwl2YiL6+MTq5iQZiUNvtO24GaAywLc+5FfUqp7tFdCXUeulo0bMMfoy+WY8QdUcMU0O/xfPuZ/6fOJtyZH56chABcC94oMXFWyqOlffs2YFXge4hi3gu05gEU3Mj24ZklvDtkUCfgHdfMiBu+cXMnos3QbGZHDsQVyyEs+CYaYh9yzxNaauQF2BWVaATzL6WG01GwMzE4TgfhSdGzKyAUi8z5HvzEKA5Ez08TOkA34jGInCeDT5H2EX6Di9O+k17+d2nW1kwDjz0JL6Pa85xfKRS5BP0T8oV6aSWwYqFoPQHiqoVyUxc5pgwgLnM3loFxNXZJIQATRMULHgf+5596AfKlemmrkIou2gZxfQJ6b/Lfov9CdZVgDAN9B5fLFnANy9TyH7ijyD72pPch5ZeIu7uynjwOGqQrDI1H+zJJ6Jtb6gK2mH1jVnSFcx+0O86qsrUFegrkBdgboC/9MKZK91vPBG/ac88mLEnxmt5Hxjs2kfTDnHTH3M0HlKdNTioYxtXfM7KB6X9gddiJA8OHHgPESx8UCVXbEQaCjg30bnMf+c4TYh1kCX702szTFwLK6ZQRoUIiSPllwNHjOLBw7uFfQf6GxH6LtO635u6lpDOuicCGtzDO6YCxndGWY8SWymswBE6F2XoG0PIN3EIVfQ36G/KkhhUhDrmunUYDFRByU6cvBsL+0Qyh30iV8QkzSRKcki0DKKiVZwgiHXPDrv4W8+74uEUmz6+Ml3RjGxpzTiP/ocL4UC+5HHvgo2rfTx5ROQAC+5K5hfsNOBgLeAzgH/RtftNYzzKd+yweOuIzuRzlE+AUmMaH6QkK3U/Owi3FQi7gH6+xQfssHnzsPGmu5zDfkOwc9QrPNZRGCyD0/9YWpiwYSAWrJlRlfcGhdDo//dPtca5GMGeFuLxR5cc8bSuQ3rXPwvv6mBqtcVqCtQV+Dfr8BfZ6VurZP8obgAAAAASUVORK5CYII=';\n\nexport const finishSign =\n    // 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAABJQTFRFAAAAMzMzMzMzMzMzMzMzMzMzbxxq5QAAAAZ0Uk5TALX/40m0LpdrJAAAADpJREFUeJxjYBi0QBCXhBJOCTRggktCGVkCQiE4g0ACWRTZwwMrMTjDCl/UYk8MDDjAyJUQxSUx6AAAWjIi1ZSdqFYAAAAASUVORK5CYII=';\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAAEgBckRAAAAAXNSR0IArs4c6QAAAa5JREFUaAXtV1tywzAIdDq5Rg/Ui/SGzYl8j1brzqYYidHDYWw60g/iIWABKc6yGOsG+XdaSr/uFLe0dkZkNC25Wt6U7zq7C05zJMH9FofBd0IymZIKR4qYWAyh95LfbCgAxYLwd/e3h+yJm0YQWiurk2V4cXkzaALO5owKAJV7E7gsr9zzQBaBiirVXaV3KYeTbtDVyNOgUIFU9q+CeFj0bBs9sL/k5fhJnSXHOakbnzxmUKH3kl5m0JK1ZQ/fxQBHncqk3Uskg217mX2mHBC4I3APMAB6HglfgXQPXvqaZgXBRTu4PqTT+M+1+00uPtfW+94rRy/cEbgHKJYIY8pRGykLz/7jEkmIslwt8mSzSrtsbznMDBsF7lM0A1Q74V6iagbTYFZgVsC7Ani7sbzjjPrPPhu1o4skv6YPj3edG/jDAOQXjQxgAe+1p0/rXPhfgvAAih+9bJukVgtfNSq9/plb+A6EB9A8QmePCkdG0/AdCA+geYR068hbo0W9pr326Tz+p35qP+SbAVjPHB2dRcOP0ARw1ugwbvgOtFziR0J72T807MSkswKDFfgBlTxsE+QpCHoAAAAASUVORK5CYII=';\n\nexport const caution = `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABsklEQV\nRoQ+1YS07DMBB9VlG2tJuWZVDYU04CN6BHKCfAnACOADcoJyHsiZRtu0m7rYiMItIFldqZ2ONaEc7Wo5d5n7ETK/T8UT3vH5FAaA\ndZDlQ6TbcYPBtgqqBSn00bmFIBeYL6YaTLknoXSaBt/gNQQwpMdt2sE9Q3FAmSwPIxW0CpW9nmmGjGvE+eirtj1TQBnVWnV/+35S\nZOF7q4dCRwZZh6eSmb6K+jIjMc+KcE9pVbajshgjkQCbQTFR2Qyq4Uzv5W520XijMQZ6BVQCq7UjhxBrgfPHGIQw8x1ymqLthJTD\nXGXY8EbLc/rsJUXTAH4i4UeheKDoR2gBpO7rr7EPf9Yqu9WswBdc5VTabObBLUU+erxaaZlU6nBmevAK5lmiNRPhW+Z2Nd5lQl+U\nu5A6h0Otxi8AKoewrUbd28JajnI12uOThsAjuwlc5mBmiICEfKbBQwH+uicZr9dCbgKVLsyHT+IzskhVykukVGjIB7pOwiI07AMl\nLWkfFCoAHlR8otMt4I0JGSiYx3AgciJRaZkxD4Gymgy8HEPgDaQqtzoOtLfNZHAj7V5WD33oEfb0MpQATTN7IAAAAASUVORK5CYI\nI=`;\n\nexport const plusIconDark =\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAAC+0lEQVR4Ae2bA4xeURCFp7bdoGvjv3OC2m1Q24xW0cZJ3caqzdhJ3Vi1bdu2po1T3v95Nvu+E/N+z5hDMf4RExMTE4N0HmkqsZS34RAu4iG+8kd+hEs4xNuw1FTySKSTRvIbYyLW4xbEHr7JG8z47CakBVOMlXgHcRZ+w6tRSNGCOmY874e4D+83E1CHoqCwBWbzI4gPuY85hS0oVGrwDDyD+JgnZibVoHDgXByCBJBDnBvG8kfiPSSgvOfBFCg1sRASbHhRYIdSSn3eDgk+vD2lPvlPfks+AgknfCS/pd8XzTRchYSYq4Vp5B/ogNuQkHPbdPTv4LkMiSCXclr5curiOCSinMivS17hZZAIs5S8YfpDIs5Ack9OKzyJWoAfozW5BVsgCrKF3GG6QHQk0ZVcUBsXIe5Dv+FJ4aKLlx6UQtQICEodb3++qUmAb1BtcgJPh2gSgGAaOQEX1QlcouQxPSHqBMT0dH791yDg/H5Q1Ig/qhT4UNSIksGMgqgUEDPK+fOnKgFeRsmAM1oFcCap9y+IWgFJ4mXf9NMsYPqRDZRpFkCZXWCJaoElZIP3aBbgPWQDp50v0D2OBU+TDb6pWYBv2gWeqxZ4bhf4rlrgm13gk2qBT2QDTzUL4CnZ4BuaBfhGNbiM6r6R7SYbWFrVHyUqNAtwOdnAQM0CiQFkI7uJZoH8xmSHT2kV4FOUDFiqVQBLq8dnlaJG+KBRgD8WNaLkwGaVApsoWbiHSoEe1eDzuuIfHDzd6S+me6oE7lNtcgZXaBLgchczoZp+s1Jtck6iK0RHTJdqOWrwE7Tmx5CI8wStyT0YGLWA6V+lB554mR8jZ8ciEzjmywRpTitcUj30Z8d0VD52aSeREvbgayIlHj3+83TmbaEsf1tK/eCaG4uUj9/bSQzDO9UFCDucy/sC2fb7ODe8EtB0/0tA4dew5uivYdlfeibyAW9FOJ6EOpFXEXk1v1VeRbR/0zYTHJdBNZLI/KOO+4kf4RIfDqKOGxMTExMT8wNOZdb6YlKT2wAAAABJRU5ErkJggg==';\n\nexport const plusIconLight =\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAAC+0lEQVR4Ae2bA4xeURCFp7bdoGvjv3OC2m1Q24xW0cZJ3caqzdhJ3Vi1bdu2po1T3v95Nvu+E/N+z5hDMf4RExMTE4N0HmkqsZS34RAu4iG+8kd+hEs4xNuw1FTySKSTRvIbYyLW4xbEHr7JG8z47CakBVOMlXgHcRZ+w6tRSNGCOmY874e4D+83E1CHoqCwBWbzI4gPuY85hS0oVGrwDDyD+JgnZibVoHDgXByCBJBDnBvG8kfiPSSgvOfBFCg1sRASbHhRYIdSSn3eDgk+vD2lPvlPfks+AgknfCS/pd8XzTRchYSYq4Vp5B/ogNuQkHPbdPTv4LkMiSCXclr5curiOCSinMivS17hZZAIs5S8YfpDIs5Ack9OKzyJWoAfozW5BVsgCrKF3GG6QHQk0ZVcUBsXIe5Dv+FJ4aKLlx6UQtQICEodb3++qUmAb1BtcgJPh2gSgGAaOQEX1QlcouQxPSHqBMT0dH791yDg/H5Q1Ig/qhT4UNSIksGMgqgUEDPK+fOnKgFeRsmAM1oFcCap9y+IWgFJ4mXf9NMsYPqRDZRpFkCZXWCJaoElZIP3aBbgPWQDp50v0D2OBU+TDb6pWYBv2gWeqxZ4bhf4rlrgm13gk2qBT2QDTzUL4CnZ4BuaBfhGNbiM6r6R7SYbWFrVHyUqNAtwOdnAQM0CiQFkI7uJZoH8xmSHT2kV4FOUDFiqVQBLq8dnlaJG+KBRgD8WNaLkwGaVApsoWbiHSoEe1eDzuuIfHDzd6S+me6oE7lNtcgZXaBLgchczoZp+s1Jtck6iK0RHTJdqOWrwE7Tmx5CI8wStyT0YGLWA6V+lB554mR8jZ8ciEzjmywRpTitcUj30Z8d0VD52aSeREvbgayIlHj3+83TmbaEsf1tK/eCaG4uUj9/bSQzDO9UFCDucy/sC2fb7ODe8EtB0/0tA4dew5uivYdlfeibyAW9FOJ6EOpFXEXk1v1VeRbR/0zYTHJdBNZLI/KOO+4kf4RIfDqKOGxMTExMT8wNOZdb6YlKT2wAAAABJRU5ErkJggg==';\n\nexport const minusIconDark =\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAAC6ElEQVR4Ae2bA6weURCFp7bd4NnaOyeo3Qa1zaiKXpzUbazajJ3UjVXbtm1rGqO6u/sv5uXf74t91nfvHEpISEhISAgO5PAwU4nlvANHcBmP8Z0/8xNcwRHegeWmkochhzRS0hDjsBF3IHb5Nm8yYwoakRZMBVbjA8Sb/I7XooziBbXMGD4I8S8fNGNRi+KgrBnm8hNIAD7EvLJmFCnVeCpeQAL0mZlG1SgauAhHICF4hIsofHgYPkJC8iMPoFCpjsWQcOUloV1KmXV5JyR8eWdmXQqekuZ8DBKNfKykOQVLWTauQyL0elk2BQfa4S4kYu+a9sFdPFchMXilsEUgty5OQmLyVEltShVeAYnR5ZQapg8kZvuRfwpb4FncAfgpWpJfsA2iwG3kD9MRokOnE/mgJi5DlHjZx6IHMyCKnOH5+PNtTQH4FtUkL/AUiDInkxdwWV2AK+Qe0w2iT9NN//M/mPdBeQP+rDLAp/IG5AYzHKJTM1z796dFXkFuwDmIUs+5Wn9B9OpisW96aw5gepMNzIQodqY9wDLVAZaRDd6nOQDvIxs4C3EjBYzLCGfJBt/WHIBv2wO8VB3gpT3AT9UBftgDfFEd4AvZwHPNAfCcbPAtzQH4Vho8RnW/yPaSDSyv6p8SszUH4FlkA/00B3D6ko2CRqoXNA3JDp+B6JTPkAXtt/Hy9PitUt4AnyD65M/lDcgd2KoywBZyC3dVGaBrGvxeV7zBwVO8bjE9UBXgIdUkb/Bs7d9AFlBL0zYr1STvOJ20BDAd03PUgAgt+SkkZp9Zhj20rw5Mnyo98MQrghg5OxFbgBOBTJAWtsAV7UN/Fkx7/WOXFpzMqAdfncxk9Pgvw987IOHLOzLrhtfcWKJ//N6CMxgftBcgLHARHwjl2B/gouhKQFOCLwFFX8Oap7+GZV/0jONDqRXheDxqxV5F5LX8XnkV0f5P24xVXAZ1j5P3Rx33Cz/BFT4aRh03ISEhISHhF9FSCRjypNzcAAAAAElFTkSuQmCC';\n\nexport const lockIconDark =\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAACxklEQVR4Ae2aA4wdURSGT223Udf7Gizn/ieo2zg1Yqe23aC2jag2Yie7QW3bto2pMfehO53duTPJ+f54+A0vDgmCUPzkJamuWMM32P6Z61iruuYlUfBRqbyQz7EdJ+d4gUqloJJWEVPwlu3EwVuelFaRgge34etsFzHXrdZBu/Zr2HYXrAnMfcithQNsuw8O5NYi82SXxx62/y/YHalApon38OAT9mAjz/6a9diDT3EkVpNZVLeYJ3+V+3Bdxytel/vgVKx1VTcyh1WTn7Ot5QOmxHswrA58l20tzw2+CVjMtpaHVuOEL3wGburbYDGZgevinXYyd6y0f26Vwnc0gXeqHpkAU7TTf428Im2Xx6+192AqGaA0P9Su5EgqIjxIU39ApclvVCP96XfxZy2DC86tVSPyGx6jXf/xrrYeqOmPIb/BNucp5OWQC6wGmsBW8hs+6TiBG+QSre16gvxGe4ULyCUodL5B5Df47DiBDa633+hsOZHfaK/wCtcCK517CLaACIiACIiACOQkYwQK+SnbJZynKMSInGQqTrKr8k58Ztu/4DPvzK5KxUOkAo6x7X9wzMOokf60mglWkncQwSdjAp8QIa/wNLYNZhp5BUdNCuAYeYXfmBTgV94FbLMJpYAIiIAIiIAIiIAIiMB1zFItrJpf0xKz+HqoBPACnamUYzel0BkvQiKAtyqfYmBZeBsKAdWb4oBeYRC4lmDKtDSuBl4AYykBGBt4AQYlIF8FXiBSnRIQqV7SAiKQrygBlhV4gcRFAzwmDJ/RshSPsnwt1D8y1TskTQlGzD0Bb0PTmOOOemOOO+JFyJrTPFs157pc11xzWnpkIiACIiACIiACIiACz40KPJdSA8wwKjCDvKJSTZbbcAp5BytCWPCklZwdDV/JmVb0hx1+F/1hh9eiPw1O4eH+lF1yAQ8v2rMvCIIgCF8Av9j925HZ5hYAAAAASUVORK5CYII=';\n","import { localize } from '@deriv/translations';\nimport { plusIconLight } from '../../images';\n\nBlockly.Blocks.procedures_defnoreturn = {\n    init() {\n        this.arguments = [];\n        this.argument_var_models = [];\n\n        this.jsonInit(this.definition());\n\n        // Enforce unique procedure names\n        const nameField = this.getField('NAME');\n        nameField.setValidator(Blockly.Procedures.rename);\n\n        // Render a -icon for adding parameters\n        const fieldImage = new Blockly.FieldImage(plusIconLight, 24, 24, '+', () => this.onAddClick());\n        this.appendDummyInput('ADD_ICON').appendField(fieldImage);\n\n        this.setStatements(true);\n    },\n    definition() {\n        return {\n            message0: localize('function {{ function_name }} {{ function_params }}', {\n                function_name: '%1',\n                function_params: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_input',\n                    name: 'NAME',\n                    text: '',\n                },\n                {\n                    type: 'field_label',\n                    name: 'PARAMS',\n                    text: '',\n                },\n            ],\n            colour: Blockly.Colours.Special2.colour,\n            colourSecondary: Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: Blockly.Colours.Special2.colourTertiary,\n            tooltip: localize('Function with no return value'),\n            category: Blockly.Categories.Functions,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Function'),\n            description: localize(\n                'This block creates a function, which is a group of instructions that can be executed at any time. Place other blocks in here to perform any kind of action that you need in your strategy. When all the instructions in a function have been carried out, your bot will continue with the remaining blocks in your strategy. Click the do something field to give it a name of your choice. Click the plus icon to send a value (as a named variable) to your function.'\n            ),\n        };\n    },\n    /**\n     * Sets the block colour and updates this procedure's caller blocks\n     * to reflect the same name on a change.\n     * @param {!Blockly.Events.Abstract} event Change event.\n     * @this Blockly.Block\n     */\n    onchange(event) {\n        const allowedEvents = [Blockly.Events.BLOCK_DELETE, Blockly.Events.BLOCK_CREATE, Blockly.Events.BLOCK_CHANGE];\n        if (!this.workspace || this.workspace.isFlyout || !allowedEvents.includes(event.type)) {\n            return;\n        }\n\n        if (event.type === Blockly.Events.BLOCK_CHANGE) {\n            // Sync names between definition- and execution-block\n            if (event.blockId === this.id && event.name === 'NAME') {\n                this.getProcedureCallers().forEach(block => {\n                    block.setFieldValue(event.newValue, 'NAME');\n                });\n            }\n        }\n    },\n    /**\n     * Prompt the user for parameter name\n     * @this Blockly.Block\n     */\n    onAddClick() {\n        if (this.workspace.options.readOnly || this.isInFlyout) {\n            return;\n        }\n\n        // Wrap in setTimeout so block doesn't stick to mouse (Blockly.Events.END_DRAG event isn't blocked).\n        setTimeout(() => {\n            const promptMessage = localize('Specify a parameter name:');\n            Blockly.prompt(promptMessage, '', paramName => {\n                if (paramName) {\n                    const variable = Blockly.Variables.getOrCreateVariablePackage(this.workspace, null, paramName, '');\n                    if (variable) {\n                        this.arguments.push(paramName);\n                        this.argument_var_models.push(variable);\n\n                        const paramField = this.getField('PARAMS');\n                        paramField.setText(`${localize('with: ')} ${this.arguments.join(', ')}`);\n\n                        this.getProcedureCallers().forEach(block => {\n                            block.setProcedureParameters(this.arguments);\n                            block.initSvg();\n                            block.render(false);\n                        });\n                    }\n                }\n            });\n        }, 200);\n    },\n    /**\n     * Add or remove the statement block from this function definition.\n     * @param {boolean} hasStatements True if a statement block is needed.\n     * @this Blockly.Block\n     */\n    setStatements(hasStatements) {\n        if (this.hasStatements === hasStatements) {\n            return;\n        }\n\n        if (hasStatements) {\n            this.appendStatementInput('STACK').appendField('');\n            if (this.getInput('RETURN')) {\n                this.moveInputBefore('STACK', 'RETURN');\n            }\n        } else {\n            this.removeInput('STACK', true);\n        }\n\n        this.hasStatements = hasStatements;\n    },\n    /**\n     * Update the display of parameters for this procedure definition block.\n     * @private\n     * @this Blockly.Block\n     */\n    updateParams() {\n        let paramString = '';\n\n        if (this.arguments.length) {\n            paramString = `${localize('with:')} ${this.arguments.join(', ')}`;\n        }\n\n        // The params field is deterministic based on the mutation,\n        // no need to fire a change event.\n        Blockly.Events.disable();\n        try {\n            this.setFieldValue(paramString, 'PARAMS');\n        } finally {\n            Blockly.Events.enable();\n        }\n    },\n    /**\n     * Create XML to represent the argument inputs.\n     * @param {boolean=} optParamIds If true include the IDs of the parameter\n     *     quarks.  Used by Blockly.Procedures.mutateCallers for reconnection.\n     * @return {!Element} XML storage element.\n     * @this Blockly.Block\n     */\n    mutationToDom(optParamIds) {\n        const container = document.createElement('mutation');\n\n        if (optParamIds) {\n            container.setAttribute('name', this.getFieldValue('NAME'));\n        }\n\n        this.argument_var_models.forEach((arg, i) => {\n            const parameter = document.createElement('arg');\n\n            parameter.setAttribute('name', arg.name);\n            parameter.setAttribute('varid', arg.getId());\n\n            if (optParamIds && this.paramIds) {\n                parameter.setAttribute('paramId', this.paramIds[i]);\n            }\n            container.appendChild(parameter);\n        });\n\n        // Save whether the statement input is visible.\n        if (!this.hasStatements) {\n            container.setAttribute('statements', 'false');\n        }\n\n        return container;\n    },\n    /**\n     * Parse XML to restore the argument inputs.\n     * @param {!Element} xmlElement XML storage element.\n     * @this Blockly.Block\n     */\n    domToMutation(xmlElement) {\n        this.arguments = [];\n        this.argument_var_models = [];\n\n        xmlElement.childNodes.forEach(childNode => {\n            if (childNode.nodeName.toLowerCase() === 'arg') {\n                const var_name = childNode.getAttribute('name');\n                const var_id = childNode.getAttribute('varid') || childNode.getAttribute('varId');\n                const variable = Blockly.Variables.getOrCreateVariablePackage(this.workspace, var_id, var_name, '');\n\n                this.arguments.push(var_name);\n\n                if (variable !== null) {\n                    this.argument_var_models.push(variable);\n                } else {\n                    // eslint-disable-next-line no-console\n                    console.log(`Failed to create a variable with name ${var_name}, ignoring.`);\n                }\n            }\n        });\n\n        this.updateParams();\n\n        // Show or hide the statement input.\n        this.setStatements(xmlElement.getAttribute('statements') !== 'false');\n    },\n    /**\n     * Return the signature of this procedure definition.\n     * @return {!Array} Tuple containing three elements:\n     *     - the name of the defined procedure,\n     *     - a list of all its arguments,\n     *     - that it DOES NOT have a return value.\n     * @this Blockly.Block\n     */\n    getProcedureDef() {\n        return [this.getFieldValue('NAME'), this.arguments, false];\n    },\n    /**\n     * Return all procedure callers related to this block.\n     * @return {!Array.<Blockly.Block>} List of procedure caller blocks\n     * @this Blockly.Block\n     */\n    getProcedureCallers() {\n        return this.workspace\n            .getAllBlocks(false)\n            .filter(block => block.type === this.callType && block.data === this.id);\n    },\n    /**\n     * Return all variables referenced by this block.\n     * @return {!Array.<string>} List of variable names.\n     * @this Blockly.Block\n     */\n    getVars() {\n        return this.arguments;\n    },\n    /**\n     * Return all variables referenced by this block.\n     * @return {!Array.<!Blockly.VariableModel>} List of variable models.\n     * @this Blockly.Block\n     */\n    getVarModels() {\n        return this.argument_var_models;\n    },\n    /**\n     * Add custom menu options to this block's context menu.\n     * @param {!Array} options List of menu options to add to.\n     * @this Blockly.Block\n     */\n    customContextMenu(options) {\n        if (this.isInFlyout) {\n            return;\n        }\n        // Add option to create caller.\n        const option = { enabled: true };\n        const name = this.getFieldValue('NAME');\n        option.text = localize('Create \"%1\"').replace('%1', name);\n\n        const xmlMutation = document.createElement('mutation');\n        xmlMutation.setAttribute('name', name);\n\n        this.arguments.forEach(argumentName => {\n            const xmlArg = document.createElement('arg');\n            xmlArg.setAttribute('name', argumentName);\n            xmlMutation.appendChild(xmlArg);\n        });\n\n        const xmlBlock = document.createElement('block');\n        xmlBlock.setAttribute('type', this.callType);\n        xmlBlock.appendChild(xmlMutation);\n        option.callback = Blockly.ContextMenu.callbackFactory(this, xmlBlock);\n        options.push(option);\n\n        // Add options to create getters for each parameter.\n        if (!this.isCollapsed()) {\n            this.argument_var_models.forEach(argumentVarModel => {\n                const getOption = { enabled: true };\n\n                getOption.text = localize('Create \"get %1\"').replace('%1', argumentVarModel.name);\n\n                const xmlField = Blockly.Variables.generateVariableFieldDom(argumentVarModel);\n                const xmlOptionBlock = document.createElement('block');\n\n                xmlOptionBlock.setAttribute('type', 'variables_get');\n                xmlOptionBlock.appendChild(xmlField);\n\n                getOption.callback = Blockly.ContextMenu.callbackFactory(this, xmlOptionBlock);\n                options.push(getOption);\n            });\n        }\n    },\n    callType: 'procedures_callnoreturn',\n};\n\nBlockly.JavaScript.procedures_defnoreturn = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const functionName = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('NAME'),\n        Blockly.Procedures.NAME_TYPE\n    );\n\n    let branch = Blockly.JavaScript.statementToCode(block, 'STACK');\n\n    if (Blockly.JavaScript.STATEMENT_PREFIX) {\n        const id = block.id.replace(/\\$/g, '$$$$'); // Issue 251.\n\n        branch =\n            Blockly.JavaScript.prefixLines(\n                Blockly.JavaScript.STATEMENT_PREFIX.replace(/%1/g, `'${id}'`),\n                Blockly.JavaScript.INDENT\n            ) + branch;\n    }\n\n    if (Blockly.JavaScript.INFINITE_LOOP_TRAP) {\n        branch = Blockly.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g, `'${block.id}'`) + branch;\n    }\n\n    let returnValue = Blockly.JavaScript.valueToCode(block, 'RETURN', Blockly.JavaScript.ORDER_NONE) || '';\n    if (returnValue) {\n        returnValue = `${Blockly.JavaScript.INDENT}return ${returnValue};\\n`;\n    }\n\n    const args = block.arguments.map(\n        argumentName => Blockly.JavaScript.variableDB_.getName(argumentName, Blockly.Variables.NAME_TYPE) // eslint-disable-line no-underscore-dangle\n    );\n\n    // eslint-disable-next-line no-underscore-dangle\n    const code = Blockly.JavaScript.scrub_(\n        block,\n        `\n    function ${functionName}(${args.join(', ')}) {\n        ${branch}\n        ${returnValue}\n    }\\n`\n    );\n\n    // Add % so as not to collide with helper functions in definitions list.\n    // eslint-disable-next-line no-underscore-dangle\n    Blockly.JavaScript.definitions_[`%${functionName}`] = code;\n    return null;\n};\n","import { localize } from '@deriv/translations';\nimport { plusIconDark } from '../../images';\n\nBlockly.Blocks.procedures_defreturn = {\n    init() {\n        this.arguments = [];\n        this.argument_var_models = [];\n\n        this.jsonInit(this.definition());\n\n        // Enforce unique procedure names\n        const nameField = this.getField('NAME');\n        nameField.setValidator(Blockly.Procedures.rename);\n\n        // Render a -icon for adding parameters\n        const fieldImage = new Blockly.FieldImage(plusIconDark, 24, 24, '+', () => this.onAddClick());\n        this.appendDummyInput('ADD_ICON').appendField(fieldImage);\n        this.moveInputBefore('ADD_ICON', 'RETURN');\n\n        this.setStatements(true);\n    },\n    definition() {\n        return {\n            message0: localize('function {{ function_name }} {{ function_params }} {{ dummy }}', {\n                function_name: '%1',\n                function_params: '%2',\n                dummy: '%3',\n            }),\n            message1: 'return %1',\n            args0: [\n                {\n                    type: 'field_input',\n                    name: 'NAME',\n                    text: '',\n                },\n                {\n                    type: 'field_label',\n                    name: 'PARAMS',\n                    text: '',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_value',\n                    name: 'RETURN',\n                    check: null,\n                    align: Blockly.ALIGN_RIGHT,\n                },\n            ],\n            colour: Blockly.Colours.Special2.colour,\n            colourSecondary: Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: Blockly.Colours.Special2.colourTertiary,\n            tooltip: localize('Function that returns a value'),\n            category: Blockly.Categories.Functions,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Function that returns a value'),\n            description: localize(\n                'This block is similar to the one above, except that this returns a value. The returned value can be assigned to a variable of your choice.'\n            ),\n        };\n    },\n    onAddClick: Blockly.Blocks.procedures_defnoreturn.onAddClick,\n    onchange: Blockly.Blocks.procedures_defnoreturn.onchange,\n    setStatements: Blockly.Blocks.procedures_defnoreturn.setStatements,\n    updateParams: Blockly.Blocks.procedures_defnoreturn.updateParams,\n    mutationToDom: Blockly.Blocks.procedures_defnoreturn.mutationToDom,\n    domToMutation: Blockly.Blocks.procedures_defnoreturn.domToMutation,\n    /**\n     * Return the signature of this procedure definition.\n     * @return {!Array} Tuple containing three elements:\n     *     - the name of the defined procedure,\n     *     - a list of all its arguments,\n     *     - that it DOES have a return value.\n     * @this Blockly.Block\n     */\n    getProcedureDef() {\n        return [this.getFieldValue('NAME'), this.arguments, true];\n    },\n    getProcedureCallers: Blockly.Blocks.procedures_defnoreturn.getProcedureCallers,\n    getVars: Blockly.Blocks.procedures_defnoreturn.getVars,\n    getVarModels: Blockly.Blocks.procedures_defnoreturn.getVarModels,\n    renameVarById: Blockly.Blocks.procedures_defnoreturn.renameVarById,\n    displayRenamedVar: Blockly.Blocks.procedures_defnoreturn.displayRenamedVar,\n    customContextMenu: Blockly.Blocks.procedures_defnoreturn.customContextMenu,\n    callType: 'procedures_callreturn',\n    registerWorkspaceListener: Blockly.Blocks.procedures_defnoreturn.registerWorkspaceListener,\n};\n\nBlockly.JavaScript.procedures_defreturn = Blockly.JavaScript.procedures_defnoreturn;\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.procedures_callnoreturn = {\n    init() {\n        this.arguments = [];\n        this.argument_var_models = [];\n        this.previousDisabledState = false;\n\n        this.jsonInit(this.definition());\n    },\n    /**\n     * Block definitions describe how a block looks and behaves, including the text,\n     * the colour, the shape, and what other blocks it can connect to. We've separated\n     * the block definition from the init function so we can search through it.\n     * https://developers.google.com/blockly/guides/create-custom-blocks/define-blocks\n     */\n    definition() {\n        return {\n            message0: '%1 %2',\n            args0: [\n                {\n                    type: 'field_label',\n                    name: 'NAME',\n                    text: this.id,\n                },\n                {\n                    type: 'input_dummy',\n                    name: 'TOPROW',\n                },\n            ],\n            colour: Blockly.Colours.Special2.colour,\n            colourSecondary: Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: Blockly.Colours.Special2.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Custom function'),\n            category: Blockly.Categories.Functions,\n        };\n    },\n    /**\n     * Meta returns an object with with properties that contain human readable strings,\n     * these strings are used in the flyout help content, as well as used for searching\n     * for specific blocks.\n     */\n    meta() {\n        return {\n            display_name: localize('Custom function'),\n            description: '',\n        };\n    },\n    /**\n     * Procedure calls cannot exist without the corresponding procedure\n     * definition.  Enforce this link whenever an event is fired.\n     * @param {!Blockly.Events.Abstract} event Change event.\n     * @this Blockly.Block\n     */\n    onchange(event) {\n        if (!this.workspace || this.workspace.isFlyout) {\n            // Block is deleted or is in a flyout.\n            return;\n        }\n\n        if (!event.recordUndo) {\n            // Events not generated by user. Skip handling.\n            return;\n        }\n\n        if (event.type === Blockly.Events.BLOCK_CREATE && event.ids.indexOf(this.id) !== -1) {\n            // Look for the case where a procedure call was created (usually through\n            // paste) and there is no matching definition.  In this case, create\n            // an empty definition block with the correct signature.\n            const name = this.getProcedureCall();\n            let def = Blockly.Procedures.getDefinition(name, this.workspace);\n\n            if (\n                def &&\n                (def.type !== this.defType || JSON.stringify(def.arguments) !== JSON.stringify(this.arguments))\n            ) {\n                // The signatures don't match.\n                def = null;\n            }\n\n            if (def) {\n                this.data = def.id;\n                return;\n            }\n\n            Blockly.Events.setGroup(event.group);\n            /**\n             * Create matching definition block.\n             * <xml>\n             *   <block type=\"procedures_defreturn\" x=\"10\" y=\"20\">\n             *     <mutation name=\"test\">\n             *       <arg name=\"x\"></arg>\n             *     </mutation>\n             *     <field name=\"NAME\">test</field>\n             *   </block>\n             * </xml>\n             */\n            const xml = document.createElement('xml');\n            const block = document.createElement('block');\n            block.setAttribute('type', this.defType);\n\n            const xy = this.getRelativeToSurfaceXY();\n            const x = xy.x + Blockly.SNAP_RADIUS * (this.RTL ? -1 : 1);\n            const y = xy.y + Blockly.SNAP_RADIUS * 2;\n\n            block.setAttribute('x', x);\n            block.setAttribute('y', y);\n\n            const mutation = this.mutationToDom();\n\n            block.appendChild(mutation);\n\n            const field = document.createElement('field');\n            field.setAttribute('name', 'NAME');\n            field.appendChild(document.createTextNode(this.getProcedureCall()));\n\n            block.appendChild(field);\n            xml.appendChild(block);\n\n            Blockly.Xml.domToWorkspace(xml, this.workspace);\n            Blockly.Events.setGroup(false);\n\n            const procedure_definition = Blockly.Procedures.getDefinition(name, this.workspace);\n            this.data = procedure_definition.id;\n        } else if (event.type === Blockly.Events.BLOCK_DELETE) {\n            // Look for the case where a procedure definition has been deleted,\n            // leaving this block (a procedure call) orphaned.  In this case, delete\n            // the orphan.\n            const name = this.getProcedureCall();\n            const def = Blockly.Procedures.getDefinition(name, this.workspace);\n\n            if (!def) {\n                Blockly.Events.setGroup(event.group);\n                this.dispose(true, false);\n                Blockly.Events.setGroup(false);\n            }\n        } else if (event.type === Blockly.Events.BLOCK_CHANGE && event.element === 'disabled') {\n            const name = this.getProcedureCall();\n            const def = Blockly.Procedures.getDefinition(name, this.workspace);\n\n            if (def && def.id === event.blockId) {\n                // in most cases the old group should be ''\n                const oldGroup = Blockly.Events.getGroup();\n\n                if (oldGroup) {\n                    // This should only be possible programatically and may indicate a problem\n                    // with event grouping. If you see this message please investigate. If the\n                    // use ends up being valid we may need to reorder events in the undo stack.\n                    // eslint-disable-next-line no-console\n                    console.log('Saw an existing group while responding to a definition change');\n                }\n\n                Blockly.Events.setGroup(event.group);\n\n                if (event.newValue) {\n                    this.previousDisabledState = this.disabled;\n                    this.setDisabled(true);\n                } else {\n                    this.setDisabled(this.previousDisabledState);\n                }\n\n                Blockly.Events.setGroup(oldGroup);\n            }\n        }\n    },\n    /**\n     * Returns the related procedure definition block.\n     * @return {Blockly.Block} Procedure definition block.\n     * @this Blockly.Block\n     */\n    getProcedureDefinition(name) {\n        // Assume that a procedure definition is a top block.\n        return this.workspace.getTopBlocks(false).find(block => {\n            if (block.getProcedureDef) {\n                const tuple = block.getProcedureDef();\n                return tuple && Blockly.Names.equals(tuple[0], name);\n            }\n            return false;\n        });\n    },\n    /**\n     * Returns the name of the procedure this block calls.\n     * @return {string} Procedure name.\n     * @this Blockly.Block\n     */\n    getProcedureCall() {\n        // The NAME field is guaranteed to exist, null will never be returned.\n        return /** @type {string} */ (this.getFieldValue('NAME'));\n    },\n    /**\n     * Notification that a procedure is renaming.\n     * If the name matches this block's procedure, rename it.\n     * @param {string} oldName Previous name of procedure.\n     * @param {string} newName Renamed procedure.\n     * @this Blockly.Block\n     */\n    renameProcedure(oldName, newName) {\n        if (Blockly.Names.equals(oldName, this.getProcedureCall())) {\n            this.setFieldValue(newName, 'NAME');\n        }\n    },\n    /**\n     * Notification that the procedure's parameters have changed.\n     * @param {!Array.<string>} paramNames New param names, e.g. ['x', 'y', 'z'].\n     * @private\n     * @this Blockly.Block\n     */\n    setProcedureParameters(paramNames) {\n        // Rebuild the block's arguments.\n        this.arguments = [].concat(paramNames);\n\n        // And rebuild the argument model list.\n        this.argument_var_models = this.arguments.map(argumentName =>\n            Blockly.Variables.getOrCreateVariablePackage(this.workspace, null, argumentName, '')\n        );\n\n        this.updateShape();\n    },\n    /**\n     * Modify this block to have the correct number of arguments.\n     * @private\n     * @this Blockly.Block\n     */\n    updateShape() {\n        this.arguments.forEach((argumentName, i) => {\n            let field = this.getField(`ARGNAME${i}`);\n            if (field) {\n                // Ensure argument name is up to date.\n                // The argument name field is deterministic based on the mutation,\n                // no need to fire a change event.\n                Blockly.Events.disable();\n                try {\n                    field.setValue(argumentName);\n                } finally {\n                    Blockly.Events.enable();\n                }\n            } else {\n                // Add new input.\n                field = new Blockly.FieldLabel(argumentName);\n                const input = this.appendValueInput(`ARG${i}`).appendField(field, `ARGNAME${i}`);\n                input.init();\n            }\n        });\n\n        // Remove deleted inputs.\n        let i = this.arguments.length;\n        while (this.getInput(`ARG${i}`)) {\n            this.removeInput(`ARG${i}`);\n            i++;\n        }\n\n        // Add 'with:' if there are parameters, remove otherwise.\n        const topRow = this.getInput('TOPROW');\n\n        if (topRow) {\n            if (this.arguments.length) {\n                if (!this.getField('WITH')) {\n                    topRow.appendField(localize('with:'), 'WITH');\n                    topRow.init();\n                }\n            } else if (this.getField('WITH')) {\n                topRow.removeField('WITH');\n            }\n        }\n    },\n    /**\n     * Create XML to represent the (non-editable) name and arguments.\n     * @return {!Element} XML storage element.\n     * @this Blockly.Block\n     */\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        container.setAttribute('name', this.getProcedureCall());\n\n        this.arguments.forEach(argumentName => {\n            const parameter = document.createElement('arg');\n            parameter.setAttribute('name', argumentName);\n            container.appendChild(parameter);\n        });\n\n        return container;\n    },\n    /**\n     * Parse XML to restore the (non-editable) name and parameters.\n     * @param {!Element} xmlElement XML storage element.\n     * @this Blockly.Block\n     */\n    domToMutation(xmlElement) {\n        const name = xmlElement.getAttribute('name');\n        this.renameProcedure(this.getProcedureCall(), name);\n\n        const args = [];\n        const paramIds = [];\n\n        xmlElement.childNodes.forEach(childNode => {\n            if (childNode.nodeName.toLowerCase() === 'arg') {\n                args.push(childNode.getAttribute('name'));\n                paramIds.push(childNode.getAttribute('paramId'));\n            }\n        });\n\n        this.setProcedureParameters(args, paramIds);\n    },\n    /**\n     * Return all variables referenced by this block.\n     * @return {!Array.<!Blockly.VariableModel>} List of variable models.\n     * @this Blockly.Block\n     */\n    getVarModels() {\n        return this.argument_var_models;\n    },\n    /**\n     * Add menu option to find the definition block for this call.\n     * @param {!Array} options List of menu options to add to.\n     * @this Blockly.Block\n     */\n    customContextMenu(options) {\n        const name = this.getProcedureCall();\n        const { workspace } = this;\n\n        const option = { enabled: true };\n        option.text = localize('Highlight function definition');\n        option.callback = () => {\n            const def = this.getProcedureDefinition(name);\n            if (def) {\n                workspace.centerOnBlock(def.id);\n                def.select();\n            }\n        };\n\n        options.push(option);\n    },\n    defType: 'procedures_defnoreturn',\n};\n\nBlockly.JavaScript.procedures_callnoreturn = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const functionName = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('NAME'),\n        Blockly.Procedures.NAME_TYPE\n    );\n    const args = block.arguments.map(\n        (arg, i) => Blockly.JavaScript.valueToCode(block, `ARG${i}`, Blockly.JavaScript.ORDER_COMMA) || 'null'\n    );\n\n    const code = `${functionName}(${args.join(', ')});\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.procedures_callreturn = {\n    init() {\n        this.arguments = [];\n        this.previousDisabledState = false;\n\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2',\n            args0: [\n                {\n                    type: 'field_label',\n                    name: 'NAME',\n                    text: this.id,\n                },\n                {\n                    type: 'input_dummy',\n                    name: 'TOPROW',\n                },\n            ],\n            output: null,\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Special2.colour,\n            colourSecondary: Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: Blockly.Colours.Special2.colourTertiary,\n            tooltip: localize('Custom function'),\n            category: Blockly.Categories.Functions,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Custom function'),\n            description: '',\n        };\n    },\n    onchange: Blockly.Blocks.procedures_callnoreturn.onchange,\n    getProcedureDefinition: Blockly.Blocks.procedures_callnoreturn.getProcedureDefinition,\n    getProcedureCall: Blockly.Blocks.procedures_callnoreturn.getProcedureCall,\n    renameProcedure: Blockly.Blocks.procedures_callnoreturn.renameProcedure,\n    setProcedureParameters: Blockly.Blocks.procedures_callnoreturn.setProcedureParameters,\n    updateShape: Blockly.Blocks.procedures_callnoreturn.updateShape,\n    mutationToDom: Blockly.Blocks.procedures_callnoreturn.mutationToDom,\n    domToMutation: Blockly.Blocks.procedures_callnoreturn.domToMutation,\n    getVarModels: Blockly.Blocks.procedures_callnoreturn.getVarModels,\n    customContextMenu: Blockly.Blocks.procedures_callnoreturn.customContextMenu,\n    defType: 'procedures_defreturn',\n};\n\nBlockly.JavaScript.procedures_callreturn = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const functionName = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('NAME'),\n        Blockly.Procedures.NAME_TYPE\n    );\n    const args = block.arguments.map(\n        (arg, i) => Blockly.JavaScript.valueToCode(block, `ARG${i}`, Blockly.JavaScript.ORDER_COMMA) || 'null'\n    );\n\n    const code = `${functionName}(${args.join(', ')})`;\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\n/**\n * Block for conditionally returning a value from a procedure.\n * @this Blockly.Block\n */\nBlockly.Blocks.procedures_ifreturn = {\n    init() {\n        this.hasReturnValue = true;\n\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('if {{ condition }} return {{ value }}', { condition: '%1', value: '%2' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'CONDITION',\n                },\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n            ],\n            colour: Blockly.Colours.Special2.colour,\n            colourSecondary: Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: Blockly.Colours.Special2.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Prematurely returns a value within a function'),\n            category: Blockly.Categories.Functions,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Conditional return'),\n            description: localize(\n                'This block returns a value when a condition is true. Use this block within either of the function blocks above.'\n            ),\n        };\n    },\n    /**\n     * Create XML to represent whether this block has a return value.\n     * @return {!Element} XML storage element.\n     * @this Blockly.Block\n     */\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        container.setAttribute('value', Number(this.hasReturnValue));\n        return container;\n    },\n    /**\n     * Parse XML to restore whether this block has a return value.\n     * @param {!Element} xmlElement XML storage element.\n     * @this Blockly.Block\n     */\n    domToMutation(xmlElement) {\n        const value = xmlElement.getAttribute('value');\n        this.hasReturnValue = value === '1';\n\n        if (!this.hasReturnValue) {\n            this.removeInput('VALUE');\n            this.appendDummyInput('VALUE').appendField(localize('return'));\n            this.initSvg();\n            this.render();\n        }\n    },\n    /**\n     * Called whenever anything on the workspace changes.\n     * Add warning if this flow block is not nested inside a loop.\n     * @param {!Blockly.Events.Abstract} e Change event.\n     * @this Blockly.Block\n     */\n    onchange(/* e */) {\n        if (!this.workspace.isDragging || this.workspace.isDragging()) {\n            return; // Don't change state at the start of a drag.\n        }\n\n        let legal = false;\n\n        // Is the block nested in a procedure?\n        let block = this;\n        do {\n            if (this.FUNCTION_TYPES.indexOf(block.type) !== -1) {\n                legal = true;\n                break;\n            }\n            block = block.getSurroundParent();\n        } while (block);\n\n        if (legal) {\n            const rerender = () => {\n                this.initSvg();\n                this.render();\n            };\n\n            // If needed, toggle whether this block has a return value.\n            if (block.type === 'procedures_defnoreturn' && this.hasReturnValue) {\n                this.removeInput('VALUE');\n                this.appendDummyInput('VALUE').appendField(localize('return'));\n                rerender();\n                this.hasReturnValue = false;\n            } else if (block.type === 'procedures_defreturn' && !this.hasReturnValue) {\n                this.removeInput('VALUE');\n                this.appendValueInput('VALUE').appendField(localize('return'));\n                rerender();\n                this.hasReturnValue = true;\n            }\n\n            if (!this.isInFlyout) {\n                this.setDisabled(false);\n            }\n        } else if (!this.isInFlyout && !this.getInheritedDisabled()) {\n            this.setDisabled(true);\n        }\n    },\n    /**\n     * List of block types that are functions and thus do not need warnings.\n     * To add a new function type add this to your code:\n     * Blockly.Blocks['procedures_ifreturn'].FUNCTION_TYPES.push('custom_func');\n     */\n    FUNCTION_TYPES: ['procedures_defnoreturn', 'procedures_defreturn'],\n};\n\nBlockly.JavaScript.procedures_ifreturn = block => {\n    const condition = Blockly.JavaScript.valueToCode(block, 'CONDITION', Blockly.JavaScript.ORDER_NONE) || 'false';\n\n    let branch;\n    if (block.hasReturnValue) {\n        const value = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_NONE) || 'null';\n        branch = `return ${value};\\n`;\n    } else {\n        branch = 'return;\\n';\n    }\n\n    const code = `\n    if (${condition}) {\n        ${branch}\n    }\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { plusIconDark } from '../../images';\nimport { runIrreversibleEvents, runGroupedEvents } from '../../../utils';\n\nBlockly.Blocks.lists_create_with = {\n    protected_statements: ['STACK'],\n    allowed_children: ['lists_statement'],\n    init() {\n        const field_image = new Blockly.FieldImage(plusIconDark, 25, 25, '', this.onIconClick.bind(this));\n        this.jsonInit(this.definition());\n        this.appendDummyInput('ADD_ICON').appendField(field_image);\n        this.moveInputBefore('ADD_ICON', 'STACK');\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to create list with', { variable: '%1' }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: localize('list'),\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STACK',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('This block creates a list with strings and numbers.'),\n            category: Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Create list'),\n            description: localize('This block creates a list with strings and numbers.'),\n        };\n    },\n    onIconClick() {\n        if (this.workspace.options.readOnly || this.isInFlyout) {\n            return;\n        }\n\n        runGroupedEvents(false, () => {\n            const statement_block = this.workspace.newBlock('lists_statement');\n            statement_block.required_parent_id = this.id;\n            statement_block.setMovable(false);\n            statement_block.initSvg();\n            statement_block.render();\n\n            const connection = this.getLastConnectionInStatement('STACK');\n            connection.connect(statement_block.previousConnection);\n        });\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        if (event.type === Blockly.Events.END_DRAG) {\n            // Only allow \"text_statement\" type blocks\n            const blocks_in_stack = this.getBlocksInStatement('STACK');\n            blocks_in_stack.forEach(block => {\n                if (!this.allowed_children.includes(block.type)) {\n                    runIrreversibleEvents(() => {\n                        block.unplug(/* healStack */ false);\n                    });\n                }\n            });\n        }\n    },\n};\n\n// Head's up! This is also the code generation for the \"text_join\" block.\nBlockly.JavaScript.lists_create_with = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const blocks_in_stack = block.getBlocksInStatement('STACK');\n    const elements = blocks_in_stack.map(b => {\n        const value = Blockly.JavaScript[b.type](b);\n        return Array.isArray(value) ? value[0] : value;\n    });\n\n    const code = `${var_name} = [${elements.join(', ')}];\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../../utils';\n\nBlockly.Blocks.lists_repeat = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('create list with item {{ input_item }} repeated {{ number }} times', {\n                input_item: '%1',\n                number: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'ITEM',\n                },\n                {\n                    type: 'input_value',\n                    name: 'NUM',\n                },\n            ],\n            output: null,\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Creates a list by repeating a given item'),\n            category: Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Repeat an item'),\n            description: localize('Creates a list with a given item repeated for a specific number of times.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            ITEM: emptyTextValidator,\n            NUM: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.lists_repeat = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const function_name = Blockly.JavaScript.provideFunction_('listsRepeat', [\n        // eslint-disable-next-line no-underscore-dangle\n        `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(value, n) {\n            var array = [];\n            for (var i = 0; i < n; i++) {\n                array[i] = value;\n            }\n            return array;\n        }`,\n    ]);\n\n    const element = Blockly.JavaScript.valueToCode(block, 'ITEM', Blockly.JavaScript.ORDER_COMMA) || 'null';\n    const repeat_count = Blockly.JavaScript.valueToCode(block, 'NUM', Blockly.JavaScript.ORDER_COMMA) || '0';\n    const code = `${function_name}(${element}, ${repeat_count})`;\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lists_length = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('length of {{ input_list }}', { input_list: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you the total number of items in a given list.'),\n            category: Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('List Length'),\n            description: localize('This block gives you the total number of items in a given list.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: null,\n        };\n    },\n};\n\nBlockly.JavaScript.lists_length = block => {\n    const list = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_MEMBER) || '[]';\n\n    const code = `${list}.length`;\n    return [code, Blockly.JavaScript.ORDER_MEMBER];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lists_isEmpty = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('list {{ input_list }} is empty', { input_list: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                    check: ['Array'],\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Checks if a given list is empty'),\n            category: Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Is list empty?'),\n            description: localize(\n                'This block checks if a given list is empty. It returns True if the list is empty, False if otherwise.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: null,\n        };\n    },\n};\n\nBlockly.JavaScript.lists_isEmpty = block => {\n    const list = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_MEMBER) || '[]';\n    const isVariable = block.workspace.getAllVariables().findIndex(variable => variable.name === list) !== -1;\n\n    const code = isVariable ? `!${list} || !${list}.length` : `!${list}.length`;\n    return [code, Blockly.JavaScript.ORDER_LOGICAL_NOT];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lists_indexOf = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize(\n                'in list {{ input_list }} find {{ first_or_last }} occurence of item {{ input_value }}',\n                {\n                    input_list: '%1',\n                    first_or_last: '%2',\n                    input_value: '%3',\n                }\n            ),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'END',\n                    options: [\n                        [localize('first'), 'FIRST'],\n                        [localize('last'), 'LAST'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'FIND',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you the position of an item in a given list.'),\n            category: Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('List item position'),\n            description: localize('This block gives you the position of an item in a given list.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: null,\n            FIND: null,\n        };\n    },\n};\n\nBlockly.JavaScript.lists_indexOf = block => {\n    const operator = block.getFieldValue('END') === 'FIRST' ? 'indexOf' : 'lastIndexOf';\n    const item = Blockly.JavaScript.valueToCode(block, 'FIND', Blockly.JavaScript.ORDER_NONE) || \"''\";\n    const list = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_MEMBER) || \"''\";\n\n    const code = `${list}.${operator}(${item})`;\n\n    if (block.workspace.options.oneBasedIndex) {\n        return [`${code} + 1`, Blockly.JavaScript.ORDER_ADDITION];\n    }\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lists_getIndex = {\n    init() {\n        this.MODE_OPTIONS = [\n            [localize('get'), 'GET'],\n            [localize('get and remove'), 'GET_REMOVE'],\n            [localize('remove'), 'REMOVE'],\n        ];\n        this.WHERE_OPTIONS = [\n            ['#', 'FROM_START'],\n            [localize('# from end'), 'FROM_END'],\n            [localize('first'), 'FIRST'],\n            [localize('last'), 'LAST'],\n            [localize('random'), 'RANDOM'],\n        ];\n        const modeMenu = new Blockly.FieldDropdown(this.MODE_OPTIONS, value => {\n            const isStatement = value === 'REMOVE';\n            this.updateStatement(isStatement);\n        });\n\n        this.appendValueInput('VALUE').setCheck('Array').appendField(localize('in list'));\n        this.appendDummyInput().appendField(modeMenu, 'MODE');\n        this.appendDummyInput('AT');\n        // eslint-disable-next-line no-underscore-dangle\n        this.setColourFromRawValues_(\n            Blockly.Colours.Base.colour,\n            Blockly.Colours.Base.colourSecondary,\n            Blockly.Colours.Base.colourTertiary\n        );\n        this.setTooltip(\n            'This block gives you the value of a specific item in a list, given the position of the item. It can also remove the item from the list.'\n        );\n        this.setOutput(true, null);\n        this.setOutputShape(Blockly.OUTPUT_SHAPE_ROUND);\n        this.updateAt(true);\n    },\n    meta() {\n        return {\n            display_name: localize('Get list item'),\n            description: localize(\n                'This block gives you the value of a specific item in a list, given the position of the item. It can also remove the item from the list.'\n            ),\n            category: Blockly.Categories.List,\n        };\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        const isStatement = !this.outputConnection;\n        const isAt = this.getInput('AT').type === Blockly.INPUT_VALUE;\n\n        container.setAttribute('statement', isStatement);\n        container.setAttribute('at', isAt);\n\n        return container;\n    },\n    domToMutation(xmlElement) {\n        const isStatement = xmlElement.getAttribute('statement') === 'true';\n        this.updateStatement(isStatement);\n\n        const isAt = xmlElement.getAttribute('at') !== 'false';\n        this.updateAt(isAt);\n    },\n    updateStatement(newStatement) {\n        const oldStatement = !this.outputConnection;\n\n        if (newStatement !== oldStatement) {\n            this.unplug(true, true);\n\n            this.setOutput(!newStatement);\n            this.setPreviousStatement(newStatement);\n            this.setNextStatement(newStatement);\n\n            this.initSvg();\n            this.render(false);\n        }\n    },\n    updateAt(isAt) {\n        this.removeInput('AT', true);\n\n        if (isAt) {\n            this.appendValueInput('AT').setCheck('Number');\n        } else {\n            this.appendDummyInput('AT');\n        }\n\n        const menu = new Blockly.FieldDropdown(this.WHERE_OPTIONS, value => {\n            const newAt = ['FROM_START', 'FROM_END'].includes(value);\n            if (newAt !== isAt) {\n                this.updateAt(newAt);\n                this.setFieldValue(value, 'WHERE');\n                return null;\n            }\n            return undefined;\n        });\n\n        this.getInput('AT').appendField(menu, 'WHERE');\n\n        this.initSvg();\n        this.render(false);\n    },\n};\n\nBlockly.JavaScript.lists_getIndex = block => {\n    const mode = block.getFieldValue('MODE') || 'GET';\n    const where = block.getFieldValue('WHERE') || 'FIRST';\n    const listOrder = where === 'RANDOM' ? Blockly.JavaScript.ORDER_COMMA : Blockly.JavaScript.ORDER_MEMBER;\n    const list = Blockly.JavaScript.valueToCode(block, 'VALUE', listOrder) || '[]';\n\n    let code, order;\n\n    if (where === 'FIRST') {\n        if (mode === 'GET') {\n            code = `${list}[0]`;\n            order = Blockly.JavaScript.ORDER_MEMBER;\n        } else if (mode === 'GET_REMOVE') {\n            code = `${list}.shift()`;\n            order = Blockly.JavaScript.ORDER_MEMBER;\n        } else if (mode === 'REMOVE') {\n            return `${list}.shift();\\n`;\n        }\n    } else if (where === 'LAST') {\n        if (mode === 'GET') {\n            code = `${list}.slice(-1)[0]`;\n            order = Blockly.JavaScript.ORDER_MEMBER;\n        } else if (mode === 'GET_REMOVE') {\n            code = `${list}.pop()`;\n            order = Blockly.JavaScript.ORDER_MEMBER;\n        } else if (mode === 'REMOVE') {\n            return `${list}.pop();\\n`;\n        }\n    } else if (where === 'FROM_START') {\n        const at = Blockly.JavaScript.getAdjusted(block, 'AT');\n        if (mode === 'GET') {\n            code = `${list}[${at}]`;\n            order = Blockly.JavaScript.ORDER_MEMBER;\n        } else if (mode === 'GET_REMOVE') {\n            code = `${list}.splice(${at}, 1)[0]`;\n            order = Blockly.JavaScript.ORDER_FUNCTION_CALL;\n        } else if (mode === 'REMOVE') {\n            return `${list}.splice(${at}, 1);\\n`;\n        }\n    } else if (where === 'FROM_END') {\n        const at = Blockly.JavaScript.getAdjusted(block, 'AT', 1, true);\n        if (mode === 'GET') {\n            code = `${list}.slice(${at})[0]`;\n            order = Blockly.JavaScript.ORDER_FUNCTION_CALL;\n        } else if (mode === 'GET_REMOVE') {\n            code = `${list}.splice(${at}, 1)[0]`;\n            order = Blockly.JavaScript.ORDER_FUNCTION_CALL;\n        } else if (mode === 'REMOVE') {\n            return `${list}.splice(${at}, 1);\\n`;\n        }\n    } else if (where === 'RANDOM') {\n        // eslint-disable-next-line no-underscore-dangle\n        const functionName = Blockly.JavaScript.provideFunction_('listsGetRandomItem', [\n            // eslint-disable-next-line no-underscore-dangle\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(list, remove) {\n                var x = Math.floor(Math.random() * list.length);\n                if (remove) {\n                    return list.splice(x, 1)[0];\n                } else {\n                    return list[x];\n                }\n            }`,\n        ]);\n\n        code = `${functionName}(${list}, ${mode !== 'GET'})`;\n\n        if (mode === 'GET' || mode === 'GET_REMOVE') {\n            order = Blockly.JavaScript.ORDER_FUNCTION_CALL;\n        } else if (mode === 'REMOVE') {\n            return `${code};\\n`;\n        }\n    }\n\n    return [code, order];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lists_setIndex = {\n    init() {\n        this.MODE_OPTIONS = [\n            [localize('set'), 'SET'],\n            [localize('insert at'), 'INSERT'],\n        ];\n        this.WHERE_OPTIONS = [\n            [localize('#'), 'FROM_START'],\n            [localize('# from end'), 'FROM_END'],\n            [localize('first'), 'FIRST'],\n            [localize('last'), 'LAST'],\n            [localize('random'), 'RANDOM'],\n        ];\n\n        this.appendValueInput('LIST').setCheck('Array').appendField(localize('in list'));\n        this.appendDummyInput().appendField(new Blockly.FieldDropdown(this.MODE_OPTIONS), 'MODE');\n        this.appendDummyInput('AT');\n        this.appendValueInput('TO').appendField(localize('as'));\n\n        // eslint-disable-next-line no-underscore-dangle\n        this.setColourFromRawValues_(\n            Blockly.Colours.Base.colour,\n            Blockly.Colours.Base.colourSecondary,\n            Blockly.Colours.Base.colourTertiary\n        );\n        this.setPreviousStatement(true, null);\n        this.setNextStatement(true, null);\n        this.setTooltip(\n            localize(\n                'This block replaces a specific item in a list with another given item. It can also insert the new item in the list at a specific position.'\n            )\n        );\n        this.updateAt(true);\n    },\n    meta() {\n        return {\n            display_name: localize('Set list item'),\n            description: localize(\n                'This block replaces a specific item in a list with another given item. It can also insert the new item in the list at a specific position.'\n            ),\n            category: Blockly.Categories.List,\n        };\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        const isAt = this.getInput('AT').type === Blockly.INPUT_VALUE;\n\n        container.setAttribute('at', isAt);\n        return container;\n    },\n    domToMutation(xmlElement) {\n        const isAt = xmlElement.getAttribute('at') !== 'false';\n        this.updateAt(isAt);\n    },\n    updateAt(isAt) {\n        this.removeInput('AT', true);\n\n        if (isAt) {\n            this.appendValueInput('AT').setCheck('Number');\n        } else {\n            this.appendDummyInput('AT');\n        }\n\n        const menu = new Blockly.FieldDropdown(this.WHERE_OPTIONS, value => {\n            const newAt = ['FROM_START', 'FROM_END'].includes(value);\n            if (newAt !== isAt) {\n                this.updateAt(newAt);\n                this.setFieldValue(value, 'WHERE');\n                return null;\n            }\n            return undefined;\n        });\n\n        this.moveInputBefore('AT', 'TO');\n        this.getInput('AT').appendField(menu, 'WHERE');\n        this.initSvg();\n        this.render(false);\n    },\n};\n\nBlockly.JavaScript.lists_setIndex = block => {\n    const mode = block.getFieldValue('MODE') || 'SET';\n    const where = block.getFieldValue('WHERE') || 'FIRST';\n    const value = Blockly.JavaScript.valueToCode(block, 'TO', Blockly.JavaScript.ORDER_ASSIGNMENT) || 'null';\n\n    let list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_MEMBER) || '[]';\n\n    const cacheList = () => {\n        if (list.match(/^\\w+$/)) {\n            return '';\n        }\n\n        // eslint-disable-next-line no-underscore-dangle\n        const listVar = Blockly.JavaScript.variableDB_.getDistinctName('tmpList', Blockly.Variables.NAME_TYPE);\n        const code = `var ${listVar} = ${list};\\n`;\n\n        list = listVar;\n        return code;\n    };\n\n    let code;\n\n    if (where === 'FIRST') {\n        if (mode === 'SET') {\n            code = `${list}[0] = ${value};\\n`;\n        } else if (mode === 'INSERT') {\n            code = `${list}.unshift(${value});\\n`;\n        }\n    } else if (where === 'LAST') {\n        if (mode === 'SET') {\n            code = cacheList();\n            code += `${list}[${list}.length - 1] = ${value};\\n`;\n        } else if (mode === 'INSERT') {\n            code = `${list}.push(${value});\\n`;\n        }\n    } else if (where === 'FROM_START') {\n        const at = Blockly.JavaScript.getAdjusted(block, 'AT');\n        if (mode === 'SET') {\n            code = `${list}[${at}] = ${value};\\n`;\n        } else if (mode === 'INSERT') {\n            code = `${list}.splice(${at}, 0, ${value});\\n`;\n        }\n    } else if (where === 'FROM_END') {\n        const at = Blockly.JavaScript.getAdjusted(block, 'AT', 1, false, Blockly.JavaScript.ORDER_SUBTRACTION);\n        code = cacheList();\n        if (mode === 'SET') {\n            code = `${list}[${list}.length - ${at}] = ${value};\\n`;\n        } else if (mode === 'INSERT') {\n            code = `${list}.splice(${list}.length - ${at}, 0, ${value});\\n`;\n        }\n    } else if (where === 'RANDOM') {\n        code = cacheList();\n\n        // eslint-disable-next-line no-underscore-dangle\n        const xVar = Blockly.JavaScript.variableDB_.getDistinctName('tmpX', Blockly.Variables.NAME_TYPE);\n\n        code += `var ${xVar} = Math.floor(Math.random() * ${list}.length);\\n`;\n\n        if (mode === 'SET') {\n            code += `${list}[${xVar}] = ${value};\\n`;\n        } else if (mode === 'INSERT') {\n            code += `${list}.splice(${xVar}, 0, ${value});\\n`;\n        }\n    }\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lists_getSublist = {\n    init() {\n        this.WHERE_OPTIONS_1 = [\n            [localize('get sub-list from #'), 'FROM_START'],\n            [localize('get sub-list from # from end'), 'FROM_END'],\n            [localize('get sub-list from first'), 'FIRST'],\n        ];\n        this.WHERE_OPTIONS_2 = [\n            [localize('#'), 'FROM_START'],\n            [localize('# from end'), 'FROM_END'],\n            [localize('last'), 'LAST'],\n        ];\n\n        this.appendValueInput('LIST').appendField(localize('in list'));\n        this.appendDummyInput('AT1');\n        this.appendDummyInput('AT2');\n\n        // eslint-disable-next-line no-underscore-dangle\n        this.setColourFromRawValues_(\n            Blockly.Colours.Base.colour,\n            Blockly.Colours.Base.colourSecondary,\n            Blockly.Colours.Base.colourTertiary\n        );\n        this.setOutput(true, null);\n        this.setOutputShape(Blockly.OUTPUT_SHAPE_ROUND);\n        this.setTooltip(\n            localize('This block creates a list of items from an existing list, using specific item positions.')\n        );\n        this.updateAt(1, true);\n        this.updateAt(2, true);\n    },\n    meta() {\n        return {\n            display_name: localize('Get sub-list'),\n            description: localize(\n                'This block creates a list of items from an existing list, using specific item positions.'\n            ),\n            category: Blockly.Categories.List,\n        };\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        const isAt1 = this.getInput('AT1').type === Blockly.INPUT_VALUE;\n        const isAt2 = this.getInput('AT2').type === Blockly.INPUT_VALUE;\n\n        container.setAttribute('at1', isAt1);\n        container.setAttribute('at2', isAt2);\n\n        return container;\n    },\n    domToMutation(xmlElement) {\n        const isAt1 = xmlElement.getAttribute('at1') === 'true';\n        const isAt2 = xmlElement.getAttribute('at2') === 'true';\n        this.updateAt(1, isAt1);\n        this.updateAt(2, isAt2);\n    },\n    updateAt(n, isAt) {\n        this.removeInput(`AT${n}`);\n\n        if (isAt) {\n            this.appendValueInput(`AT${n}`).setCheck('Number');\n        } else {\n            this.appendDummyInput(`AT${n}`);\n        }\n\n        const menu = new Blockly.FieldDropdown(this[`WHERE_OPTIONS_${n}`], value => {\n            const newAt = ['FROM_START', 'FROM_END'].includes(value);\n            if (newAt !== isAt) {\n                this.updateAt(n, newAt);\n                this.setFieldValue(value, `WHERE${n}`);\n                return null;\n            }\n            return undefined;\n        });\n\n        this.getInput(`AT${n}`).appendField(menu, `WHERE${n}`);\n\n        if (n === 1) {\n            this.moveInputBefore('AT1', 'AT2');\n        }\n\n        this.initSvg();\n        this.render(false);\n    },\n};\n\nBlockly.JavaScript.lists_getSublist = block => {\n    const list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_MEMBER) || '[]';\n    const where1 = block.getFieldValue('WHERE1');\n    const where2 = block.getFieldValue('WHERE2');\n\n    let at1, at2, code;\n\n    if (where1 === 'FIRST' && where2 === 'LAST') {\n        code = `${list}.slice(0)`;\n    } else if (list.match(/^\\w+$/) || (where1 !== 'FROM_END' && where2 === 'FROM_START')) {\n        if (where1 === 'FROM_START') {\n            at1 = Blockly.JavaScript.getAdjusted(block, 'AT1');\n        } else if (where1 === 'FROM_END') {\n            at1 = Blockly.JavaScript.getAdjusted(block, 'AT1', 1, false, Blockly.JavaScript.ORDER_SUBTRACTION);\n            at1 = `${list}.length - ${at1}`;\n        } else if (where1 === 'FIRST') {\n            at1 = '0';\n        }\n\n        if (where2 === 'FROM_START') {\n            at2 = Blockly.JavaScript.getAdjusted(block, 'AT2', 1);\n        } else if (where2 === 'FROM_END') {\n            at2 = Blockly.JavaScript.getAdjusted(block, 'AT2', 0, false, Blockly.JavaScript.ORDER_SUBTRACTION);\n            at2 = `${list}.length - ${at2}`;\n        } else if (where2 === 'LAST') {\n            at2 = `${list}.length`;\n        }\n\n        code = `${list}.slice(${at1}, ${at2})`;\n    } else {\n        at1 = Blockly.JavaScript.getAdjusted(block, 'AT1');\n        at2 = Blockly.JavaScript.getAdjusted(block, 'AT2');\n        const where_pascal_case = {\n            FROM_START: 'FromStart',\n            FROM_END: 'FromEnd',\n            FIRST: 'First',\n            LAST: 'Last',\n        };\n\n        const getIndex = (list_name, where, opt_at) => {\n            if (where === 'FIRST') {\n                return '0';\n            } else if (where === 'FROM_END') {\n                return `${list_name}.length - 1 - ${opt_at}`;\n            } else if (where === 'LAST') {\n                return `${list_name}.length - 1`;\n            }\n            return `${opt_at}`;\n        };\n\n        const has_at1 = where1 === 'FROM_END' || where1 === 'FROM_START';\n        const has_at2 = where2 === 'FROM_END' || where2 === 'FROM_START';\n\n        // eslint-disable-next-line no-underscore-dangle\n        const function_name = Blockly.JavaScript.provideFunction_(\n            `subsequence${where_pascal_case[where1]}${where_pascal_case[where2]}`,\n            [\n                // eslint-disable-next-line no-underscore-dangle\n                `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(\n                    sequence${has_at1 ? ', at1' : ''}${has_at2 ? ', at2' : ''}\n                ) {\n                    var start = ${getIndex('sequence', where1, 'at1')};\n                    var end = ${getIndex('sequence', where2, 'at2')} + 1;\n\n                    return sequence.slice(start, end);\n                }`,\n            ]\n        );\n\n        code = `${function_name}(${list}${has_at1 ? `, ${at1}` : ''}${has_at2 ? `, ${at2}` : ''})`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lists_split = {\n    init() {\n        const dropdown = new Blockly.FieldDropdown(\n            [\n                [localize('make list from text'), 'SPLIT'],\n                [localize('make text from list'), 'JOIN'],\n            ],\n            newMode => this.updateType(newMode)\n        );\n\n        this.appendValueInput('INPUT').setCheck('String').appendField(dropdown, 'MODE');\n        this.appendValueInput('DELIM')\n            .setCheck('String')\n            .appendField('', 'SPACE1')\n            .appendField(localize('with delimiter'), 'DELIM_LABEL');\n        this.appendDummyInput().appendField('', 'SPACE2');\n\n        this.setOutput(true, 'Array');\n        this.setOutputShape(Blockly.OUTPUT_SHAPE_ROUND);\n\n        // eslint-disable-next-line no-underscore-dangle\n        this.setColourFromRawValues_(\n            Blockly.Colours.Base.colour,\n            Blockly.Colours.Base.colourSecondary,\n            Blockly.Colours.Base.colourTertiary\n        );\n        this.setTooltip(\n            localize(\n                'This block creates a list from a given string of text, splitting it with the given delimiter. It can also join items in a list into a string of text.'\n            )\n        );\n    },\n    meta() {\n        return {\n            display_name: localize('Create list from text'),\n            description: localize(\n                'This block creates a list from a given string of text, splitting it with the given delimiter. It can also join items in a list into a string of text.'\n            ),\n            category: Blockly.Categories.List,\n        };\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        container.setAttribute('mode', this.getFieldValue('MODE'));\n        return container;\n    },\n    domToMutation(xmlElement) {\n        this.updateType(xmlElement.getAttribute('mode'));\n    },\n    updateType(newMode) {\n        const delimInput = this.getInput('DELIM');\n        const spaceField = this.getField('SPACE1');\n\n        if (newMode === 'SPLIT') {\n            this.outputConnection.setCheck('Array');\n            this.getInput('INPUT').setCheck('String');\n\n            // Create extra spacing for OUTPUT_SHAPE_SQUARE (i.e. string shapes)\n            if (!spaceField) {\n                delimInput.insertFieldAt(0, '', 'SPACE1');\n            }\n        } else {\n            this.outputConnection.setCheck('String');\n            this.getInput('INPUT').setCheck(null);\n\n            if (spaceField) {\n                delimInput.removeField('SPACE1');\n            }\n        }\n\n        this.initSvg();\n        this.render(false);\n    },\n};\n\nBlockly.JavaScript.lists_split = block => {\n    const input = Blockly.JavaScript.valueToCode(block, 'INPUT', Blockly.JavaScript.ORDER_MEMBER);\n    const delimiter = Blockly.JavaScript.valueToCode(block, 'DELIM', Blockly.JavaScript.ORDER_NONE) || \"''\";\n    const mode = block.getFieldValue('MODE');\n\n    let code;\n\n    if (mode === 'SPLIT') {\n        code = `${input || \"''\"}.split(${delimiter})`;\n    } else if (mode === 'JOIN') {\n        code = `${input || '[]'}.join(${delimiter})`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lists_sort = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('sort {{ sort_type }} {{ sort_direction }} {{ input_list }}', {\n                sort_type: '%1',\n                sort_direction: '%2',\n                input_list: '%3',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'TYPE',\n                    options: [\n                        [localize('numeric'), 'NUMERIC'],\n                        [localize('alphabetic'), 'TEXT'],\n                    ],\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'DIRECTION',\n                    options: [\n                        [localize('ascending'), '1'],\n                        [localize('descending'), '-1'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'LIST',\n                },\n            ],\n            output: 'Array',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Sorts the items in a given list'),\n            category: Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Sort list'),\n            description: localize(\n                'Sorts the items in a given list, by their numeric or alphabetical value, in either ascending or descending order.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            LIST: null,\n        };\n    },\n};\n\nBlockly.JavaScript.lists_sort = block => {\n    const list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_FUNCTION_CALL) || '[]';\n    const direction = block.getFieldValue('DIRECTION') === '1' ? 1 : -1;\n    const type = block.getFieldValue('TYPE');\n    // eslint-disable-next-line no-underscore-dangle\n    const getCompareFunctionName = Blockly.JavaScript.provideFunction_('listsGetSortCompare', [\n        // eslint-disable-next-line no-underscore-dangle\n        `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(type, direction) {\n            var compareFuncs = {\n                NUMERIC: function(a, b) {\n                    return parseFloat(a) - parseFloat(b);\n                },\n                TEXT: function(a, b) {\n                    return a.toString() > b.toString() ? 1 : -1;\n                }\n            };\n\n            return function(a, b) {\n                return compareFuncs[type](a, b) * direction; \n            }\n        }`,\n    ]);\n\n    const code = `${list}.sort().slice(0).sort(${getCompareFunctionName}(\"${type}\", ${direction}))`;\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\nimport { minusIconDark } from '../../images';\nimport { runIrreversibleEvents, runGroupedEvents } from '../../../utils';\n\nBlockly.Blocks.lists_statement = {\n    required_parent_type: 'lists_create_with',\n    init() {\n        this.required_parent_id = '';\n        const field_image = new Blockly.FieldImage(minusIconDark, 25, 25, '', () => this.onIconClick());\n        this.jsonInit(this.definition());\n        this.appendDummyInput('REMOVE_ICON').appendField(field_image);\n    },\n    definition() {\n        return {\n            message0: '%1',\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('List Statement'),\n            description: '',\n        };\n    },\n    onIconClick() {\n        if (this.workspace.options.readOnly || this.isInFlyout) {\n            return;\n        }\n\n        runGroupedEvents(false, () => {\n            this.unplug(true);\n            this.dispose();\n        });\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        if (event.type === Blockly.Events.END_DRAG) {\n            const surround_parent = this.getSurroundParent();\n\n            if (!surround_parent) {\n                runIrreversibleEvents(() => {\n                    this.dispose();\n                });\n            } else if (!this.required_parent_id && surround_parent.type === this.required_parent_type) {\n                // Create connection between parent and orphaned child.\n                this.required_parent_id = surround_parent.id;\n            } else if (surround_parent.id !== this.required_parent_id) {\n                // Someone pretending to be this child's parent. Find original parent and reconnect.\n                // Happens when someone tries to connect a statement block and Blockly automagically\n                // reconnects the children to this foreign statement block.\n                const all_blocks = this.workspace.getAllBlocks();\n                const original_parent = all_blocks.find(block => block.id === this.required_parent_id);\n\n                if (original_parent) {\n                    const last_connection = original_parent.getLastConnectionInStatement('STACK');\n\n                    runIrreversibleEvents(() => {\n                        last_connection.connect(this.previousConnection);\n                    });\n                } else {\n                    // Dispose child if it became a child of an illegal parent and original parent\n                    // is nowhere to be found.\n                    runIrreversibleEvents(() => {\n                        this.dispose(/* healStack */ true);\n                    });\n                }\n            }\n        }\n    },\n};\n\nBlockly.JavaScript.lists_statement = block => {\n    const code = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_ATOMIC) || 'null';\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.controls_repeat_ext = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('repeat {{ number }} times', { number: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'TIMES',\n                    check: 'Number',\n                },\n            ],\n            message1: localize('do %1'),\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Repeats inside instructions specified number of times'),\n            category: Blockly.Categories.Loop,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Repeat (2)'),\n            description: localize(\n                'This block is similar to the block above, except that the number of times it repeats is determined by a given variable.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TIMES: null,\n        };\n    },\n};\n\nBlockly.JavaScript.controls_repeat_ext = block => {\n    let repeats;\n    if (block.getField('TIMES')) {\n        repeats = String(Number(block.getFieldValue('TIMES')));\n    } else {\n        repeats = Blockly.JavaScript.valueToCode(block, 'TIMES', Blockly.JavaScript.ORDER_ATOMIC) || '0';\n    }\n\n    const branch = Blockly.JavaScript.statementToCode(block, 'DO');\n    let code = '';\n\n    // eslint-disable-next-line no-underscore-dangle\n    const loopVar = Blockly.JavaScript.variableDB_.getDistinctName('count', Blockly.Variables.NAME_TYPE);\n    let endVar = repeats;\n\n    if (!repeats.match(/^\\w+$/) && !Blockly.isNumber(repeats)) {\n        // eslint-disable-next-line no-underscore-dangle\n        endVar = Blockly.JavaScript.variableDB_.getDistinctName('repeat_end', Blockly.Variables.NAME_TYPE);\n        code += `var ${endVar} = ${repeats};\\n`;\n    }\n\n    code += `\n    for (var ${loopVar} = 0; ${loopVar} < ${endVar}; ${loopVar}++) {\n        ${branch}\n    }\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.controls_repeat = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            type: 'controls_repeat',\n            message0: localize('repeat {{ number }} times', { number: '%1' }),\n            args0: [\n                {\n                    type: 'field_number',\n                    name: 'TIMES',\n                    value: 10,\n                    min: 0,\n                    precision: 1,\n                },\n            ],\n            message1: localize('do %1'),\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Repeats inside instructions specified number of times'),\n            category: Blockly.Categories.Loop,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Repeat (1)'),\n            description: localize(\n                'This block repeats the instructions contained within for a specific number of times.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.controls_repeat = Blockly.JavaScript.controls_repeat_ext;\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.controls_whileUntil = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('repeat {{ while_or_until }} {{ boolean }}', { while_or_until: '%1', boolean: '%2' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'MODE',\n                    options: [\n                        [localize('while'), 'WHILE'],\n                        [localize('until'), 'UNTIL'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'BOOL',\n                    check: 'Boolean',\n                },\n            ],\n            message1: localize('do %1'),\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('This block repeats instructions as long as a given condition is true'),\n            category: Blockly.Categories.Loop,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Repeat While/Until'),\n            description: localize('This block repeats instructions as long as a given condition is true.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            BOOL: null,\n        };\n    },\n};\n\nBlockly.JavaScript.controls_whileUntil = block => {\n    const branch = Blockly.JavaScript.statementToCode(block, 'DO');\n    const until = block.getFieldValue('MODE') === 'UNTIL';\n    const order = until ? Blockly.JavaScript.ORDER_LOGICAL_NOT : Blockly.JavaScript.ORDER_NONE;\n    let argument0 = Blockly.JavaScript.valueToCode(block, 'BOOL', order) || 'false';\n\n    if (until) {\n        argument0 = `!${argument0}`;\n    }\n\n    // eslint-disable-next-line no-underscore-dangle\n    const maxLoopVar = Blockly.JavaScript.variableDB_.getDistinctName('maxLoops', Blockly.Variables.NAME_TYPE);\n    // eslint-disable-next-line no-underscore-dangle\n    const currentLoopVar = Blockly.JavaScript.variableDB_.getDistinctName('currentLoop', Blockly.Variables.NAME_TYPE);\n\n    return `\n        var ${maxLoopVar} = 10000;\n        var ${currentLoopVar} = 0;\n\n        while (${argument0}) {\n            if (${currentLoopVar} > ${maxLoopVar}) {\n                throw new Error(\"${localize('Infinite loop detected')}\");\n            } else {\n                ${currentLoopVar}++;\n            }\n            \n            ${branch}\n        }\\n`;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.controls_for = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize(\n                'count with {{ variable }} from {{ start_number }} to {{ end_number }} by {{ step_size }}',\n                {\n                    variable: '%1',\n                    start_number: '%2',\n                    end_number: '%3',\n                    step_size: '%4',\n                }\n            ),\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VAR',\n                    variable: null,\n                },\n                {\n                    type: 'input_value',\n                    name: 'FROM',\n                    check: 'Number',\n                },\n                {\n                    type: 'input_value',\n                    name: 'TO',\n                    check: 'Number',\n                },\n                {\n                    type: 'input_value',\n                    name: 'BY',\n                    check: 'Number',\n                },\n            ],\n            message1: localize('do %1'),\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize(\n                'This block uses the variable i to control the iterations. With each iteration, the value of i is determined by the items in a given list.'\n            ),\n            category: Blockly.Categories.Loop,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Iterate (1)'),\n            description: localize(\n                'This block uses the variable i to control the iterations. With each iteration, the value of i is determined by the items in a given list.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            FROM: null,\n            TO: null,\n            BY: null,\n        };\n    },\n};\n\nBlockly.JavaScript.controls_for = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const variable0 = Blockly.JavaScript.variableDB_.getName(block.getFieldValue('VAR'), Blockly.Variables.NAME_TYPE);\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'FROM', Blockly.JavaScript.ORDER_ASSIGNMENT) || '0';\n    const argument1 = Blockly.JavaScript.valueToCode(block, 'TO', Blockly.JavaScript.ORDER_ASSIGNMENT) || '0';\n    const increment = Blockly.JavaScript.valueToCode(block, 'BY', Blockly.JavaScript.ORDER_ASSIGNMENT) || '1';\n\n    let branch = Blockly.JavaScript.statementToCode(block, 'DO');\n    branch = Blockly.JavaScript.addLoopTrap(branch, block.id);\n\n    let code = '';\n\n    if (Blockly.isNumber(argument0) && Blockly.isNumber(argument1) && Blockly.isNumber(increment)) {\n        const up = parseFloat(argument0) <= parseFloat(argument1);\n        const operator = up ? '<=' : '>=';\n        const step = Math.abs(parseFloat(increment));\n\n        const assignment = `${variable0} = ${argument0}`;\n        const condition = `${variable0} ${operator} ${argument1}`;\n        const statement = `${variable0} ${up ? '+=' : '-='} ${step}`;\n\n        code = `\n        for (${assignment}; ${condition}; ${statement}) {\n            ${branch}\n        }\\n`;\n    } else {\n        // Cache non-trivial values to variables to prevent repeated look-ups.\n        let startVar = argument0;\n        if (!argument0.match(/^\\w+$/) && !Blockly.isNumber(argument0)) {\n            // eslint-disable-next-line no-underscore-dangle\n            startVar = Blockly.JavaScript.variableDB_.getDistinctName(\n                `${variable0}_start`,\n                Blockly.Variables.NAME_TYPE\n            );\n            code = `var ${startVar} = ${argument0};\\n`;\n        }\n\n        let endVar = argument1;\n        if (!argument1.match(/^\\w+$/) && !Blockly.isNumber(argument1)) {\n            // eslint-disable-next-line no-underscore-dangle\n            endVar = Blockly.JavaScript.variableDB_.getDistinctName(`${variable0}_end`, Blockly.Variables.NAME_TYPE);\n            code += `var ${endVar} = ${argument1};\\n`;\n        }\n\n        // Determine loop direction at start, in case one of the bounds changes during loop execution.\n        // eslint-disable-next-line no-underscore-dangle\n        const incVar = Blockly.JavaScript.variableDB_.getDistinctName(`${variable0}_inc`, Blockly.Variables.NAME_TYPE);\n        const incVal = Blockly.isNumber(increment) ? Math.abs(increment) : `Math.abs(${increment})`;\n\n        code += `\n        var ${incVar} = ${incVal};\n        if (${startVar} > ${endVar}) {\n            ${incVar} = -${incVar};\n        }\n        for (\n           ${variable0} = ${startVar}; \n           ${incVar} >= 0 ? ${variable0} <= ${endVar} : ${variable0} >= ${endVar};\n           ${variable0} += ${incVar}\n        ) {\n            ${branch};\n        }\\n`;\n    }\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.controls_forEach = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('for each item {{ variable }} in list {{ input_list }}', {\n                variable: '%1',\n                input_list: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VAR',\n                    variable: null,\n                },\n                {\n                    type: 'input_value',\n                    name: 'LIST',\n                    check: 'Array',\n                },\n            ],\n            message1: localize('do %1'),\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Iterates through a given list'),\n            category: Blockly.Categories.Loop,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Iterate (2)'),\n            description: localize(\n                'This block uses the variable \"i\" to control the iterations. With each iteration, the value of \"i\" is determined by the items in a given list.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            LIST: null,\n        };\n    },\n};\n\nBlockly.JavaScript.controls_forEach = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const variable0 = Blockly.JavaScript.variableDB_.getName(block.getFieldValue('VAR'), Blockly.Variables.NAME_TYPE);\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_ASSIGNMENT) || '[]';\n\n    let branch = Blockly.JavaScript.statementToCode(block, 'DO');\n    branch = Blockly.JavaScript.addLoopTrap(branch, block.id);\n\n    let code = '';\n\n    // Cache non-trivial values to variables to prevent repeated look-ups.\n    let listVar = argument0;\n    if (!argument0.match(/^\\w+$/)) {\n        // eslint-disable-next-line no-underscore-dangle\n        listVar = Blockly.JavaScript.variableDB_.getDistinctName(`${variable0}_list`, Blockly.Variables.NAME_TYPE);\n        code = `var ${listVar} = ${argument0};\\n`;\n    }\n\n    // eslint-disable-next-line no-underscore-dangle\n    const indexVar = Blockly.JavaScript.variableDB_.getDistinctName(`${variable0}_list`, Blockly.Variables.NAME_TYPE);\n\n    code += `\n    for (var ${indexVar} in ${listVar}) {\n        ${variable0} = ${listVar}[${indexVar}];\n        ${branch}\n    }\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.controls_flow_statements = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('{{ break_or_continue }} of loop', { break_or_continue: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'FLOW',\n                    options: [\n                        [localize('break out'), 'BREAK'],\n                        [localize('continue with next iteration'), 'CONTINUE'],\n                    ],\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize(\n                'This block is used to either terminate or continue a loop, and can be placed anywhere within a loop block.'\n            ),\n            category: Blockly.Categories.Loop,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Break out/continue'),\n            description: localize(\n                'This block is used to either terminate or continue a loop, and can be placed anywhere within a loop block.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.controls_flow_statements = block => {\n    const keyword = block.getFieldValue('FLOW') === 'BREAK' ? 'break' : 'continue';\n    return `${keyword};\\n`;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.variables_get = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            type: 'variables_get',\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VAR',\n                    variable: localize('item'),\n                },\n            ],\n            output: null,\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Special2.colour,\n            colourSecondary: Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: Blockly.Colours.Special2.colourTertiary,\n            tooltip: localize('Gets variable value'),\n            category: Blockly.Categories.Variables,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('User-defined variable'),\n            description: '',\n        };\n    },\n    onchange(event) {\n        if (event.type === Blockly.Events.VAR_RENAME) {\n            const all_blocks = this.workspace.getAllBlocks();\n            const function_blocks = all_blocks.filter(block => block.category_ === 'custom_functions');\n            const old_param = event.oldName;\n            const new_param = event.newName;\n            function_blocks.forEach(block => {\n                if (block.arguments?.length) {\n                    const param_index = block.arguments.findIndex(item => item === old_param);\n                    if (param_index !== -1) {\n                        block.arguments[param_index] = new_param;\n                        const param_field = block.getField('PARAMS');\n                        if (param_field) {\n                            block.setFieldValue(`${localize('with: ')} ${block.arguments.join(', ')}`, 'PARAMS');\n                        }\n                        const with_field = block.getField('WITH');\n                        if (with_field) {\n                            block.updateShape();\n                        }\n                    }\n                }\n            });\n        }\n    },\n};\n\nBlockly.JavaScript.variables_get = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const code = Blockly.JavaScript.variableDB_.getName(block.getFieldValue('VAR'), Blockly.Variables.NAME_TYPE);\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.variables_set = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            type: 'field_variable',\n            message0: localize('set {{ variable }} to {{ value }}', {\n                variable: '%1',\n                value: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VAR',\n                    variable: localize('item'),\n                },\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n            ],\n            colour: Blockly.Colours.Special2.colour,\n            colourSecondary: Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: Blockly.Colours.Special2.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Sets variable value'),\n            category: Blockly.Categories.Variables,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Set variable'),\n            description: localize('Assigns a given value to a variable'),\n        };\n    },\n};\n\nBlockly.JavaScript.variables_set = block => {\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_ASSIGNMENT) || '0';\n    // eslint-disable-next-line no-underscore-dangle\n    const varName = Blockly.JavaScript.variableDB_.getName(block.getFieldValue('VAR'), Blockly.Variables.NAME_TYPE);\n\n    const code = `${varName} = ${argument0};\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { finishSign } from '../../images';\n\nBlockly.Blocks.after_purchase = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_image',\n                    src: finishSign,\n                    width: 25,\n                    height: 25,\n                    alt: 'F',\n                },\n                {\n                    type: 'field_label',\n                    text: localize('4. Restart trading conditions'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'AFTERPURCHASE_STACK',\n                    check: 'TradeAgain',\n                },\n            ],\n            colour: Blockly.Colours.RootBlock.colour,\n            colourSecondary: Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('Get the last trade information and result, then trade again.'),\n            category: Blockly.Categories.After_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Restart trading conditions'),\n            description: localize('Here is where you can decide if your bot should continue trading.'),\n        };\n    },\n};\n\nBlockly.JavaScript.after_purchase = block => {\n    const stack = Blockly.JavaScript.statementToCode(block, 'AFTERPURCHASE_STACK');\n    const code = `\n    BinaryBotPrivateAfterPurchase = function BinaryBotPrivateAfterPurchase() {\n        Bot.highlightBlock('${block.id}');\n        ${stack}\n        Bot.isTradeAgain(false);\n        return false;\n    };`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.contract_check_result = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Result is {{ win_or_loss }}', { win_or_loss: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CHECK_RESULT',\n                    options: config.lists.CHECK_RESULT,\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('True if the result of the last trade matches the selection'),\n            category: Blockly.Categories.After_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Last trade result'),\n            description: localize('You can check the result of the last trade with this block.'),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        if (event.type === Blockly.Events.BLOCK_CREATE || event.type === Blockly.Events.END_DRAG) {\n            const top_parent = this.getTopParent();\n\n            if (top_parent) {\n                const is_illegal_root_block = top_parent.isMainBlock() && top_parent.type !== 'after_purchase';\n\n                if (is_illegal_root_block) {\n                    this.setDisabled(true);\n                }\n            }\n        }\n    },\n};\n\nBlockly.JavaScript.contract_check_result = block => {\n    const checkWith = block.getFieldValue('CHECK_RESULT');\n\n    const code = `Bot.isResult('${checkWith}')`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.read_details = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Contract Details: {{ contract_detail }}', { contract_detail: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'DETAIL_INDEX',\n                    options: config.lists.DETAILS,\n                },\n            ],\n            output: null,\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND, // TODO: Investigate why block glitches in square shape.\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Reads a selected property from contract details list'),\n            category: Blockly.Categories.After_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Contract details'),\n            description: localize('This block gives you information about your last contract.'),\n        };\n    },\n    restricted_parents: ['after_purchase'],\n};\n\nBlockly.JavaScript.read_details = block => {\n    const detailIndex = block.getFieldValue('DETAIL_INDEX');\n\n    const code = `Bot.readDetails(${detailIndex})`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.trade_again = {\n    init() {\n        this.jsonInit(this.definition());\n\n        // Ensure one of this type per statement-stack\n        this.setNextStatement(false);\n    },\n    definition() {\n        return {\n            message0: localize('Trade again'),\n            colour: Blockly.Colours.Special1.colour,\n            colourSecondary: Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            tooltip: localize('These blocks transfer control to the Purchase conditions block.'),\n            category: Blockly.Categories.After_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Trade again'),\n            description: localize(\n                'This block will transfer the control back to the Purchase conditions block, enabling you to purchase another contract.'\n            ),\n            key_words: localize('restart'),\n        };\n    },\n    restricted_parents: ['after_purchase'],\n};\n\nBlockly.JavaScript.trade_again = () => {\n    const code = `\n        Bot.isTradeAgain(true);\\n\n        return true;\\n\n    `;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { purchase } from '../../images';\n\nBlockly.Blocks.before_purchase = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_image',\n                    src: purchase,\n                    width: 25,\n                    height: 25,\n                    alt: 'P',\n                },\n                {\n                    type: 'field_label',\n                    text: localize('2. Purchase conditions'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'BEFOREPURCHASE_STACK',\n                    check: 'Purchase',\n                },\n            ],\n            colour: Blockly.Colours.RootBlock.colour,\n            colourSecondary: Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('Specify contract type and purchase conditions.'),\n            category: Blockly.Categories.Before_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Purchase conditions'),\n            description: localize(\n                'This block is mandatory. Only one copy of this block is allowed. You can place the Purchase block (see below) here as well as conditional blocks to define your purchase conditions.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.before_purchase = block => {\n    const stack = Blockly.JavaScript.statementToCode(block, 'BEFOREPURCHASE_STACK');\n\n    const code = `BinaryBotPrivateBeforePurchase = function BinaryBotPrivateBeforePurchase() {\n        Bot.highlightBlock('${block.id}');\n        ${stack}\n    };\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { getContractTypeOptions } from '../../../shared';\n\nBlockly.Blocks.purchase = {\n    init() {\n        this.jsonInit(this.definition());\n\n        // Ensure one of this type per statement-stack\n        this.setNextStatement(false);\n    },\n    definition() {\n        return {\n            message0: localize('Purchase {{ contract_type }}', { contract_type: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'PURCHASE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            previousStatement: null,\n            colour: Blockly.Colours.Special1.colour,\n            colourSecondary: Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: Blockly.Colours.Special1.colourTertiary,\n            tooltip: localize('This block purchases contract of a specified type.'),\n            category: Blockly.Categories.Before_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Purchase'),\n            description: localize(\n                'Use this block to purchase the specific contract you want. You may add multiple Purchase blocks together with conditional blocks to define your purchase conditions. This block can only be used within the Purchase conditions block.'\n            ),\n            key_words: localize('buy'),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        if (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            this.populatePurchaseList(event);\n        } else if (event.type === Blockly.Events.BLOCK_CHANGE) {\n            if (event.name === 'TYPE_LIST' || event.name === 'TRADETYPE_LIST') {\n                this.populatePurchaseList(event);\n            }\n        } else if (event.type === Blockly.Events.END_DRAG && event.blockId === this.id) {\n            const purchase_type_list = this.getField('PURCHASE_LIST');\n            const purchase_options = purchase_type_list.menuGenerator_; // eslint-disable-line\n\n            if (purchase_options[0][0] === '') {\n                this.populatePurchaseList(event);\n            }\n        }\n    },\n    populatePurchaseList(event) {\n        const trade_definition_block = this.workspace.getTradeDefinitionBlock();\n\n        if (trade_definition_block) {\n            const trade_type_block = trade_definition_block.getChildByType('trade_definition_tradetype');\n            const trade_type = trade_type_block.getFieldValue('TRADETYPE_LIST');\n            const contract_type_block = trade_definition_block.getChildByType('trade_definition_contracttype');\n            const contract_type = contract_type_block.getFieldValue('TYPE_LIST');\n            const purchase_type_list = this.getField('PURCHASE_LIST');\n            const purchase_type = purchase_type_list.getValue();\n            const contract_type_options = getContractTypeOptions(contract_type, trade_type);\n\n            purchase_type_list.updateOptions(contract_type_options, {\n                default_value: purchase_type,\n                event_group: event.group,\n                should_pretend_empty: true,\n            });\n        }\n    },\n    restricted_parents: ['before_purchase'],\n};\n\nBlockly.JavaScript.purchase = block => {\n    const purchaseList = block.getFieldValue('PURCHASE_LIST');\n\n    const code = `Bot.purchase('${purchaseList}');\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.ask_price = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Ask Price {{ contract_type }}', { contract_type: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'PURCHASE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block returns the purchase price for the selected trade type.'),\n            category: Blockly.Categories.Before_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Purchase price'),\n            description: localize(\n                'This block returns the purchase price for the selected trade type. This block can be used only in the \"Purchase conditions\" root block.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.purchase.onchange,\n    populatePurchaseList: Blockly.Blocks.purchase.populatePurchaseList,\n    enforceLimitations: Blockly.Blocks.purchase.enforceLimitations,\n};\n\nBlockly.JavaScript.ask_price = block => {\n    const purchaseList = block.getFieldValue('PURCHASE_LIST');\n\n    const code = `Bot.getAskPrice('${purchaseList}')`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.payout = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Payout {{ contract_type }}', { contract_type: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'PURCHASE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block returns the potential payout for the selected trade type'),\n            category: Blockly.Categories.Before_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Potential payout'),\n            description: localize(\n                'This block returns the potential payout for the selected trade type. This block can be used only in the \"Purchase conditions\" root block.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.purchase.onchange,\n    populatePurchaseList: Blockly.Blocks.purchase.populatePurchaseList,\n    enforceLimitations: Blockly.Blocks.purchase.enforceLimitations,\n};\n\nBlockly.JavaScript.payout = block => {\n    const purchaseList = block.getFieldValue('PURCHASE_LIST');\n\n    const code = `Bot.getPayout('${purchaseList}')`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { sellContract } from '../../images';\n\nBlockly.Blocks.during_purchase = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_image',\n                    src: sellContract,\n                    width: 25,\n                    height: 25,\n                    alt: 'S',\n                },\n                {\n                    type: 'field_label',\n                    text: localize('3. Sell conditions'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DURING_PURCHASE_STACK',\n                    check: 'SellAtMarket',\n                },\n            ],\n            colour: Blockly.Colours.RootBlock.colour,\n            colourSecondary: Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('Sell your active contract if needed (optional)'),\n            category: Blockly.Categories.During_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Sell conditions'),\n            description: localize(\n                'Here is where you can decide to sell your contract before it expires. Only one copy of this block is allowed.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.during_purchase = block => {\n    const stack = Blockly.JavaScript.statementToCode(block, 'DURING_PURCHASE_STACK');\n\n    const code = `BinaryBotPrivateDuringPurchase = function BinaryBotPrivateDuringPurchase() {\n        Bot.highlightBlock('${block.id}');\n        ${stack}\n    };\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.sell_at_market = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Sell at market price'),\n            colour: Blockly.Colours.Special1.colour,\n            colourSecondary: Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Use this block to sell your contract at the market price.'),\n            category: Blockly.Categories.During_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Sell at market price'),\n            description: localize('Use this block to sell your contract at the market price.'),\n        };\n    },\n    restricted_parents: ['during_purchase'],\n};\n\nBlockly.JavaScript.sell_at_market = () => 'Bot.sellAtMarket();\\n';\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.check_sell = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Sell is available'),\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('True if active contract can be sold before expiration at current market price'),\n            category: Blockly.Categories.During_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Can contract be sold?'),\n            description: localize(\n                'This block helps you check if your contract can be sold. If your contract can be sold, it returns True. Otherwise, it returns an empty string.'\n            ),\n        };\n    },\n    restricted_parents: ['during_purchase'],\n};\n\nBlockly.JavaScript.check_sell = () => {\n    const code = 'Bot.isSellAvailable()';\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.sell_price = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Sell profit/loss'),\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the profit/loss from selling at market price'),\n            category: Blockly.Categories.During_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Profit/loss from selling'),\n            description: localize(\n                'This block gives you the potential profit or loss if you decide to sell your contract.'\n            ),\n        };\n    },\n    restricted_parents: ['during_purchase'],\n};\n\nBlockly.JavaScript.sell_price = () => {\n    const code = 'Bot.getSellPrice()';\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.bb_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period', 'std_dev_multiplier_up', 'std_dev_multiplier_down'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Bollinger Bands {{ band_type }} {{ dummy }}', {\n                variable: '%1',\n                band_type: '%2',\n                dummy: '%3',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'bb',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'BBRESULT_LIST',\n                    options: config.bbResult,\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Bollinger Bands (BB) from a list with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Bollinger Bands (BB)'),\n            description: localize(\n                'BB is a technical analysis indicator thats commonly used by traders. The idea behind BB is that the market price stays within the upper and lower bands for 95% of the time. The bands are the standard deviations of the market price, while the line in the middle is a simple moving average line. If the price reaches either the upper or lower band, theres a possibility of a trend reversal.'\n            ),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        if (event.type === Blockly.Events.END_DRAG) {\n            const blocksInStatement = this.getBlocksInStatement('STATEMENT');\n            blocksInStatement.forEach(block => {\n                if (!this.required_child_blocks.includes(block.type)) {\n                    Blockly.Events.disable();\n                    block.unplug(false);\n                    Blockly.Events.enable();\n                }\n            });\n        }\n    },\n};\n\nBlockly.JavaScript.bb_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const bb_result = block.getFieldValue('BBRESULT_LIST');\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const std_dev_up = block.childValueToCode('std_dev_multiplier_up', 'UPMULTIPLIER');\n    const std_dev_down = block.childValueToCode('std_dev_multiplier_down', 'DOWNMULTIPLIER');\n    const code = `${var_name} = Bot.bb(${input}, { \n        periods: ${period}, \n        stdDevUp: ${std_dev_up}, \n        stdDevDown: ${std_dev_down} \n    }, ${bb_result});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.bba_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period', 'std_dev_multiplier_up', 'std_dev_multiplier_down'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Bollinger Bands Array {{ band_type }} {{ dummy }}', {\n                variable: '%1',\n                band_type: '%2',\n                dummy: '%3',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'bba',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'BBRESULT_LIST',\n                    options: config.bbResult,\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Bollinger Bands (BB) list from a list with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Bollinger Bands Array (BBA)'),\n            description: localize(\n                'Similar to BB. This block gives you a choice of returning the values of either the lower band, higher band, or the SMA line in the middle.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.bb_statement.onchange,\n};\n\nBlockly.JavaScript.bba_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const bb_result = block.getFieldValue('BBRESULT_LIST');\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const std_dev_up = block.childValueToCode('std_dev_multiplier_up', 'UPMULTIPLIER');\n    const std_dev_down = block.childValueToCode('std_dev_multiplier_down', 'DOWNMULTIPLIER');\n    const code = `${var_name} = Bot.bba(${input}, { \n        periods: ${period}, \n        stdDevUp: ${std_dev_up}, \n        stdDevDown: ${std_dev_down} \n    }, ${bb_result});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.ema_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Exponential Moving Average {{ dummy }}', {\n                variable: '%1',\n                dummy: '%2',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'ema',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Exponential Moving Average (EMA) from a list with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Exponential Moving Average (EMA)'),\n            description: localize(\n                'EMA is a type of moving average that places more significance on the most recent data points. Its also known as the exponentially weighted moving average. EMA is different from SMA in that it reacts more significantly to recent price changes.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.bb_statement.onchange,\n};\n\nBlockly.JavaScript.ema_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const code = `${var_name} = Bot.ema(${input}, ${period});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.emaa_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Exponential Moving Average Array {{ dummy }}', {\n                variable: '%1',\n                dummy: '%2',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'emaa',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Exponential Moving Average (EMA) list from a list of values with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Exponential Moving Average Array (EMAA)'),\n            description: localize(\n                'This block is similar to EMA, except that it gives you the entire EMA line based on the input list and the given period.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.bb_statement.onchange,\n};\n\nBlockly.JavaScript.emaa_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const code = `${var_name} = Bot.emaa(${input}, ${period});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.rsi_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Relative Strength Index {{ dummy }}', {\n                variable: '%1',\n                dummy: '%2',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'rsi',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Relative Strength Index (RSI) from a list with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Relative Strength Index (RSI)'),\n            description: localize(\n                'RSI is a technical analysis tool that helps you identify the market trend. It will give you a value from 0 to 100. An RSI value of 70 and above means that the asset is overbought and the current trend may reverse, while a value of 30 and below means that the asset is oversold.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.bb_statement.onchange,\n};\n\nBlockly.JavaScript.rsi_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const code = `${var_name} = Bot.rsi(${input}, ${period});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.rsia_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Relative Strength Index Array {{ dummy }}', {\n                variable: '%1',\n                dummy: '%2',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'rsia',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Relative Strength Index (RSI) list from a list of values with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Relative Strength Index Array (RSIA)'),\n            description: localize(\n                'Similar to RSI, this block gives you a list of values for each entry in the input list.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.bb_statement.onchange,\n};\n\nBlockly.JavaScript.rsia_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const code = `${var_name} = Bot.rsia(${input}, ${period});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.sma_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Simple Moving Average {{ dummy }}', {\n                variable: '%1',\n                dummy: '%2',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'sma',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Simple Moving Average (SMA) from a list with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Simple Moving Average (SMA)'),\n            description: localize(\n                'SMA is a frequently used indicator in technical analysis. It calculates the average market price over a specified period, and is usually used to identify market trend direction: up or down. For example, if the SMA is moving upwards, it means the market trend is up. '\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.bb_statement.onchange,\n};\n\nBlockly.JavaScript.sma_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const code = `${var_name} = Bot.sma(${input}, ${period});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.smaa_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Simple Moving Average Array {{ dummy }}', {\n                variable: '%1',\n                dummy: '%2',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'smaa',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Simple Moving Average line from a list with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Simple Moving Average Array (SMAA)'),\n            description: localize(\n                'Similar to SMA, this block gives you the entire SMA line containing a list of all values for a given period.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.bb_statement.onchange,\n};\n\nBlockly.JavaScript.smaa_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const code = `${var_name} = Bot.smaa(${input}, ${period});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.macda_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'fast_ema_period', 'slow_ema_period', 'signal_ema_period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to MACD Array {{ dropdown }} {{ dummy }}', {\n                variable: '%1',\n                dropdown: '%2',\n                dummy: '%3',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'macda',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'MACDFIELDS_LIST',\n                    options: config.macdFields,\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Moving Average Convergence Divergence (MACD) from a list'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Moving Average Convergence Divergence'),\n            description: localize(\n                'MACD is calculated by subtracting the long-term EMA (26 periods) from the short-term EMA (12 periods). If the short-term EMA is greater or lower than the long-term EMA than theres a possibility of a trend reversal.'\n            ),\n        };\n    },\n\n    onchange: Blockly.Blocks.bb_statement.onchange,\n};\n\nBlockly.JavaScript.macda_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const macd_field = block.getFieldValue('MACDFIELDS_LIST');\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const fast_ema_period = block.childValueToCode('fast_ema_period', 'FAST_EMA_PERIOD');\n    const slow_ema_period = block.childValueToCode('slow_ema_period', 'SLOW_EMA_PERIOD');\n    const signal_ema_period = block.childValueToCode('signal_ema_period', 'SIGNAL_EMA_PERIOD');\n    const code = `${var_name} = Bot.macda(${input}, { \n        fastEmaPeriod: ${fast_ema_period},\n        slowEmaPeriod: ${slow_ema_period},\n        signalEmaPeriod: ${signal_ema_period},\n    }, ${macd_field});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { runIrreversibleEvents } from '../../../../utils';\n\nBlockly.Blocks.input_list = {\n    init() {\n        this.jsonInit({\n            message0: localize('Input List {{ input_list }}', { input_list: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'INPUT_LIST',\n                    check: 'Array',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        const setParentId = () => {\n            const surround_parent = this.getSurroundParent();\n            if (surround_parent && !this.required_parent_id && this.allowed_parents.includes(surround_parent.type)) {\n                this.required_parent_id = surround_parent.id;\n            }\n        };\n\n        if (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            setParentId();\n        } else if (event.type === Blockly.Events.END_DRAG) {\n            setParentId();\n\n            const surround_parent = this.getSurroundParent();\n            const has_parent = !!surround_parent;\n            const is_illegal_parent = !has_parent || surround_parent.id !== this.required_parent_id;\n\n            if (!has_parent || is_illegal_parent) {\n                runIrreversibleEvents(() => {\n                    this.unplug(true);\n\n                    // Attempt to re-connect this child to its original parent.\n                    const all_blocks = this.workspace.getAllBlocks();\n                    const parent_block = all_blocks.find(block => block.id === this.required_parent_id);\n\n                    if (parent_block) {\n                        const parent_connection = parent_block.getLastConnectionInStatement('STATEMENT');\n                        parent_connection.connect(this.previousConnection);\n                    } else {\n                        this.dispose();\n                    }\n                });\n            }\n        }\n    },\n    allowed_parents: [\n        'bb_statement',\n        'bba_statement',\n        'ema_statement',\n        'emaa_statement',\n        'macda_statement',\n        'rsi_statement',\n        'rsia_statement',\n        'sma_statement',\n        'smaa_statement',\n    ],\n    getRequiredValueInputs() {\n        return {\n            INPUT_LIST: null,\n        };\n    },\n};\n\nBlockly.JavaScript.input_list = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.period = {\n    init() {\n        this.jsonInit({\n            message0: localize('Period {{ input_period }}', { input_period: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'PERIOD',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange: Blockly.Blocks.input_list.onchange,\n    allowed_parents: [\n        'bb_statement',\n        'bba_statement',\n        'ema_statement',\n        'emaa_statement',\n        'macda_statement',\n        'rsi_statement',\n        'rsia_statement',\n        'sma_statement',\n        'smaa_statement',\n    ],\n    getRequiredValueInputs() {\n        return {\n            PERIOD: null,\n        };\n    },\n};\n\nBlockly.JavaScript.period = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.std_dev_multiplier_up = {\n    init() {\n        this.jsonInit({\n            message0: localize('Standard Deviation Up Multiplier {{ input_number }}', { input_number: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'UPMULTIPLIER',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange: Blockly.Blocks.input_list.onchange,\n    allowed_parents: ['bb_statement', 'bba_statement'],\n    getRequiredValueInputs() {\n        return {\n            UPMULTIPLIER: null,\n        };\n    },\n};\n\nBlockly.JavaScript.std_dev_multiplier_up = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.std_dev_multiplier_down = {\n    init() {\n        this.jsonInit({\n            message0: localize('Standard Deviation Down Multiplier {{ input_number }}', { input_number: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'DOWNMULTIPLIER',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange: Blockly.Blocks.input_list.onchange,\n    allowed_parents: ['bb_statement', 'bba_statement'],\n    getRequiredValueInputs() {\n        return {\n            DOWNMULTIPLIER: null,\n        };\n    },\n};\n\nBlockly.JavaScript.std_dev_multiplier_down = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.fast_ema_period = {\n    init() {\n        this.jsonInit({\n            message0: localize('Fast EMA Period {{ input_number }}', { input_number: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'FAST_EMA_PERIOD',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange: Blockly.Blocks.input_list.onchange,\n    allowed_parents: ['macda_statement'],\n    getRequiredValueInputs() {\n        return {\n            FAST_EMA_PERIOD: null,\n        };\n    },\n};\n\nBlockly.JavaScript.fast_ema_period = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.slow_ema_period = {\n    init() {\n        this.jsonInit({\n            message0: localize('Slow EMA Period {{ input_number }}', { input_number: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'SLOW_EMA_PERIOD',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange: Blockly.Blocks.input_list.onchange,\n    allowed_parents: ['macda_statement'],\n    getRequiredValueInputs() {\n        return {\n            SLOW_EMA_PERIOD: null,\n        };\n    },\n};\n\nBlockly.JavaScript.slow_ema_period = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.signal_ema_period = {\n    init() {\n        this.jsonInit({\n            message0: localize('Signal EMA Period {{ input_number }}', { input_number: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'SIGNAL_EMA_PERIOD',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange: Blockly.Blocks.input_list.onchange,\n    allowed_parents: ['macda_statement'],\n    getRequiredValueInputs() {\n        return {\n            SIGNAL_EMA_PERIOD: null,\n        };\n    },\n};\n\nBlockly.JavaScript.signal_ema_period = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.tick = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Last Tick'),\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the value of the last tick'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Last tick'),\n            description: localize('This block gives you the value of the last tick.'),\n        };\n    },\n};\n\nBlockly.Blocks.tick_string = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Last Tick String'),\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the value of the latest tick in string format'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Tick value'),\n            description: localize('Tick value Description'),\n        };\n    },\n    onchange: Blockly.Blocks.tick.onchange,\n};\n\nBlockly.JavaScript.tick = block => {\n    const parent = block.getParent();\n    const type_list = ['notify', 'text_print'];\n    return [`Bot.getLastTick(false, ${type_list.includes(parent?.type)})`, Blockly.JavaScript.ORDER_ATOMIC];\n};\nBlockly.JavaScript.tick_string = () => ['Bot.getLastTick(false, true)', Blockly.JavaScript.ORDER_ATOMIC];\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.ticks = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Ticks list'),\n            output: 'Array',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you a list of the last 1000 tick values.'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Tick list'),\n            description: localize('This block gives you a list of the last 1000 tick values.'),\n        };\n    },\n};\n\nBlockly.Blocks.ticks_string = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Ticks String List'),\n            output: 'Array',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the list of tick values in string format'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Tick List String'),\n            description: localize('Tick List String Description'),\n        };\n    },\n    onchange: Blockly.Blocks.ticks.onchange,\n};\n\nBlockly.JavaScript.ticks = block => {\n    const parent = block.getParent();\n    const type_list = ['notify', 'text_print'];\n    return [`Bot.getTicks(${type_list.includes(parent?.type)})`, Blockly.JavaScript.ORDER_ATOMIC];\n};\nBlockly.JavaScript.ticks_string = () => ['Bot.getTicks(true)', Blockly.JavaScript.ORDER_ATOMIC];\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.ohlc = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Candles List'),\n            message1: localize('with interval: {{ candle_interval_type }}', { candle_interval_type: '%1' }),\n            args1: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CANDLEINTERVAL_LIST',\n                    options: config.candleIntervals,\n                },\n            ],\n            output: 'Array',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you a list of candles within a selected time interval.'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Get candle list'),\n            description: localize('This block gives you a list of candles within a selected time interval.'),\n        };\n    },\n};\n\nBlockly.JavaScript.ohlc = block => {\n    const selectedGranularity = block.getFieldValue('CANDLEINTERVAL_LIST');\n    const granularity = selectedGranularity === 'default' ? 'undefined' : selectedGranularity;\n\n    const code = `Bot.getOhlc({ granularity: ${granularity} })`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.ohlc_values = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize(\n                'Make a List of {{ candle_property }} values in candles list with interval: {{ candle_interval_type }}',\n                {\n                    candle_property: '%1',\n                    candle_interval_type: '%2',\n                }\n            ),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OHLCFIELD_LIST',\n                    options: config.ohlcFields,\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'CANDLEINTERVAL_LIST',\n                    options: config.candleIntervals,\n                },\n            ],\n            output: 'Array',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize(\n                'Returns a list of specific values from a candle list according to selected time interval'\n            ),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Create a list of candle values (1)'),\n            description: localize(\n                'This block gives you the selected candle value from a list of candles within the selected time interval.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.ohlc_values = block => {\n    const selectedGranularity = block.getFieldValue('CANDLEINTERVAL_LIST');\n    const granularity = selectedGranularity === 'default' ? 'undefined' : selectedGranularity;\n    const ohlcField = block.getFieldValue('OHLCFIELD_LIST');\n\n    const code = `Bot.getOhlc({ field: '${ohlcField}', granularity: ${granularity} })`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.read_ohlc = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('In candles list read {{ candle_property }} # from end {{ input_number }}', {\n                candle_property: '%1',\n                input_number: '%2',\n            }),\n            message1: localize('with interval: %1'),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OHLCFIELD_LIST',\n                    options: config.ohlcFields,\n                },\n                {\n                    type: 'input_value',\n                    name: 'CANDLEINDEX',\n                    check: 'Number',\n                },\n            ],\n            args1: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CANDLEINTERVAL_LIST',\n                    options: config.candleIntervals,\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Read the selected candle value'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Read candle value (1)'),\n            description: localize('This block gives you the specified candle value for a selected time interval.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            CANDLEINDEX: null,\n        };\n    },\n};\n\nBlockly.JavaScript.read_ohlc = block => {\n    const selectedGranularity = block.getFieldValue('CANDLEINTERVAL_LIST');\n    const granularity = selectedGranularity === 'default' ? 'undefined' : selectedGranularity;\n    const ohlcField = block.getFieldValue('OHLCFIELD_LIST');\n    const index = Blockly.JavaScript.valueToCode(block, 'CANDLEINDEX', Blockly.JavaScript.ORDER_ATOMIC) || '1';\n\n    const code = `Bot.getOhlcFromEnd({ field: '${ohlcField}', index: ${index}, granularity: ${granularity} })`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.get_ohlc = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('in candle list get # from end {{ input_number }}', { input_number: '%1' }),\n            message1: localize('with interval: {{ candle_interval_type }}', { candle_interval_type: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'CANDLEINDEX',\n                    check: 'Number',\n                },\n            ],\n            args1: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CANDLEINTERVAL_LIST',\n                    options: config.candleIntervals,\n                },\n            ],\n            output: 'Candle',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you a specific candle from within the selected time interval.'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Get candle'),\n            description: localize('This block gives you a specific candle from within the selected time interval.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            CANDLEINDEX: null,\n        };\n    },\n};\n\nBlockly.JavaScript.get_ohlc = block => {\n    const selectedGranularity = block.getFieldValue('CANDLEINTERVAL_LIST');\n    const granularity = selectedGranularity === 'default' ? 'undefined' : selectedGranularity;\n    const index = Blockly.JavaScript.valueToCode(block, 'CANDLEINDEX', Blockly.JavaScript.ORDER_ATOMIC) || '1';\n\n    const code = `Bot.getOhlcFromEnd({ index: ${index}, granularity: ${granularity} })`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.check_direction = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Direction is {{ direction_type }}', { direction_type: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CHECK_DIRECTION',\n                    options: config.lists.CHECK_DIRECTION,\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('True if the market direction matches the selection'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Market direction'),\n            description: localize(\n                'This block is used to determine if the market price moves in the selected direction or not. It gives you a value of True or False.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.check_direction = block => {\n    const checkWith = block.getFieldValue('CHECK_DIRECTION');\n\n    const code = `Bot.checkDirection('${checkWith}')`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.tick_analysis = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            args0: [\n                {\n                    type: 'field_label',\n                    text: localize('The content of this block is called on every tick'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n                {\n                    type: 'input_statement',\n                    name: 'TICKANALYSIS_STACK',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.RootBlock.colour,\n            colourSecondary: Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('You can use this block to analyze the ticks, regardless of your trades'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Run on every tick'),\n            description: localize(\n                'The content of this block is called on every tick. Place this block outside of any root block.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.tick_analysis = block => {\n    const stack = Blockly.JavaScript.statementToCode(block, 'TICKANALYSIS_STACK') || '';\n    const code = `\n    BinaryBotPrivateTickAnalysisList.push(function BinaryBotPrivateTickAnalysis() {\n        ${stack}\n    });\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.last_digit = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Last Digit'),\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the last digit of the latest tick'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Last Digit'),\n            description: localize('This block gives you the last digit of the latest tick value.'),\n        };\n    },\n};\n\nBlockly.JavaScript.last_digit = () => ['Bot.getLastDigit()', Blockly.JavaScript.ORDER_ATOMIC];\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lastDigitList = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Last digits list'),\n            output: 'Array',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the list of last digits of 1000 recent tick values'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Last Digits List'),\n            description: localize('This block gives you a list of the last digits of the last 1000 tick values.'),\n        };\n    },\n};\n\nBlockly.JavaScript.lastDigitList = () => ['Bot.getLastDigitList()', Blockly.JavaScript.ORDER_ATOMIC];\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.is_candle_black = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Is candle {{ input_candle }} black?', { input_candle: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'OHLCOBJ',\n                    check: 'Candle',\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns \"True\" if the given candle is black'),\n            category: Blockly.Categories.Candle,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Is candle black?'),\n            description: localize(\n                'This block returns True if the last candle is black. It can be placed anywhere on the canvas except within the Trade parameters root block.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            OHLCOBJ: null,\n        };\n    },\n};\n\nBlockly.JavaScript.is_candle_black = block => {\n    const ohlcObj = Blockly.JavaScript.valueToCode(block, 'OHLCOBJ', Blockly.JavaScript.ORDER_ATOMIC) || '{}';\n\n    const code = `Bot.isCandleBlack(${ohlcObj})`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../../constants/config';\n\nBlockly.Blocks.ohlc_values_in_list = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Make a list of {{ candle_property }} values from candles list {{ candle_list }}', {\n                candle_property: '%1',\n                candle_list: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OHLCFIELD_LIST',\n                    options: config.ohlcFields,\n                },\n                {\n                    type: 'input_value',\n                    name: 'OHLCLIST',\n                },\n            ],\n            output: 'Array',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns a list of specific values from a given candle list'),\n            category: Blockly.Categories.Candle,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Create a list of candle values (2)'),\n            description: localize('This block gives you the selected candle value from a list of candles.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            OHLCLIST: null,\n        };\n    },\n};\n\nBlockly.JavaScript.ohlc_values_in_list = block => {\n    const ohlcField = block.getFieldValue('OHLCFIELD_LIST') || 'open';\n    const ohlcList = Blockly.JavaScript.valueToCode(block, 'OHLCLIST', Blockly.JavaScript.ORDER_ATOMIC) || '[]';\n\n    const code = `Bot.candleValues(${ohlcList}, '${ohlcField}')`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../../constants/config';\n\nBlockly.Blocks.read_ohlc_obj = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Read {{ candle_property }} value in candle {{ input_candle }}', {\n                candle_property: '%1',\n                input_candle: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OHLCFIELD_LIST',\n                    options: config.ohlcFields,\n                },\n                {\n                    type: 'input_value',\n                    name: 'OHLCOBJ',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you the selected candle value.'),\n            category: Blockly.Categories.Candle,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Read candle value (2)'),\n            description: localize('This block gives you the selected candle value.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            OHLCOBJ: null,\n        };\n    },\n};\n\nBlockly.JavaScript.read_ohlc_obj = block => {\n    const ohlcField = block.getFieldValue('OHLCFIELD_LIST');\n    const ohlcObj = Blockly.JavaScript.valueToCode(block, 'OHLCOBJ', Blockly.JavaScript.ORDER_ATOMIC) || '{}';\n\n    const code = `Bot.candleField(${ohlcObj}, '${ohlcField}')`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../../constants/config';\n\nBlockly.Blocks.balance = {\n    init() {\n        this.jsonInit(this.definition());\n        const balanceTypeField = this.getField('BALANCE_TYPE');\n        balanceTypeField.setValidator(value => {\n            if (value === 'STR') {\n                this.setOutput(true, 'String');\n            } else if (value === 'NUM') {\n                this.setOutput(true, 'Number');\n            }\n            this.initSvg();\n            this.render(false);\n            return undefined;\n        });\n    },\n    definition() {\n        return {\n            message0: localize('Balance: %1'),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'BALANCE_TYPE',\n                    options: config.lists.BALANCE_TYPE,\n                },\n            ],\n            output: null,\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block returns account balance'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Account balance'),\n            description: localize(\n                'This block gives you the balance of your account either as a number or a string of text.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.balance = block => {\n    const balanceType = block.getFieldValue('BALANCE_TYPE');\n\n    const code = `Bot.getBalance('${balanceType}')`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../../constants/config';\n\n// This block is a remnant of a very old Binary Bot version.\n// needs to be here for backward compatibility.\nBlockly.Blocks.barrier_offset = {\n    init() {\n        this.jsonInit({\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'BARRIEROFFSET_IN',\n                    options: config.BARRIER_TYPES,\n                },\n            ],\n            output: null,\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Adds a sign to a number to create a barrier offset. (deprecated)'),\n            category: Blockly.Categories.Miscellaneous,\n        });\n    },\n};\n\nBlockly.JavaScript.barrier_offset = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.block_holder = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            args0: [\n                {\n                    type: 'field_label',\n                    text: 'Ignore',\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n                {\n                    type: 'input_statement',\n                    name: 'USELESS_STACK',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.RootBlock.colour,\n            colourSecondary: Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('Put your blocks in here to prevent them from being removed'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Ignore'),\n            description: localize(\n                'Use this block if you want some instructions to be ignored when your bot runs. Instructions within this block wont be executed.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.block_holder = () => '';\n","import { localize } from '@deriv/translations';\nimport { loadBlocksFromRemote, runIrreversibleEvents } from '../../../../utils';\nimport { observer as globalObserver } from '../../../../../utils/observer';\nimport { log_types } from '../../../../../constants/messages';\n\nBlockly.Blocks.loader = {\n    init() {\n        this.blocks_added_by_me = [];\n        this.current_url = '';\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Load block from URL: {{ input_url }}', { input_url: '%1' }),\n            args0: [\n                {\n                    type: 'field_input',\n                    name: 'URL',\n                    text: 'http://www.example.com/block.xml',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Loads blocks from URL'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Loads from URL'),\n            description: localize(\n                'This block allows you to load blocks from a URL if you have them stored on a remote server, and they will be loaded only when your bot runs.'\n            ),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout) {\n            return;\n        }\n\n        if (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            this.current_url = this.getFieldValue('URL');\n            const loader_blocks = this.workspace.getAllBlocks().filter(block => block.type === 'loader');\n\n            loader_blocks.forEach(loader_block => {\n                if (loader_block.id !== this.id && loader_block.current_url === this.current_url) {\n                    this.setDisabled(true);\n                }\n            });\n\n            if (!this.disabled) {\n                this.loadBlocksFromCurrentUrl();\n            }\n        } else if (event.type === Blockly.Events.BLOCK_CHANGE && event.blockId === this.id) {\n            if (event.newValue && event.oldValue !== event.newValue) {\n                if (event.newValue === this.current_url) {\n                    this.setDisabled(false);\n                } else if (this.isValidUrl(event.newValue) && !this.isKnownUrl(event.newValue)) {\n                    this.setDisabled(false);\n                    this.loadBlocksFromCurrentUrl();\n                } else {\n                    this.setDisabled(true);\n                }\n            }\n        }\n    },\n    loadBlocksFromCurrentUrl() {\n        this.current_url = this.getFieldValue('URL');\n\n        runIrreversibleEvents(() => {\n            // Remove blocks previously loaded by this block.\n            this.blocks_added_by_me.forEach(block => block.dispose());\n        });\n\n        loadBlocksFromRemote(this)\n            .then(() => {\n                globalObserver.emit('ui.log.success', { log_type: log_types.LOAD_BLOCK });\n            })\n            .catch(error_msg => {\n                globalObserver.emit('ui.log.error', error_msg);\n                this.setDisabled(true);\n            });\n    },\n    isKnownUrl(url) {\n        const loader_blocks = this.workspace.getAllBlocks().filter(block => block.type === 'loader');\n        return loader_blocks.some(block => block.id !== this.id && block.current_url === url);\n    },\n    isValidUrl(url) {\n        const url_pattern = /[^/]*\\.[a-zA-Z]{3}$/;\n        return String(url).match(url_pattern);\n    },\n};\n\nBlockly.JavaScript.loader = () => {};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../../../utils';\nimport { config } from '../../../../../constants/config';\n\nBlockly.Blocks.notify = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize(\n                'Notify {{ notification_type }} with sound: {{ notification_sound }} {{ input_message }}',\n                {\n                    notification_type: '%1',\n                    notification_sound: '%2',\n                    input_message: '%3',\n                }\n            ),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'NOTIFICATION_TYPE',\n                    options: config.lists.NOTIFICATION_TYPE,\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'NOTIFICATION_SOUND',\n                    options: config.lists.NOTIFICATION_SOUND,\n                },\n                {\n                    type: 'input_value',\n                    name: 'MESSAGE',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Special3.colour,\n            colourSecondary: Blockly.Colours.Special3.colourSecondary,\n            colourTertiary: Blockly.Colours.Special3.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Displays a notification and optionally play selected sound'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Notify'),\n            description: localize(\n                'This block displays a message. You can specify the color of the message and choose from 6 different sound options.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            MESSAGE: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.notify = block => {\n    const notificationType = block.getFieldValue('NOTIFICATION_TYPE');\n    const sound = block.getFieldValue('NOTIFICATION_SOUND');\n    const message_block = block.getInputTargetBlock('MESSAGE');\n    let variable_name = null;\n\n    if (message_block.type === 'variables_get') {\n        const variable_id = message_block.getFieldValue('VAR');\n        variable_name = Blockly.derivWorkspace.getVariableById(variable_id).name;\n    }\n\n    const message =\n        Blockly.JavaScript.valueToCode(block, 'MESSAGE', Blockly.JavaScript.ORDER_ATOMIC) ||\n        `\"${localize('<empty message>')}\"`;\n\n    const code = `Bot.notify({ className: 'journal__text--${notificationType}', message: ${message}, sound: '${sound}', block_id: '${block.id}', variable_name: '${variable_name}' });\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../../../utils';\n\nBlockly.Blocks.notify_telegram = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize(\n                'Notify Telegram {{ dummy }} Access Token: {{ input_access_token }} Chat ID: {{ input_chat_id }} Message: {{ input_message }}',\n                {\n                    dummy: '%1',\n                    input_access_token: '%2',\n                    input_chat_id: '%3',\n                    input_message: '%4',\n                }\n            ),\n            args0: [\n                {\n                    type: 'input_dummy',\n                },\n                {\n                    type: 'input_value',\n                    name: 'TELEGRAM_ACCESS_TOKEN',\n                },\n                {\n                    type: 'input_value',\n                    name: 'TELEGRAM_CHAT_ID',\n                },\n                {\n                    type: 'input_value',\n                    name: 'TELEGRAM_MESSAGE',\n                },\n            ],\n            colour: Blockly.Colours.Special3.colour,\n            colourSecondary: Blockly.Colours.Special3.colourSecondary,\n            colourTertiary: Blockly.Colours.Special3.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Sends a message to Telegram'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Notify Telegram'),\n            description: localize('This block sends a message to a Telegram channel.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TELEGRAM_ACCESS_TOKEN: emptyTextValidator,\n            TELEGRAM_CHAT_ID: emptyTextValidator,\n            TELEGRAM_MESSAGE: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.notify_telegram = block => {\n    const access_token =\n        Blockly.JavaScript.valueToCode(block, 'TELEGRAM_ACCESS_TOKEN', Blockly.JavaScript.ORDER_ATOMIC) || '';\n    const chat_id = Blockly.JavaScript.valueToCode(block, 'TELEGRAM_CHAT_ID', Blockly.JavaScript.ORDER_ATOMIC) || '';\n    const message = Blockly.JavaScript.valueToCode(block, 'TELEGRAM_MESSAGE', Blockly.JavaScript.ORDER_ATOMIC) || '';\n\n    if (!access_token || !chat_id || !message) {\n        return '';\n    }\n\n    const code = `Bot.notifyTelegram(${access_token}, ${chat_id}, ${message});\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.total_profit = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Total profit/loss'),\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the total profit/loss'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Total profit/loss'),\n            description: localize(\n                'This block gives you the total profit/loss of your trading strategy since your bot started running. You can reset this by clicking Clear stats on the Transaction Stats window, or by refreshing this page in your browser.'\n            ),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        if (\n            event.type === Blockly.Events.END_DRAG ||\n            (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id))\n        ) {\n            const input_statement = this.getRootInputTargetBlock();\n\n            if (input_statement === 'INITIALIZATION') {\n                this.unplug(true);\n            }\n        }\n    },\n};\n\nBlockly.Blocks.total_profit_string = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Total Profit String'),\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the total profit in string format'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Total Profit String'),\n            description: localize('Total Profit String Description'),\n        };\n    },\n    onchange: Blockly.Blocks.total_profit.onchange,\n};\n\nBlockly.JavaScript.total_profit = () => ['Bot.getTotalProfit(false)', Blockly.JavaScript.ORDER_ATOMIC];\nBlockly.JavaScript.total_profit_string = () => ['Bot.getTotalProfit(true)', Blockly.JavaScript.ORDER_ATOMIC];\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.total_runs = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Number of runs'),\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the number of runs'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Number of runs'),\n            description: localize(\n                'This block gives you the total number of times your bot has run. You can reset this by clicking Clear stats on the Transaction Stats window, or by refreshing this page in your browser.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.total_profit.onchange,\n};\n\nBlockly.JavaScript.total_runs = () => ['Bot.getTotalRuns()', Blockly.JavaScript.ORDER_ATOMIC];\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.useless_block = {\n    init() {\n        this.jsonInit({\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_label',\n                    text: localize('Conversion Helper Block'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n            ],\n            colour: Blockly.Colours.RootBlock.colour,\n            colourSecondary: Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('This block was required to correctly convert your old strategy.'),\n            category: Blockly.Categories.Miscellaneous,\n            nextStatement: null,\n            previousStatement: null,\n        });\n    },\n};\n\nBlockly.JavaScript.useless_block = () => {};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../../../utils';\n\nBlockly.Blocks.console = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Console {{ message_type }} value: {{ input_message }}', {\n                message_type: '%1',\n                input_message: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CONSOLE_TYPE',\n                    options: [\n                        [localize('Log'), 'log'],\n                        [localize('Warn'), 'warn'],\n                        [localize('Error'), 'error'],\n                        [localize('Table'), 'table'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'MESSAGE',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Special3.colour,\n            colourSecondary: Blockly.Colours.Special3.colourSecondary,\n            colourTertiary: Blockly.Colours.Special3.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Display messages in the developers console.'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Console'),\n            description: localize(\n                \"This block displays messages in the developer's console with an input that can be either a string of text, a number, boolean, or an array of data.\"\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            MESSAGE: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.console = block => {\n    const console_type = block.getFieldValue('CONSOLE_TYPE') || 'log';\n    const message =\n        Blockly.JavaScript.valueToCode(block, 'MESSAGE', Blockly.JavaScript.ORDER_ATOMIC) ||\n        `\"${localize('<empty message>')}\"`;\n\n    const code = `Bot.console({ type: '${console_type}', message: ${message}});\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.epoch = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Seconds Since Epoch'),\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the number of seconds since January 1st, 1970'),\n            category: Blockly.Categories.Time,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Second Since Epoch'),\n            description: localize('This block returns the number of seconds since January 1st, 1970.'),\n        };\n    },\n};\n\nBlockly.JavaScript.epoch = () => ['Bot.getTime()', Blockly.JavaScript.ORDER_ATOMIC];\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.timeout = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('{{ dummy }} {{ stack_input }} Run after {{ number }} second(s)', {\n                dummy: '%1',\n                stack_input: '%2',\n                number: '%3',\n            }),\n            args0: [\n                {\n                    type: 'input_dummy',\n                },\n                {\n                    type: 'input_statement',\n                    name: 'TIMEOUTSTACK',\n                },\n                {\n                    type: 'input_value',\n                    name: 'SECONDS',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Run the blocks inside after a given number of seconds'),\n            category: Blockly.Categories.Time,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Delayed run'),\n            description: localize(\n                'This block delays execution for a given number of seconds. You can place any blocks within this block. The execution of other blocks in your strategy will be paused until the instructions in this block are carried out.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            SECONDS: null,\n        };\n    },\n};\n\nBlockly.JavaScript.timeout = block => {\n    const stack = Blockly.JavaScript.statementToCode(block, 'TIMEOUTSTACK');\n    const seconds = Blockly.JavaScript.valueToCode(block, 'SECONDS', Blockly.JavaScript.ORDER_ATOMIC) || '1';\n\n    const code = `sleep(${seconds});\\n${stack}\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.todatetime = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('To date/time {{ input_timestamp }} {{ dummy }}', {\n                input_timestamp: '%1',\n                dummy: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'TIMESTAMP',\n                    check: 'Number',\n                },\n                {\n                    // Extra dummy for spacing.\n                    type: 'input_dummy',\n                },\n            ],\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize(\n                'This block converts the number of seconds since the Unix Epoch (1 January 1970) into a string of text representing the date and time.'\n            ),\n            category: Blockly.Categories.Time,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Convert to date/time'),\n            description: localize(\n                'This block converts the number of seconds since the Unix Epoch (1 January 1970) into a string of text representing the date and time.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TIMESTAMP: null,\n        };\n    },\n};\n\nBlockly.JavaScript.todatetime = block => {\n    const timestamp = Blockly.JavaScript.valueToCode(block, 'TIMESTAMP', Blockly.JavaScript.ORDER_ATOMIC);\n    const invalid_timestamp = `${localize('Invalid timestamp')}:`;\n\n    // eslint-disable-next-line no-underscore-dangle\n    const function_name = Blockly.JavaScript.provideFunction_('timestampToDateString', [\n        // eslint-disable-next-line no-underscore-dangle\n        `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(timestamp) {\n            var datetime = new Date(timestamp * 1000);\n\n            if (!datetime.getTime()) {\n                return \"${invalid_timestamp} \" + timestamp;\n            }\n\n            var getTwoDigitValue = function(input) {\n                return input < 10 ? '0' + input : input;\n            }\n\n            var year    = datetime.getFullYear();\n            var month   = getTwoDigitValue(datetime.getMonth() + 1);\n            var day     = getTwoDigitValue(datetime.getDate());\n            var hours   = getTwoDigitValue(datetime.getHours());\n            var minutes = getTwoDigitValue(datetime.getMinutes());\n            var seconds = getTwoDigitValue(datetime.getSeconds());\n\n            var formatGmtOffset = function() {\n                var gmt_offset_raw = datetime.getTimezoneOffset();\n                var sign           = gmt_offset_raw > 0 ? '-' : '+';\n                var gmt_offset     = Math.abs(gmt_offset_raw);\n                var hour           = Math.floor(gmt_offset / 60);\n                var minute         = gmt_offset - hour * 60;\n\n                return 'GMT' + sign + getTwoDigitValue(hour) + getTwoDigitValue(minute);\n            }\n\n            var date_string = year + '-' + month + '-' + day;\n            var time_string = hours + ':' + minutes + ':' + seconds;\n\n            return date_string + ' ' + time_string + ' ' + formatGmtOffset();\n        }`,\n    ]);\n\n    const code = `${function_name}(${timestamp})`;\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../../../utils';\n\nBlockly.Blocks.totimestamp = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('To timestamp {{ input_datetime }} {{ dummy }}', { input_datetime: '%1', dummy: '%2' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'DATETIME',\n                },\n                {\n                    // Extra dummy for spacing.\n                    type: 'input_dummy',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize(\n                'Converts a string representing a date/time string into seconds since Epoch. Example: 2019-01-01 21:03:45 GMT+0800 will be converted to 1546347825. Time and time zone offset are optional.'\n            ),\n            category: Blockly.Categories.Time,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Convert to timestamp'),\n            description: localize(\n                'This block converts a string of text that represents the date and time into seconds since the Unix Epoch (1 January 1970). The time and time zone offset are optional. Example: 2019-01-01 21:03:45 GMT+0800 will be converted to 1546347825.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            DATETIME: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.totimestamp = block => {\n    const datetime_string = Blockly.JavaScript.valueToCode(block, 'DATETIME', Blockly.JavaScript.ORDER_ATOMIC);\n    const code = `Bot.dateTimeStringToTimestamp(${datetime_string})`;\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\nimport { defineContract } from '../../images';\nimport DBotStore from '../../../dbot-store';\nimport { runIrreversibleEvents } from '../../../utils';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.trade_definition = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            message1: '%1',\n            message2: '%1 %2 %3',\n            message3: '%1',\n            message4: '%1 %2 %3',\n            message5: '%1',\n            args0: [\n                {\n                    type: 'field_image',\n                    src: defineContract,\n                    width: 25,\n                    height: 25,\n                    alt: 'T',\n                },\n                {\n                    type: 'field_label',\n                    text: localize('1. Trade parameters'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'TRADE_OPTIONS',\n                },\n            ],\n            args2: [\n                {\n                    type: 'field_image',\n                    src: '', // this is here to add extra padding\n                    width: 4,\n                    height: 25,\n                },\n                {\n                    type: 'field_label',\n                    text: localize('Run once at start:'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args3: [\n                {\n                    type: 'input_statement',\n                    name: 'INITIALIZATION',\n                    check: null,\n                },\n            ],\n            args4: [\n                {\n                    type: 'field_image',\n                    src: '', // this is here to add extra padding\n                    width: 4,\n                    height: 25,\n                },\n                {\n                    type: 'field_label',\n                    text: localize('Trade options:'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args5: [\n                {\n                    type: 'input_statement',\n                    name: 'SUBMARKET',\n                },\n            ],\n            colour: Blockly.Colours.RootBlock.colour,\n            colourSecondary: Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('Here is where you define the parameters of your contract.'),\n            category: Blockly.Categories.Trade_Definition,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Trade parameters'),\n            description: localize('Here is where you define the parameters of your contract.'),\n            key_words: localize('market, trade type, contract type'),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.workspace.isDragging() || this.isInFlyout) {\n            return;\n        }\n\n        if (event.type === Blockly.Events.BLOCK_CHANGE || event.type === Blockly.Events.END_DRAG) {\n            // Enforce only trade_definition_<type> blocks in TRADE_OPTIONS statement.\n            const blocks_in_trade_options = this.getBlocksInStatement('TRADE_OPTIONS');\n\n            if (blocks_in_trade_options.length > 0) {\n                blocks_in_trade_options.forEach(block => {\n                    if (!/^trade_definition_.+$/.test(block.type)) {\n                        runIrreversibleEvents(() => {\n                            block.unplug(true);\n                        });\n                    }\n                });\n            } else {\n                runIrreversibleEvents(() => {\n                    this.dispose();\n                });\n            }\n        }\n    },\n};\n\nBlockly.JavaScript.trade_definition = block => {\n    const { client } = DBotStore.instance;\n\n    if (!client || !client.is_logged_in) {\n        throw new Error('Please login');\n    }\n\n    const { loginid } = client;\n    const account = client.getToken(loginid);\n    const market_block = block.getChildByType('trade_definition_market');\n    const trade_type_block = block.getChildByType('trade_definition_tradetype');\n    const contract_type_block = block.getChildByType('trade_definition_contracttype');\n    const candle_interval_block = block.getChildByType('trade_definition_candleinterval');\n    const restart_on_error_block = block.getChildByType('trade_definition_restartonerror');\n    const restart_on_buy_sell_block = block.getChildByType('trade_definition_restartbuysell');\n\n    const symbol = market_block.getFieldValue('SYMBOL_LIST');\n    const trade_type = trade_type_block.getFieldValue('TRADETYPE_LIST');\n    const contract_type = contract_type_block.getFieldValue('TYPE_LIST');\n    const candle_interval = candle_interval_block.getFieldValue('CANDLEINTERVAL_LIST');\n    const should_restart_on_error = restart_on_error_block.getFieldValue('RESTARTONERROR') !== 'FALSE';\n    const should_restart_on_buy_sell = restart_on_buy_sell_block.getFieldValue('TIME_MACHINE_ENABLED') !== 'FALSE';\n\n    const { opposites } = config;\n    const contract_type_list =\n        contract_type === 'both'\n            ? opposites[trade_type.toUpperCase()].map(opposite => Object.keys(opposite)[0])\n            : [contract_type];\n\n    const initialization = Blockly.JavaScript.statementToCode(block, 'INITIALIZATION');\n    const trade_options_statement = Blockly.JavaScript.statementToCode(block, 'SUBMARKET');\n\n    const code = `  \n    BinaryBotPrivateInit = function BinaryBotPrivateInit() {\n        Bot.init('${account}', {\n          symbol              : '${symbol}',\n          contractTypes       : ${JSON.stringify(contract_type_list)},\n          candleInterval      : '${candle_interval || 'FALSE'}',\n          shouldRestartOnError: ${should_restart_on_error},\n          timeMachineEnabled  : ${should_restart_on_buy_sell},\n        });\n        ${initialization.trim()}\n    };\n      BinaryBotPrivateStart = function BinaryBotPrivateStart() {\n        BinaryBotPrivateHasCalledTradeOptions = false;\n        Bot.highlightBlock('${block.id}');\n        ${trade_options_statement.trim()}\n      };\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { runIrreversibleEvents } from '../../../utils';\nimport ApiHelpers from '../../../../services/api/api-helpers';\n\n/* eslint-disable */\nBlockly.Blocks.trade_definition_market = {\n    init() {\n        this.jsonInit({\n            message0: localize('Market: {{ input_market }} > {{ input_submarket }} > {{ input_symbol }}', {\n                input_market: '%1',\n                input_submarket: '%2',\n                input_symbol: '%3',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'MARKET_LIST',\n                    options: [['', '']],\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'SUBMARKET_LIST',\n                    options: [['', '']],\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'SYMBOL_LIST',\n                    options: [['', '']],\n                },\n            ],\n            colour: Blockly.Colours.Special1.colour,\n            colourSecondary: Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange(event) {\n        const allowed_events = ['BLOCK_CREATE', 'BLOCK_CHANGE', 'END_DRAG'];\n        const is_allowed_event =\n            allowed_events.findIndex(event_name => event.type === Blockly.Events[event_name]) !== -1;\n\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging() || !is_allowed_event) {\n            return;\n        }\n\n        this.enforceLimitations();\n\n        const { active_symbols } = ApiHelpers.instance;\n        const market_dropdown = this.getField('MARKET_LIST');\n        const submarket_dropdown = this.getField('SUBMARKET_LIST');\n        const symbol_dropdown = this.getField('SYMBOL_LIST');\n        const market = market_dropdown.getValue();\n        const submarket = submarket_dropdown.getValue();\n        const symbol = symbol_dropdown.getValue();\n\n        // Temporary solution to remove Crytocurrencies from\n        // market options until multipliers are available for DBot\n        const market_options = active_symbols\n            .getMarketDropdownOptions()\n            .filter(option => option[1] !== 'cryptocurrency');\n\n        const populateMarketDropdown = () => {\n            market_dropdown.updateOptions(market_options, {\n                default_value: market,\n                should_pretend_empty: true,\n                event_group: event.group,\n            });\n        };\n\n        if (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            populateMarketDropdown();\n        } else if (event.type === Blockly.Events.BLOCK_CHANGE && event.blockId === this.id) {\n            if (event.name === 'MARKET_LIST') {\n                submarket_dropdown.updateOptions(active_symbols.getSubmarketDropdownOptions(market), {\n                    default_value: submarket,\n                    should_pretend_empty: true,\n                    event_group: event.group,\n                });\n            } else if (event.name === 'SUBMARKET_LIST') {\n                symbol_dropdown.updateOptions(active_symbols.getSymbolDropdownOptions(submarket), {\n                    default_value: symbol,\n                    should_pretend_empty: true,\n                    event_group: event.group,\n                });\n            }\n        } else if (event.type === Blockly.Events.END_DRAG && event.blockId === this.getRootBlock().id) {\n            if (market_dropdown.isEmpty() || submarket_dropdown.isEmpty() || symbol_dropdown.isEmpty()) {\n                populateMarketDropdown();\n            }\n        }\n    },\n    enforceLimitations() {\n        runIrreversibleEvents(() => {\n            if (!this.isDescendantOf('trade_definition')) {\n                this.unplug(false); // Unplug without reconnecting siblings\n\n                const top_blocks = this.workspace.getTopBlocks();\n                const trade_definition_block = top_blocks.find(block => block.type === 'trade_definition');\n\n                // Reconnect self to trade definition block.\n                if (trade_definition_block) {\n                    const connection = trade_definition_block.getLastConnectionInStatement('TRADE_OPTIONS');\n                    connection.connect(this.previousConnection);\n                } else {\n                    this.dispose();\n                }\n            }\n            // These blocks cannot be disabled.\n            else if (this.disabled) {\n                this.setDisabled(false);\n            }\n        });\n    },\n};\n\nBlockly.JavaScript.trade_definition_market = () => {};\n","import { localize } from '@deriv/translations';\nimport ApiHelpers from '../../../../services/api/api-helpers';\n\nBlockly.Blocks.trade_definition_tradetype = {\n    init() {\n        this.jsonInit({\n            message0: localize('Trade Type: {{ trade_type_category }} > {{ trade_type }}', {\n                trade_type_category: '%1',\n                trade_type: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'TRADETYPECAT_LIST',\n                    options: [['', '']],\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'TRADETYPE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            colour: Blockly.Colours.Special1.colour,\n            colourSecondary: Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        this.enforceLimitations();\n\n        if (event.type === Blockly.Events.BLOCK_CHANGE) {\n            if (event.name === 'SYMBOL_LIST' || event.name === 'TRADETYPECAT_LIST') {\n                const { contracts_for } = ApiHelpers.instance;\n                const top_parent_block = this.getTopParent();\n                const market_block = top_parent_block.getChildByType('trade_definition_market');\n                const market = market_block.getFieldValue('MARKET_LIST');\n                const submarket = market_block.getFieldValue('SUBMARKET_LIST');\n                const symbol = market_block.getFieldValue('SYMBOL_LIST');\n                const trade_type_cat = this.getFieldValue('TRADETYPECAT_LIST');\n                const trade_type = this.getFieldValue('TRADETYPE_LIST');\n\n                if (event.name === 'SYMBOL_LIST') {\n                    contracts_for.getTradeTypeCategories(market, submarket, symbol).then(categories => {\n                        const trade_type_cat_field = this.getField('TRADETYPECAT_LIST');\n\n                        if (trade_type_cat_field) {\n                            trade_type_cat_field.updateOptions(categories, {\n                                default_value: trade_type_cat,\n                                should_pretend_empty: true,\n                                event_group: event.group,\n                            });\n                        }\n                    });\n                } else if (event.name === 'TRADETYPECAT_LIST' && event.blockId === this.id) {\n                    contracts_for.getTradeTypes(market, submarket, symbol, trade_type_cat).then(trade_types => {\n                        const trade_type_field = this.getField('TRADETYPE_LIST');\n\n                        trade_type_field.updateOptions(trade_types, {\n                            default_value: trade_type,\n                            should_pretend_empty: true,\n                            event_group: event.group,\n                        });\n                    });\n                }\n            }\n        }\n    },\n    enforceLimitations: Blockly.Blocks.trade_definition_market.enforceLimitations,\n};\n\nBlockly.JavaScript.trade_definition_tradetype = () => {};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\nimport { getContractTypeOptions } from '../../../shared';\n\nBlockly.Blocks.trade_definition_contracttype = {\n    init() {\n        this.jsonInit({\n            message0: localize('Contract Type: {{ contract_type }}', { contract_type: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'TYPE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            colour: Blockly.Colours.Special1.colour,\n            colourSecondary: Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: Blockly.Colours.Special1.colourTertiary,\n            tooltip: localize(\n                'If the contract type is Both, then the Purchase Conditions should include both Rise and Fall using the Conditional Block\"'\n            ),\n            previousStatement: null,\n            nextStatement: null,\n        });\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        this.enforceLimitations();\n\n        const is_load_event = /^dbot-load/.test(event.group);\n\n        if (Blockly.Events.BLOCK_CHANGE) {\n            if (event.name === 'TRADETYPE_LIST') {\n                const trade_type = event.newValue;\n                const contract_type_list = this.getField('TYPE_LIST');\n                const contract_type_options = [];\n\n                const trade_types = getContractTypeOptions('both', trade_type);\n\n                if (trade_types.length > 1) {\n                    contract_type_options.push([localize('Both'), 'both']);\n                }\n\n                contract_type_options.push(...trade_types);\n\n                if (contract_type_options.length === 0) {\n                    contract_type_options.push(...config.NOT_AVAILABLE_DROPDOWN_OPTIONS);\n                }\n\n                contract_type_list.updateOptions(contract_type_options, {\n                    event_group: event.group,\n                    default_value: is_load_event ? contract_type_list.getValue() : undefined,\n                });\n            }\n        }\n    },\n    enforceLimitations: Blockly.Blocks.trade_definition_market.enforceLimitations,\n};\nBlockly.JavaScript.trade_definition_contracttype = () => '';\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.trade_definition_candleinterval = {\n    init() {\n        this.jsonInit({\n            message0: localize('Default Candle Interval: {{ candle_interval_type }}', { candle_interval_type: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CANDLEINTERVAL_LIST',\n                    options: config.candleIntervals.slice(1),\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange(/* event */) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        this.enforceLimitations();\n    },\n    enforceLimitations: Blockly.Blocks.trade_definition_market.enforceLimitations,\n};\nBlockly.JavaScript.trade_definition_candleinterval = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.trade_definition_restartbuysell = {\n    init() {\n        this.jsonInit({\n            message0: localize('Restart buy/sell on error (disable for better performance): {{ checkbox }}', {\n                checkbox: '%1',\n            }),\n            args0: [\n                {\n                    type: 'field_image_checkbox',\n                    name: 'TIME_MACHINE_ENABLED',\n                    checked: false,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange(/* event */) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        this.enforceLimitations();\n    },\n    enforceLimitations: Blockly.Blocks.trade_definition_market.enforceLimitations,\n    required_inputs: ['TIME_MACHINE_ENABLED'],\n};\nBlockly.JavaScript.trade_definition_restartbuysell = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.trade_definition_restartonerror = {\n    init() {\n        this.jsonInit({\n            message0: localize('Restart last trade on error (bot ignores the unsuccessful trade): {{ checkbox }}', {\n                checkbox: '%1',\n            }),\n            args0: [\n                {\n                    type: 'field_image_checkbox',\n                    name: 'RESTARTONERROR',\n                    checked: true,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setNextStatement(false);\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange(/* event */) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        this.enforceLimitations();\n    },\n    enforceLimitations: Blockly.Blocks.trade_definition_market.enforceLimitations,\n    required_inputs: ['RESTARTONERROR'],\n};\nBlockly.JavaScript.trade_definition_restartonerror = () => {};\n","import { localize } from '@deriv/translations';\nimport { getCurrencyDisplayCode, getDecimalPlaces } from '@deriv/shared';\nimport DBotStore from '../../../dbot-store';\nimport { runIrreversibleEvents, runGroupedEvents } from '../../../utils';\nimport { config } from '../../../../constants/config';\nimport ApiHelpers from '../../../../services/api/api-helpers';\n\nBlockly.Blocks.trade_definition_tradeoptions = {\n    durations: [],\n    init() {\n        this.jsonInit(this.definition());\n\n        // Ensure one of this type per statement-stack\n        this.setNextStatement(false);\n    },\n    definition() {\n        const is_stake = this.type === 'trade_definition_tradeoptions';\n\n        return {\n            message0: localize('Duration: {{ duration_unit }} {{ duration_value }}', {\n                duration_unit: '%1',\n                duration_value: '%2',\n            }),\n            message1: `${is_stake ? localize('Stake') : localize('Payout')}: %1 %2 %3`,\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'DURATIONTYPE_LIST',\n                    options: [['', '']],\n                },\n                {\n                    type: 'input_value',\n                    name: 'DURATION',\n                    check: 'Number',\n                },\n            ],\n            args1: [\n                {\n                    type: 'field_label',\n                    name: 'CURRENCY_LIST',\n                    text: getCurrencyDisplayCode(config.lists.CURRENCY[0]),\n                },\n                {\n                    type: 'input_value',\n                    name: 'AMOUNT',\n                    check: 'Number',\n                },\n                {\n                    type: 'field_label',\n                    name: 'AMOUNT_LIMITS',\n                    text: '',\n                },\n            ],\n            colour: Blockly.Colours.Special1.colour,\n            colourSecondary: Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Define your trade options such as duration and stake.'),\n            category: Blockly.Categories.Trade_Definition,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Trade options'),\n            description: localize(\n                'Define your trade options such as duration and stake. Some options are only applicable for certain trade types.'\n            ),\n        };\n    },\n    onchange(event) {\n        if (event.type === 'change') {\n            const selected_block = this.workspace.getBlockById(event.blockId);\n            selected_block?.parentBlock_?.inputList\n                .filter(item => ['DURATION', 'AMOUNT'].includes(item.name))\n                .forEach(input => {\n                    const input_target = input.connection.targetBlock();\n                    const value = input_target.getFieldValue('NUM');\n                    if (value?.startsWith('0')) {\n                        const new_value = value.includes('.') ? parseFloat(`${value}`) : parseInt(`${value}`);\n                        input_target.setFieldValue(new_value.toString(), 'NUM');\n                    }\n                });\n        }\n\n        if (!this.workspace || this.workspace.isDragging() || this.isInFlyout) {\n            return;\n        }\n\n        const trade_definition_block = this.workspace\n            .getAllBlocks(true)\n            .find(block => block.type === 'trade_definition');\n        if (!trade_definition_block) {\n            return;\n        }\n\n        const market_block = trade_definition_block.getChildByType('trade_definition_market');\n        const trade_type_block = trade_definition_block.getChildByType('trade_definition_tradetype');\n\n        if (!market_block || !trade_type_block) {\n            return;\n        }\n\n        this.selected_symbol = market_block.getFieldValue('SYMBOL_LIST');\n        this.selected_market = market_block.getFieldValue('MARKET_LIST');\n        this.selected_trade_type_category = trade_type_block.getFieldValue('TRADETYPECAT_LIST');\n        this.selected_trade_type = trade_type_block.getFieldValue('TRADETYPE_LIST');\n        this.selected_duration = this.getFieldValue('DURATIONTYPE_LIST');\n        this.selected_barrier_types = [\n            this.getFieldValue('BARRIEROFFSETTYPE_LIST') || config.BARRIER_TYPES[0][1],\n            this.getFieldValue('SECONDBARRIEROFFSETTYPE_LIST') || config.BARRIER_TYPES[1][1],\n        ];\n\n        if (\n            (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) ||\n            event.type === Blockly.Events.END_DRAG\n        ) {\n            this.setCurrency();\n            this.updateAmountLimits();\n        }\n\n        const is_load_event = /^dbot-load/.test(event.group);\n\n        if (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            if (is_load_event) {\n                // Do NOT touch any values when a strategy is being loaded.\n                this.updateBarrierInputs(false, false);\n                this.updateDurationInput(false, false);\n                this.updatePredictionInput(false);\n                this.updateAmountLimits();\n            } else {\n                this.updateBarrierInputs(true, true);\n                this.enforceSingleBarrierType('BARRIEROFFSETTYPE_LIST', true);\n                this.updateDurationInput(true, true);\n                this.updatePredictionInput(true);\n            }\n        } else if (event.type === Blockly.Events.BLOCK_CHANGE) {\n            if (is_load_event) {\n                if (event.name === 'TRADETYPE_LIST') {\n                    this.updateBarrierInputs(false, false);\n                    this.enforceSingleBarrierType(false);\n                    this.updateDurationInput(false, false);\n                    this.updatePredictionInput(false);\n                }\n            } else if (event.blockId === this.id) {\n                switch (event.name) {\n                    case 'DURATIONTYPE_LIST': {\n                        this.updateBarrierInputs(true, true);\n                        this.enforceSingleBarrierType('BARRIEROFFSETTYPE_LIST', true);\n                        this.updateDurationInput(false, true);\n                        break;\n                    }\n                    case 'BARRIEROFFSETTYPE_LIST':\n                    case 'SECONDBARRIEROFFSETTYPE_LIST': {\n                        this.updateBarrierInputs(false, true);\n                        this.enforceSingleBarrierType(event.name, false);\n                        break;\n                    }\n                    default:\n                        break;\n                }\n            } else if (event.name === 'SYMBOL_LIST' || event.name === 'TRADETYPE_LIST') {\n                this.updateBarrierInputs(true, true);\n                this.enforceSingleBarrierType(true);\n                this.updateDurationInput(true, true);\n                this.updatePredictionInput(true);\n                this.updateAmountLimits();\n            }\n        } else if (event.type === Blockly.Events.END_DRAG && event.blockId === this.id) {\n            // Ensure this block is populated after initial drag from flyout.\n            if (!this.selected_duration) {\n                const fake_creation_event = new Blockly.Events.Create(this);\n                fake_creation_event.recordUndo = false;\n                Blockly.Events.fire(fake_creation_event);\n            } else if (this.selected_trade_type === 'multiplier') {\n                this.updateDurationInput(false, false);\n            }\n        }\n    },\n    createPredictionInput(prediction_range) {\n        runIrreversibleEvents(() => {\n            if (prediction_range.length === 0) {\n                this.removeInput('PREDICTION_LABEL', true);\n                this.removeInput('PREDICTION', true);\n            } else if (!this.getInput('PREDICTION')) {\n                this.appendDummyInput('PREDICTION_LABEL').appendField(localize('Prediction:'));\n\n                const prediction_input = this.appendValueInput('PREDICTION');\n                const shadow_block = this.workspace.newBlock('math_number_positive');\n\n                shadow_block.setShadow(true);\n                shadow_block.setFieldValue(prediction_range[0], 'NUM');\n                shadow_block.outputConnection.connect(prediction_input.connection);\n                shadow_block.initSvg();\n                shadow_block.render(true);\n            }\n        });\n    },\n    createBarrierInputs(barriers) {\n        runIrreversibleEvents(() => {\n            const input_names = ['BARRIEROFFSET', 'SECONDBARRIEROFFSET'];\n\n            for (let i = 0; i < barriers.values.length; i++) {\n                const label = barriers.values.length === 1 ? localize('Barrier') : config.BARRIER_LABELS[i];\n                let input = this.getInput(input_names[i]);\n\n                if (input) {\n                    input.fieldRow[0].setText(label);\n                } else {\n                    input = this.appendValueInput(input_names[i])\n                        .appendField(label, `${input_names[i]}_LABEL`)\n                        .appendField(new Blockly.FieldDropdown(config.BARRIER_TYPES), `${input_names[i]}TYPE_LIST`);\n\n                    const shadow_block = this.workspace.newBlock('math_number_positive');\n\n                    shadow_block.setShadow(true);\n                    shadow_block.setFieldValue(barriers.values[i], 'NUM');\n                    shadow_block.outputConnection.connect(input.connection);\n                    shadow_block.initSvg();\n                    shadow_block.render(true);\n                }\n            }\n\n            // Remove any extra inputs (quietly) if not required\n            for (let i = input_names.length; i > barriers.values.length; i--) {\n                this.removeInput(input_names[i - 1], true);\n            }\n        });\n    },\n    updateAmountLimits() {\n        const { account_limits } = ApiHelpers.instance;\n        const { currency, landing_company_shortcode } = DBotStore.instance.client;\n        account_limits.getStakePayoutLimits(currency, landing_company_shortcode, this.selected_market).then(limits => {\n            if (!this.getField('AMOUNT_LIMITS')) {\n                return;\n            }\n            this.amount_limits = limits;\n            const { max_payout, min_stake } = limits;\n            if (max_payout && min_stake) {\n                runIrreversibleEvents(() => {\n                    this.setFieldValue(\n                        localize('(min: {{min_stake}} - max: {{max_payout}})', {\n                            min_stake,\n                            max_payout,\n                        }),\n                        'AMOUNT_LIMITS'\n                    );\n                });\n            }\n        });\n    },\n    updateDurationInput(should_use_default_unit, should_update_value) {\n        const { contracts_for } = ApiHelpers.instance;\n\n        if (this.selected_trade_type === 'multiplier' && this.isDescendantOf('trade_definition')) {\n            runIrreversibleEvents(() => {\n                runGroupedEvents(false, () => {\n                    const multiplier_block = this.workspace.newBlock('trade_definition_multiplier');\n                    multiplier_block.initSvg();\n                    multiplier_block.render();\n\n                    const trade_definition_block = this.workspace.getTradeDefinitionBlock();\n                    const parent_connection = trade_definition_block.getInput('SUBMARKET').connection;\n                    const child_connection = multiplier_block.previousConnection;\n                    parent_connection.connect(child_connection);\n\n                    const stake_input = multiplier_block.getInput('AMOUNT');\n\n                    const stake_shadow_block = this.workspace.newBlock('math_number_positive');\n                    stake_shadow_block.setShadow(true);\n                    stake_shadow_block.setFieldValue(1, 'NUM');\n                    stake_shadow_block.outputConnection.connect(stake_input.connection);\n                    stake_shadow_block.initSvg();\n                    stake_shadow_block.render();\n\n                    const take_profit_block = this.workspace.newBlock('multiplier_take_profit');\n                    const take_profit_input = take_profit_block.getInput('AMOUNT');\n\n                    const take_profit_shadow_block = this.workspace.newBlock('math_number_positive');\n                    take_profit_shadow_block.setShadow(true);\n                    take_profit_shadow_block.setFieldValue(0, 'NUM');\n                    take_profit_shadow_block.outputConnection.connect(take_profit_input.connection);\n                    take_profit_shadow_block.initSvg();\n                    take_profit_shadow_block.render();\n\n                    multiplier_block\n                        .getLastConnectionInStatement('MULTIPLIER_PARAMS')\n                        .connect(take_profit_block.previousConnection);\n                    take_profit_block.initSvg();\n                    take_profit_block.render();\n\n                    const stop_loss_block = this.workspace.newBlock('multiplier_stop_loss');\n                    const stop_loss_input = stop_loss_block.getInput('AMOUNT');\n\n                    const stop_loss_shadow_block = this.workspace.newBlock('math_number_positive');\n                    stop_loss_shadow_block.setShadow(true);\n                    stop_loss_shadow_block.setFieldValue(0, 'NUM');\n                    stop_loss_shadow_block.outputConnection.connect(stop_loss_input.connection);\n                    stop_loss_shadow_block.initSvg();\n                    stop_loss_shadow_block.render();\n\n                    multiplier_block\n                        .getLastConnectionInStatement('MULTIPLIER_PARAMS')\n                        .connect(stop_loss_block.previousConnection);\n                    stop_loss_block.initSvg();\n                    stop_loss_block.render();\n\n                    this.dispose();\n                    Blockly.derivWorkspace.cleanUp();\n                });\n            });\n        } else {\n            contracts_for.getDurations(this.selected_symbol, this.selected_trade_type).then(durations => {\n                // Keep duration in memory so we can later reference them for validation\n                this.durations = durations;\n\n                const duration_field_dropdown = this.getField('DURATIONTYPE_LIST');\n                const duration_input = this.getInput('DURATION');\n                const duration_options = durations.map(duration => [duration.display, duration.unit]);\n\n                duration_field_dropdown?.updateOptions(duration_options, {\n                    default_value: should_use_default_unit ? undefined : duration_field_dropdown.getValue(),\n                });\n\n                if (should_update_value && duration_input && duration_input.connection) {\n                    const target_block = duration_input.connection.targetBlock();\n\n                    if (target_block && target_block.isShadow()) {\n                        const min_duration = durations.find(duration => duration.unit === this.selected_duration);\n\n                        if (min_duration) {\n                            runIrreversibleEvents(() => {\n                                target_block.setFieldValue(min_duration.min, 'NUM');\n                            });\n                        }\n                    }\n                }\n            });\n        }\n    },\n    updateBarrierInputs(should_use_default_type, should_use_default_values) {\n        const { contracts_for } = ApiHelpers.instance;\n        const { BARRIER_TYPES } = config;\n\n        contracts_for\n            .getBarriers(\n                this.selected_symbol,\n                this.selected_trade_type,\n                this.selected_duration,\n                this.selected_barrier_types\n            )\n            .then(barriers => {\n                this.createBarrierInputs(barriers);\n\n                const input_names = ['BARRIEROFFSET', 'SECONDBARRIEROFFSET'];\n\n                for (let i = 0; i < barriers.values.length; i++) {\n                    const barrier_field_dropdown = this.getField(`${input_names[i]}TYPE_LIST`);\n                    const { ABSOLUTE_BARRIER_DROPDOWN_OPTION } = config;\n                    const barrier_field_value = should_use_default_type\n                        ? BARRIER_TYPES[i][1]\n                        : barrier_field_dropdown.getValue();\n\n                    if (this.selected_duration === 'd') {\n                        // Only absolute types are allowed.\n                        barrier_field_dropdown.updateOptions(ABSOLUTE_BARRIER_DROPDOWN_OPTION, {\n                            default_value: 'absolute',\n                        });\n                    } else if (barriers.allow_both_types || barriers.allow_absolute_type) {\n                        // Both offset + absolute types are allowed.\n                        const options = [].concat(BARRIER_TYPES, ABSOLUTE_BARRIER_DROPDOWN_OPTION);\n\n                        barrier_field_dropdown.updateOptions(options, {\n                            default_value: barrier_field_value,\n                        });\n                    } else {\n                        // Only offset types are allowed.\n                        barrier_field_dropdown.updateOptions(BARRIER_TYPES, {\n                            default_value: barrier_field_value,\n                        });\n                    }\n\n                    const { connection } = this.getInput(input_names[i]);\n\n                    if (should_use_default_values && connection) {\n                        const target_block = connection.targetBlock();\n\n                        if (target_block && target_block.isShadow()) {\n                            const barrier_value = barriers.values[i] !== false ? barriers.values[i] : '';\n\n                            runIrreversibleEvents(() => {\n                                target_block.setFieldValue(barrier_value, 'NUM');\n                            });\n                        }\n                    }\n                }\n            });\n    },\n    updatePredictionInput(should_use_default_value) {\n        const { contracts_for } = ApiHelpers.instance;\n\n        contracts_for.getPredictionRange(this.selected_symbol, this.selected_trade_type).then(prediction_range => {\n            this.createPredictionInput(prediction_range);\n\n            if (prediction_range.length > 0) {\n                const prediction_input = this.getInput('PREDICTION');\n                const { connection } = prediction_input;\n\n                if (should_use_default_value && connection) {\n                    const target_block = connection.targetBlock();\n\n                    if (target_block && target_block.isShadow()) {\n                        const initial_prediction = Math.max(1, prediction_range[0]);\n\n                        runIrreversibleEvents(() => {\n                            target_block.setFieldValue(initial_prediction, 'NUM');\n                        });\n                    }\n                }\n            }\n        });\n    },\n    enforceSingleBarrierType(barrier_input_name, should_force_distinct) {\n        const new_value = this.getFieldValue(barrier_input_name);\n        const other_barrier_input_name =\n            barrier_input_name === 'BARRIEROFFSETTYPE_LIST' ? 'SECONDBARRIEROFFSETTYPE_LIST' : 'BARRIEROFFSETTYPE_LIST';\n        const other_barrier_field = this.getField(other_barrier_input_name);\n        const { BARRIER_TYPES } = config;\n\n        if (other_barrier_field) {\n            const has_other_barrier = BARRIER_TYPES.findIndex(type => type[1] === new_value) !== -1;\n            const other_barrier_type = other_barrier_field.getValue();\n\n            runIrreversibleEvents(() => {\n                if (has_other_barrier && (other_barrier_type === 'absolute' || should_force_distinct)) {\n                    const other_barrier_value = BARRIER_TYPES.find(type => type[1] !== new_value);\n                    other_barrier_field.setValue(other_barrier_value[1]);\n                } else if (new_value === 'absolute' && other_barrier_type !== 'absolute') {\n                    other_barrier_field.setValue('absolute');\n                }\n            });\n        }\n    },\n    domToMutation(xmlElement) {\n        const has_first_barrier = xmlElement.getAttribute('has_first_barrier') === 'true';\n        const has_second_barrier = xmlElement.getAttribute('has_second_barrier') === 'true';\n        const has_prediction = xmlElement.getAttribute('has_prediction') === 'true';\n\n        if (has_first_barrier && has_second_barrier) {\n            this.createBarrierInputs({ values: [1, -1] }); // These values are overwritten with XML values.\n        } else if (has_first_barrier) {\n            this.createBarrierInputs({ values: [1] });\n        } else if (has_prediction) {\n            this.createPredictionInput([1]);\n        }\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n\n        container.setAttribute('has_first_barrier', !!this.getInput('BARRIEROFFSET'));\n        container.setAttribute('has_second_barrier', !!this.getInput('SECONDBARRIEROFFSET'));\n        container.setAttribute('has_prediction', !!this.getInput('PREDICTION'));\n\n        return container;\n    },\n    setCurrency() {\n        const currency_field = this.getField('CURRENCY_LIST');\n        const { currency } = DBotStore.instance.client;\n        currency_field.setText(getCurrencyDisplayCode(currency));\n    },\n    restricted_parents: ['trade_definition'],\n    getRequiredValueInputs() {\n        return {\n            AMOUNT: input => {\n                const input_number = Number(input);\n                const max_payout = this.amount_limits?.max_payout;\n                const min_stake = this.amount_limits?.min_stake;\n                if (min_stake && input_number < min_stake) {\n                    this.error_message = localize(\"Please enter a stake amount that's at least {{min_stake}}.\", {\n                        min_stake,\n                    });\n                    return input_number < min_stake;\n                }\n                if (max_payout && input_number > max_payout) {\n                    this.error_message = localize(\"Please enter a payout amount that's lower than {{max_payout}}.\", {\n                        max_payout,\n                    });\n                    return input_number > max_payout;\n                }\n                this.error_message = localize('Amount must be a positive number.');\n                return !isNaN(input_number) && input_number <= 0;\n            },\n            DURATION: input => {\n                const input_number = Number(input);\n\n                if (isNaN(input_number) || !this.durations.length) {\n                    return false;\n                }\n\n                const duration = this.durations.find(d => d.unit === this.selected_duration);\n\n                if (duration) {\n                    const { min, max } = duration;\n                    const is_valid_duration = input_number >= min && input_number <= max;\n\n                    if (min === max) {\n                        this.error_message = localize(\n                            'Duration value is not allowed. To run the bot, please enter {{min}}.',\n                            { min }\n                        );\n                    } else {\n                        this.error_message = localize(\n                            'Duration value is not allowed. To run the bot, please enter a value between {{min}} to {{max}}.',\n                            { min, max }\n                        );\n                    }\n\n                    return !is_valid_duration;\n                }\n\n                return false;\n            },\n        };\n    },\n};\n\nBlockly.Blocks.trade_definition_tradeoptions_payout = Blockly.Blocks.trade_definition_tradeoptions;\n\nBlockly.JavaScript.trade_definition_tradeoptions = block => {\n    const amount = Blockly.JavaScript.valueToCode(block, 'AMOUNT', Blockly.JavaScript.ORDER_ATOMIC) || '0';\n    const { currency } = DBotStore.instance.client;\n    const duration_type = block.getFieldValue('DURATIONTYPE_LIST') || '0';\n    const duration_value = Blockly.JavaScript.valueToCode(block, 'DURATION', Blockly.JavaScript.ORDER_ATOMIC) || '0';\n\n    // Determine decimal places for rounding the stake, this is done so Martingale multipliers\n    // are not affected by fractional values e.g. USD 12.232323 will become 12.23.\n    const decimal_places = getDecimalPlaces(currency);\n    const stake_amount = `+(Number(${amount}).toFixed(${decimal_places}))`;\n\n    const getBarrierValue = (barrier_offset_type, value) => {\n        // Variables should not be encapsulated in quotes\n        if (/^(\\d+(\\.\\d+)?)$/.test(value)) {\n            return barrier_offset_type === 'absolute' ? `'${value}'` : `'${barrier_offset_type}${value}'`;\n        }\n        return barrier_offset_type === 'absolute' ? value : `'${barrier_offset_type}' + ${value}`;\n    };\n\n    let prediction_value, barrier_offset_value, second_barrier_offset_value;\n\n    if (block.getInput('PREDICTION')) {\n        prediction_value = Blockly.JavaScript.valueToCode(block, 'PREDICTION', Blockly.JavaScript.ORDER_ATOMIC) || '-1';\n    }\n\n    if (block.getInput('BARRIEROFFSET')) {\n        const barrier_offset_type = block.getFieldValue('BARRIEROFFSETTYPE_LIST');\n        const value = Blockly.JavaScript.valueToCode(block, 'BARRIEROFFSET', Blockly.JavaScript.ORDER_ATOMIC) || '0';\n        barrier_offset_value = getBarrierValue(barrier_offset_type, value);\n    }\n\n    if (block.getInput('SECONDBARRIEROFFSET')) {\n        const barrier_offset_type = block.getFieldValue('SECONDBARRIEROFFSETTYPE_LIST');\n        const value =\n            Blockly.JavaScript.valueToCode(block, 'SECONDBARRIEROFFSET', Blockly.JavaScript.ORDER_ATOMIC) || '0';\n        second_barrier_offset_value = getBarrierValue(barrier_offset_type, value);\n    }\n\n    const code = `\n        Bot.start({\n            limitations        : BinaryBotPrivateLimitations,\n            duration           : ${duration_value},\n            duration_unit      : '${duration_type}',\n            currency           : '${currency}',\n            amount             : ${stake_amount},\n            prediction         : ${prediction_value || 'undefined'},\n            barrierOffset      : ${barrier_offset_value || 'undefined'},\n            secondBarrierOffset: ${second_barrier_offset_value || 'undefined'},\n            basis              : '${block.type === 'trade_definition_tradeoptions' ? 'stake' : 'payout'}',\n        });\n        BinaryBotPrivateHasCalledTradeOptions = true;\n    `;\n\n    return code;\n};\n\nBlockly.JavaScript.trade_definition_tradeoptions_payout = Blockly.JavaScript.trade_definition_tradeoptions;\n","import { localize } from '@deriv/translations';\nimport { getCurrencyDisplayCode, getDecimalPlaces } from '@deriv/shared';\nimport DBotStore from '../../../dbot-store';\nimport { runGroupedEvents, runIrreversibleEvents } from '../../../utils';\nimport { config } from '../../../../constants/config';\nimport ApiHelpers from '../../../../services/api/api-helpers';\n\nBlockly.Blocks.trade_definition_multiplier = {\n    init() {\n        this.jsonInit(this.definition());\n\n        // Ensure one of this type per statement-stack\n        this.setNextStatement(false);\n    },\n    definition() {\n        return {\n            message0: localize('Multiplier: {{ multiplier }}', {\n                multiplier: '%1',\n            }),\n            message1: `${localize('Stake')}: %1 %2 %3`,\n            message2: '%1',\n            message3: '%1',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'MULTIPLIERTYPE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            args1: [\n                {\n                    type: 'field_label',\n                    name: 'CURRENCY_LIST',\n                    text: getCurrencyDisplayCode(config.lists.CURRENCY[0]),\n                },\n                {\n                    type: 'input_value',\n                    name: 'AMOUNT',\n                    check: 'Number',\n                },\n                {\n                    type: 'field_label',\n                    name: 'AMOUNT_LIMITS',\n                    text: '',\n                },\n            ],\n            args2: [\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args3: [\n                {\n                    type: 'input_statement',\n                    name: 'MULTIPLIER_PARAMS',\n                },\n            ],\n            colour: Blockly.Colours.Special1.colour,\n            colourSecondary: Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Define your trade options such as multiplier and stake.'),\n            category: Blockly.Categories.Trade_Definition,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Multiplier trade options'),\n            description: localize(\n                'Define your trade options such as multiplier and stake. This block can only be used with the multipliers trade type. If you select another trade type, this block will be replaced with the Trade options block.'\n            ),\n        };\n    },\n    validateBlocksInStatement() {\n        // Enforce only multiplier_<type> blocks in MULTIPLIER_PARAMS statement.\n        const blocks_in_multiplier = this.getBlocksInStatement('MULTIPLIER_PARAMS');\n\n        if (blocks_in_multiplier.length > 0) {\n            const block_types_in_multiplier = [];\n            blocks_in_multiplier.forEach(block => {\n                block_types_in_multiplier.push(block.type);\n                const block_multiplier_take_profit = block.childValueToCode('multiplier_take_profit', 'AMOUNT');\n                const block_multiplier_stop_loss = block.childValueToCode('multiplier_stop_loss', 'AMOUNT');\n                if (block_multiplier_take_profit <= 0 || block_multiplier_stop_loss <= 0) {\n                    block.setDisabled(true);\n                }\n\n                if (block.type === 'multiplier_stop_loss' && block_multiplier_stop_loss > 0) {\n                    block.setDisabled(false);\n                }\n\n                if (block.type === 'multiplier_take_profit' && block_multiplier_take_profit > 0) {\n                    block.setDisabled(false);\n                }\n\n                if (\n                    !/^multiplier_.+$/.test(block.type) ||\n                    new Set(block_types_in_multiplier).size !== block_types_in_multiplier.length\n                ) {\n                    runIrreversibleEvents(() => {\n                        block.unplug(true);\n                    });\n                }\n            });\n        }\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        const trade_definition_block = this.workspace\n            .getAllBlocks(true)\n            .find(block => block.type === 'trade_definition');\n        if (!trade_definition_block) {\n            return;\n        }\n\n        const market_block = trade_definition_block.getChildByType('trade_definition_market');\n        const trade_type_block = trade_definition_block.getChildByType('trade_definition_tradetype');\n\n        if (!market_block || !trade_type_block) {\n            return;\n        }\n\n        this.selected_symbol = market_block.getFieldValue('SYMBOL_LIST');\n        this.selected_market = market_block.getFieldValue('MARKET_LIST');\n        this.selected_trade_type_category = trade_type_block.getFieldValue('TRADETYPECAT_LIST');\n        this.selected_trade_type = trade_type_block.getFieldValue('TRADETYPE_LIST');\n        this.selected_multiplier = this.getFieldValue('MULTIPLIERTYPE_LIST');\n\n        const is_load_event = /^dbot-load/.test(event.group);\n\n        if (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            this.setCurrency();\n            this.updateAmountLimits();\n            if (is_load_event) {\n                // Do NOT touch any values when a strategy is being loaded.\n                this.updateMultiplierInput(false);\n            } else {\n                this.updateMultiplierInput(true);\n            }\n            return;\n        }\n\n        if (event.type === Blockly.Events.BLOCK_CHANGE) {\n            this.validateBlocksInStatement();\n            if (is_load_event) {\n                if (event.name === 'TRADETYPE_LIST') {\n                    this.updateMultiplierInput(false);\n                }\n            } else if (event.blockId === this.id) {\n                switch (event.name) {\n                    case 'MULTIPLIERTYPE_LIST': {\n                        this.updateMultiplierInput(false);\n                        break;\n                    }\n                    default:\n                        break;\n                }\n            } else if (event.name === 'SYMBOL_LIST' || event.name === 'TRADETYPE_LIST') {\n                this.updateMultiplierInput(true);\n                this.updateAmountLimits();\n            }\n            return;\n        }\n\n        if (event.type === Blockly.Events.END_DRAG) {\n            this.setCurrency();\n            this.updateAmountLimits();\n            this.validateBlocksInStatement();\n            if (event.blockId === this.id) {\n                // Ensure this block is populated after initial drag from flyout.\n                if (!this.selected_multiplier) {\n                    const fake_creation_event = new Blockly.Events.Create(this);\n                    fake_creation_event.recordUndo = false;\n                    Blockly.Events.fire(fake_creation_event);\n                } else if (this.selected_trade_type !== 'multiplier') {\n                    this.updateMultiplierInput(true);\n                }\n            }\n        }\n    },\n    updateAmountLimits: Blockly.Blocks.trade_definition_tradeoptions.updateAmountLimits,\n    updateMultiplierInput(should_use_default_value) {\n        const { contracts_for } = ApiHelpers.instance;\n\n        if (this.selected_trade_type === 'multiplier') {\n            contracts_for.getMultiplierRange(this.selected_symbol, this.selected_trade_type).then(multiplier_range => {\n                if (multiplier_range.length > 0) {\n                    const multiplier_list_dropdown = this.getField('MULTIPLIERTYPE_LIST');\n                    const multiplier_options = multiplier_range.map(value => {\n                        const option = value.toString();\n                        return [option, option];\n                    });\n\n                    multiplier_list_dropdown?.updateOptions(multiplier_options, {\n                        default_value: should_use_default_value ? undefined : multiplier_list_dropdown.getValue(),\n                    });\n                }\n            });\n            return;\n        }\n\n        if (this.isDescendantOf('trade_definition')) {\n            runIrreversibleEvents(() => {\n                runGroupedEvents(false, () => {\n                    const duration_block = this.workspace.newBlock('trade_definition_tradeoptions');\n                    duration_block.initSvg();\n                    duration_block.render();\n\n                    const trade_definition_block = this.workspace.getTradeDefinitionBlock();\n                    const parent_connection = trade_definition_block.getInput('SUBMARKET').connection;\n                    const child_connection = duration_block.previousConnection;\n                    parent_connection.connect(child_connection);\n\n                    const duration_input = duration_block.getInput('DURATION');\n\n                    const duration_shadow_block = this.workspace.newBlock('math_number_positive');\n                    duration_shadow_block.setShadow(true);\n                    duration_shadow_block.outputConnection.connect(duration_input.connection);\n                    duration_shadow_block.initSvg();\n                    duration_shadow_block.render(true);\n\n                    const stake_input = duration_block.getInput('AMOUNT');\n\n                    const stake_shadow_block = this.workspace.newBlock('math_number_positive');\n                    stake_shadow_block.setShadow(true);\n                    stake_shadow_block.setFieldValue(1, 'NUM');\n                    stake_shadow_block.outputConnection.connect(stake_input.connection);\n                    stake_shadow_block.initSvg();\n                    stake_shadow_block.render(true);\n\n                    this.dispose();\n                    Blockly.derivWorkspace.cleanUp();\n                });\n            });\n        }\n    },\n    setCurrency: Blockly.Blocks.trade_definition_tradeoptions.setCurrency,\n    restricted_parents: ['trade_definition'],\n    getRequiredValueInputs() {\n        return {\n            AMOUNT: input => {\n                const input_number = Number(input);\n                const max_payout = this.amount_limits?.max_payout;\n                const min_stake = this.amount_limits?.min_stake;\n                if (min_stake && input_number < min_stake) {\n                    this.error_message = localize(\"Please enter a stake amount that's at least {{min_stake}}.\", {\n                        min_stake,\n                    });\n                    return input_number < min_stake;\n                }\n                if (max_payout && input_number > max_payout) {\n                    this.error_message = localize(\"Please enter a payout amount that's lower than {{max_payout}}.\", {\n                        max_payout,\n                    });\n                    return input_number > max_payout;\n                }\n                this.error_message = localize('Amount must be a positive number.');\n                return !isNaN(input_number) && input_number <= 0;\n            },\n        };\n    },\n};\n\nBlockly.JavaScript.trade_definition_multiplier = block => {\n    const amount = Blockly.JavaScript.valueToCode(block, 'AMOUNT', Blockly.JavaScript.ORDER_ATOMIC) || '0';\n    const { currency } = DBotStore.instance.client;\n    const { setContractUpdateConfig } = DBotStore.instance;\n    const multiplier_value = block.getFieldValue('MULTIPLIERTYPE_LIST') || '1';\n    const stop_loss =\n        !block.getChildByType('multiplier_stop_loss')?.disabled &&\n        block.childValueToCode('multiplier_stop_loss', 'AMOUNT');\n    const take_profit =\n        !block.getChildByType('multiplier_take_profit')?.disabled &&\n        block.childValueToCode('multiplier_take_profit', 'AMOUNT');\n    const limit_order = {};\n    limit_order.take_profit = take_profit ? +take_profit : undefined;\n    limit_order.stop_loss = stop_loss ? +stop_loss : undefined;\n\n    setContractUpdateConfig(take_profit, stop_loss);\n    // Determine decimal places for rounding the stake, this is done so Martingale multipliers\n    // are not affected by fractional values e.g. USD 12.232323 will become 12.23.\n    const decimal_places = getDecimalPlaces(currency);\n    const stake_amount = `+(Number(${amount}).toFixed(${decimal_places}))`;\n\n    const code = `\n        Bot.start({\n            limitations        : BinaryBotPrivateLimitations,\n            multiplier         : ${multiplier_value},\n            currency           : '${currency}',\n            amount             : ${stake_amount},\n            limit_order        : ${JSON.stringify(limit_order)},\n            basis              : 'stake',\n        });\n        BinaryBotPrivateHasCalledTradeOptions = true;\n    `;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { getCurrencyDisplayCode } from '@deriv/shared';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.multiplier_stop_loss = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Stop Loss: {{ currency }} {{ stop_loss }}', {\n                currency: '%1',\n                stop_loss: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_label',\n                    name: 'CURRENCY_LIST',\n                    text: getCurrencyDisplayCode(config.lists.CURRENCY[0]),\n                },\n                {\n                    type: 'input_value',\n                    name: 'AMOUNT',\n                    check: 'Number',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize(\n                'Your contract is closed automatically when your loss is more than or equals to this amount. This block can only be used with the multipliers trade type.'\n            ),\n            category: Blockly.Categories.Trade_Definition,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Stop loss'),\n            description: localize(\n                'Your contract is closed automatically when your loss is more than or equals to this amount. This block can only be used with the multipliers trade type.'\n            ),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n        if (\n            (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) ||\n            event.type === Blockly.Events.END_DRAG\n        ) {\n            this.setCurrency();\n        }\n    },\n    restricted_parents: ['trade_definition_multiplier'],\n    setCurrency: Blockly.Blocks.trade_definition_tradeoptions.setCurrency,\n    getRequiredValueInputs() {\n        const field_input = this.getInput('AMOUNT');\n        if (field_input.connection.targetBlock()) {\n            return {\n                AMOUNT: input => {\n                    const input_number = Number(input);\n                    this.error_message = localize('Stop loss must be a positive number.');\n                    return !isNaN(input_number) && input_number <= 0;\n                },\n            };\n        }\n        return {};\n    },\n};\n\nBlockly.JavaScript.multiplier_stop_loss = () => {};\n","import { localize } from '@deriv/translations';\nimport { getCurrencyDisplayCode } from '@deriv/shared';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.multiplier_take_profit = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Take Profit: {{ currency }} {{ take_profit }}', {\n                currency: '%1',\n                take_profit: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_label',\n                    name: 'CURRENCY_LIST',\n                    text: getCurrencyDisplayCode(config.lists.CURRENCY[0]),\n                },\n                {\n                    type: 'input_value',\n                    name: 'AMOUNT',\n                    check: 'Number',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize(\n                'Your contract is closed automatically when your profit is more than or equals to this amount. This block can only be used with the multipliers trade type.'\n            ),\n            category: Blockly.Categories.Trade_Definition,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Take Profit'),\n            description: localize(\n                'Your contract is closed automatically when your profit is more than or equals to this amount. This block can only be used with the multipliers trade type.'\n            ),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n        if (\n            (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) ||\n            event.type === Blockly.Events.END_DRAG\n        ) {\n            this.setCurrency();\n        }\n    },\n    restricted_parents: ['trade_definition_multiplier'],\n    setCurrency: Blockly.Blocks.trade_definition_tradeoptions.setCurrency,\n    getRequiredValueInputs() {\n        const field_input = this.getInput('AMOUNT');\n        if (field_input.connection.targetBlock()) {\n            return {\n                AMOUNT: input => {\n                    const input_number = Number(input);\n                    this.error_message = localize('Take profit must be a positive number.');\n                    return !isNaN(input_number) && input_number <= 0;\n                },\n            };\n        }\n        return {};\n    },\n};\n\nBlockly.JavaScript.multiplier_take_profit = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.logic_compare = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'A',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        ['=', 'EQ'],\n                        ['\\u2260', 'NEQ'],\n                        ['\\u200F<', 'LT'],\n                        ['\\u200F\\u2264', 'LTE'],\n                        ['\\u200F>', 'GT'],\n                        ['\\u200F\\u2265', 'GTE'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'B',\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Compares two values'),\n            category: Blockly.Categories.Logic,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Compare'),\n            description: localize('This block compares two values and is used to build a conditional structure.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            A: null,\n            B: null,\n        };\n    },\n};\n\nBlockly.JavaScript.logic_compare = block => {\n    const operatorMapping = {\n        EQ: '==',\n        NEQ: '!=',\n        LT: '<',\n        LTE: '<=',\n        GT: '>',\n        GTE: '>=',\n    };\n\n    const operator = operatorMapping[block.getFieldValue('OP') || 'EQ'];\n    const order = ['==', '!='].includes(operator)\n        ? Blockly.JavaScript.ORDER_EQUALITY\n        : Blockly.JavaScript.ORDER_RELATIONAL;\n\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'A', order) || 'false';\n    const argument1 = Blockly.JavaScript.valueToCode(block, 'B', order) || 'false';\n\n    const code = `${argument0} ${operator} ${argument1}`;\n    return [code, order];\n};\n","import { localize } from '@deriv/translations';\nimport { plusIconDark, minusIconDark } from '../images';\n\nBlockly.Blocks.controls_if = {\n    init() {\n        this.value_connections = [null];\n        this.statement_connections = [null];\n        this.else_statement_connection = null;\n        this.else_if_count = 0;\n        this.else_count = 0;\n\n        this.jsonInit(this.definition());\n        this.updateShape();\n    },\n    definition() {\n        return {\n            message0: localize('if {{ condition }} then', { condition: '%1' }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'IF0',\n                    check: 'Boolean',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DO0',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Conditional block'),\n            category: Blockly.Categories.Logic,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Conditional block'),\n            description: localize(\n                'This block evaluates a statement and will perform an action only when the statement is true.'\n            ),\n        };\n    },\n    /**\n     * Create XML to represent the number of else-if and else inputs.\n     * @return {Element} XML storage element.\n     * @this Blockly.Block\n     */\n    mutationToDom() {\n        const container = document.createElement('mutation');\n\n        if (this.else_if_count) {\n            container.setAttribute('elseif', this.else_if_count);\n        }\n\n        if (this.else_count) {\n            container.setAttribute('else', 1);\n        }\n\n        return container;\n    },\n    /**\n     * Parse XML to restore the else-if and else inputs.\n     * @param {!Element} xmlElement XML storage element.\n     * @this Blockly.Block\n     */\n    domToMutation(xmlElement) {\n        this.else_if_count = parseInt(xmlElement.getAttribute('elseif')) || 0;\n        this.else_count = parseInt(xmlElement.getAttribute('else')) || 0;\n        this.rebuildShape();\n    },\n    rebuildShape() {\n        const value_connections = [null];\n        const statement_connections = [null];\n        const else_statement_connection = this.getInput('ELSE')?.connection?.targetConnection || null;\n\n        let i = 1;\n\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            const input_names = this.getIfInputNames(i);\n            const if_input = this.getInput(input_names.IF);\n\n            if (!if_input) {\n                break;\n            }\n\n            const do_input = this.getInput(input_names.DO);\n            value_connections.push(if_input.connection.targetConnection);\n            statement_connections.push(do_input.connection.targetConnection);\n            i++;\n        }\n\n        this.updateShape();\n        this.reconnectChildBlocks(value_connections, statement_connections, else_statement_connection);\n    },\n    update(updateFn) {\n        Blockly.Events.setGroup(true);\n\n        const old_mutation_dom = this.mutationToDom();\n        const old_mutation = old_mutation_dom && Blockly.Xml.domToText(old_mutation_dom);\n        const is_rendered = this.rendered;\n\n        this.rendered = false;\n\n        if (updateFn) {\n            updateFn.call(this);\n        }\n\n        this.updateShape();\n        this.rendered = is_rendered;\n        this.initSvg();\n\n        const group = Blockly.Events.getGroup();\n        const new_mutation_dom = this.mutationToDom();\n        const new_mutation = new_mutation_dom && Blockly.Xml.domToText(new_mutation_dom);\n\n        if (old_mutation !== new_mutation) {\n            const change_event = new Blockly.Events.BlockChange(this, 'mutation', null, old_mutation, new_mutation);\n            Blockly.Events.fire(change_event);\n\n            setTimeout(() => {\n                Blockly.Events.setGroup(group);\n                this.bumpNeighbours_();\n                Blockly.Events.setGroup(false);\n            }, Blockly.BUMP_DELAY);\n        }\n\n        if (this.rendered) {\n            this.render();\n        }\n\n        Blockly.Events.setGroup(false);\n    },\n    updateShape() {\n        if (this.getInput('ELSE')) {\n            this.removeInput('ELSE');\n            this.removeInput('ELSE_LABEL');\n            this.removeInput('DELETE_ELSE');\n        }\n\n        let i = 1;\n\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            const input_names = this.getIfInputNames(i);\n\n            if (!this.getInput(input_names.IF)) {\n                break;\n            }\n\n            this.removeInput(input_names.IF_LABEL);\n            this.removeInput(input_names.IF);\n            this.removeInput(input_names.THEN_LABEL);\n            this.removeInput(input_names.DELETE_ICON);\n            this.removeInput(input_names.DO);\n\n            i++;\n        }\n\n        if (this.getInput('MUTATOR')) {\n            this.removeInput('MUTATOR'); // \"+\" icon.\n        }\n\n        // Rebuild else if statements\n        for (let j = 1; j <= this.else_if_count; j++) {\n            const input_names = this.getIfInputNames(j);\n            const removeElseIf = () => this.modifyElseIf(false, j);\n\n            this.appendDummyInput(input_names.IF_LABEL).appendField(localize('else if'));\n            this.appendValueInput(input_names.IF).setCheck('Boolean');\n            this.appendDummyInput(input_names.THEN_LABEL).appendField(localize('then'));\n            this.appendDummyInput(input_names.DELETE_ICON).appendField(\n                new Blockly.FieldImage(minusIconDark, 24, 24, '-', removeElseIf)\n            );\n            this.appendStatementInput(input_names.DO);\n        }\n\n        // Rebuild else statement\n        if (this.else_count > 0) {\n            const removeElse = () => this.modifyElse(false);\n            this.appendDummyInput('ELSE_LABEL').appendField(localize('else'));\n            this.appendDummyInput('DELETE_ELSE').appendField(\n                new Blockly.FieldImage(minusIconDark, 24, 24, '-', removeElse, false)\n            );\n            this.appendStatementInput('ELSE');\n        }\n\n        const addElseIf = () => {\n            if (this.else_count === 0) {\n                this.modifyElse(true);\n            } else {\n                if (!this.else_if_count) {\n                    this.else_if_count = 0;\n                }\n\n                this.modifyElseIf(true);\n            }\n        };\n\n        // Re-add the \"+\" icon\n        this.appendDummyInput('MUTATOR').appendField(\n            new Blockly.FieldImage(plusIconDark, 24, 24, '+', addElseIf, false)\n        );\n\n        this.initSvg();\n        this.render();\n    },\n    storeConnections(arg = 0) {\n        this.value_connections = [null];\n        this.statement_connections = [null];\n        this.else_statement_connection = null;\n\n        for (let i = 1; i <= this.else_if_count; i++) {\n            if (arg !== i) {\n                const input_names = this.getIfInputNames(i);\n\n                this.value_connections.push(this.getInput(input_names.IF).connection.targetConnection);\n                this.statement_connections.push(this.getInput(input_names.DO).connection.targetConnection);\n            }\n        }\n\n        const else_input = this.getInput('ELSE');\n\n        if (else_input) {\n            this.else_statement_connection = else_input.connection.targetConnection;\n        }\n    },\n    reconnectChildBlocks(opt_value_conns, opt_statement_conns, opt_else_statement_conns) {\n        const value_connections = opt_value_conns ?? this.value_connections;\n        const statement_connections = opt_statement_conns ?? this.statement_connections;\n        const else_statement_connection = opt_else_statement_conns ?? this.else_statement_connection;\n\n        for (let i = 1; i <= this.else_if_count; i++) {\n            const input_names = this.getIfInputNames(i);\n            const value_connection = value_connections[i];\n            const statement_connection = statement_connections[i];\n\n            if (value_connection && this.getInput(input_names.IF)) {\n                Blockly.Mutator.reconnect(value_connection, this, input_names.IF);\n            }\n            if (statement_connection && this.getInput(input_names.DO)) {\n                Blockly.Mutator.reconnect(statement_connection, this, input_names.DO);\n            }\n        }\n\n        if (else_statement_connection && this.getInput('ELSE')) {\n            Blockly.Mutator.reconnect(else_statement_connection, this, 'ELSE');\n        }\n    },\n    modifyElse(is_add) {\n        const update = () => {\n            this.else_count += is_add ? 1 : -1;\n        };\n\n        this.storeConnections();\n        this.update(update);\n        this.reconnectChildBlocks();\n    },\n    modifyElseIf(is_add, opt_idx) {\n        this.storeConnections(opt_idx);\n\n        const update = () => {\n            this.else_if_count += is_add ? 1 : -1;\n        };\n\n        this.update(update);\n        this.reconnectChildBlocks();\n    },\n    getRequiredValueInputs() {\n        const required_inputs = {};\n        this.inputList\n            .filter(input => /^IF[0-9]*?$/.test(input.name))\n            .forEach(input => (required_inputs[input.name] = null));\n\n        return required_inputs;\n    },\n    getIfInputNames: idx => {\n        return {\n            IF_LABEL: `IF_LABEL${idx}`,\n            IF: `IF${idx}`,\n            THEN_LABEL: `THEN_LABEL${idx}`,\n            DELETE_ICON: `DELETE_ICON${idx}`,\n            DO: `DO${idx}`,\n        };\n    },\n};\n\nBlockly.JavaScript.controls_if = block => {\n    // If/elseif/else condition.\n    let n = 0;\n    let code = '';\n\n    do {\n        const condition = Blockly.JavaScript.valueToCode(block, `IF${n}`, Blockly.JavaScript.ORDER_NONE) || 'false';\n\n        // i.e. (else)? if { // code }\n        const keyword = n > 0 ? 'else if' : 'if';\n        code += `\n        ${keyword} (${condition}) {\n            ${Blockly.JavaScript.statementToCode(block, `DO${n}`)}\n        }`;\n        n++;\n    } while (block.getInput(`IF${n}`));\n\n    if (block.getInput('ELSE')) {\n        code += `\n        else {\n            ${Blockly.JavaScript.statementToCode(block, 'ELSE')}\n        }`;\n    }\n\n    return `${code}\\n`;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.logic_boolean = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'BOOL',\n                    options: [\n                        [localize('true'), 'TRUE'],\n                        [localize('false'), 'FALSE'],\n                    ],\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns either True or False'),\n            category: Blockly.Categories.Logic,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('True-False'),\n            description: localize('This is a single block that returns a boolean value, either true or false.'),\n        };\n    },\n};\n\nBlockly.JavaScript.logic_boolean = block => {\n    const code = block.getFieldValue('BOOL') === 'TRUE' ? 'true' : 'false';\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.logic_operation = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'A',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        [localize('and'), 'AND'],\n                        [localize('or'), 'OR'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'B',\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Performs selected logic operation'),\n            category: Blockly.Categories.Logic,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Logic operation'),\n            description: localize('This block performs the \"AND\" or the \"OR\" logic operation.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            A: null,\n            B: null,\n        };\n    },\n};\n\nBlockly.JavaScript.logic_operation = block => {\n    const selectedOperator = block.getFieldValue('OP');\n\n    let operator, order;\n\n    if (selectedOperator === 'AND') {\n        operator = '&&';\n        order = Blockly.JavaScript.ORDER_LOGICAL_AND;\n    } else if (selectedOperator === 'OR') {\n        operator = '||';\n        order = Blockly.JavaScript.ORDER_LOGICAL_OR;\n    }\n\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'A', Blockly.JavaScript.ORDER_ATOMIC) || 'false';\n    const argument1 = Blockly.JavaScript.valueToCode(block, 'B', Blockly.JavaScript.ORDER_ATOMIC) || 'false';\n\n    const code = `${argument0} ${operator} ${argument1}`;\n    return [code, order];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.logic_null = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: 'null',\n            output: null,\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block assigns a null value to an item or statement.'),\n            category: Blockly.Categories.Logic,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Null'),\n            description: localize('This block assigns a null value to an item or statement.'),\n        };\n    },\n};\nBlockly.JavaScript.logic_null = () => ['null', Blockly.JavaScript.ORDER_ATOMIC];\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.logic_ternary = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('test {{ condition }}', { condition: '%1' }),\n            message1: localize('if true {{ return_value }}', { return_value: '%1' }),\n            message2: localize('if false {{ return_value }}', { return_value: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'IF',\n                    check: 'Boolean',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_value',\n                    name: 'THEN',\n                },\n            ],\n            args2: [\n                {\n                    type: 'input_value',\n                    name: 'ELSE',\n                },\n            ],\n            output: null,\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize(\n                'This block tests if a given value is true or false and returns True or False accordingly.'\n            ),\n            category: Blockly.Categories.Logic,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Test value'),\n            description: localize(\n                'This block tests if a given value is true or false and returns True or False accordingly.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            IF: null,\n            THEN: null,\n            ELSE: null,\n        };\n    },\n};\n\nBlockly.JavaScript.logic_ternary = block => {\n    const valueIf = Blockly.JavaScript.valueToCode(block, 'IF', Blockly.JavaScript.ORDER_CONDITIONAL) || 'false';\n    const valueThen = Blockly.JavaScript.valueToCode(block, 'THEN', Blockly.JavaScript.ORDER_CONDITIONAL) || 'null';\n    const valueElse = Blockly.JavaScript.valueToCode(block, 'ELSE', Blockly.JavaScript.ORDER_CONDITIONAL) || 'null';\n\n    const code = `(${valueIf} ? ${valueThen} : ${valueElse})`;\n    return [code, Blockly.JavaScript.ORDER_CONDITIONAL];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.logic_negate = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('not {{ boolean }}', { boolean: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'BOOL',\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Converts a given True or False to the opposite value'),\n            category: Blockly.Categories.Logic,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Logic negation'),\n            description: localize('This block converts the boolean value (true or false) to its opposite.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            BOOL: null,\n        };\n    },\n};\n\nBlockly.JavaScript.logic_negate = block => {\n    const order = Blockly.JavaScript.ORDER_LOGICAL_NOT;\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'BOOL', order) || 'true';\n\n    const code = `!${argument0}`;\n    return [code, order];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_change = {\n    /**\n     * Initializes the block, in most cases this calls the jsonInit function, in some\n     * cases it may add extra properties to the block object.\n     * https://developers.google.com/blockly/reference/js/Blockly.Block#jsonInit\n     */\n    init() {\n        this.jsonInit(this.definition());\n    },\n    /**\n     * Block definitions describe how a block looks and behaves, including the text,\n     * the colour, the shape, and what other blocks it can connect to. We've separated\n     * the block definition from the init function so we can search through it.\n     * https://developers.google.com/blockly/guides/create-custom-blocks/define-blocks\n     */\n    definition() {\n        return {\n            message0: localize('change {{ variable }} by {{ number }}', {\n                variable: '%1',\n                number: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VAR',\n                    variable: localize('item'),\n                },\n                {\n                    type: 'input_value',\n                    name: 'DELTA',\n                    check: 'Number',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('This block adds the given number to the selected variable'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    /**\n     * Meta returns an object with with properties that contain human readable strings,\n     * these strings are used in the flyout help content, as well as used for searching\n     * for specific blocks.\n     */\n    meta() {\n        return {\n            display_name: localize('Change variable'),\n            description: localize('This block adds the given number to the selected variable.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            DELTA: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_change = block => {\n    const variable = block.getFieldValue('VAR');\n    // eslint-disable-next-line no-underscore-dangle\n    const argument0 = Blockly.JavaScript.variableDB_.getName(variable, Blockly.Variables.NAME_TYPE);\n    const argument1 = Blockly.JavaScript.valueToCode(block, 'DELTA', Blockly.JavaScript.ORDER_ADDITION) || '0';\n    const code = `${argument0} = (typeof ${argument0} === 'number' ? ${argument0} : 0) + ${argument1};`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_constant = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CONSTANT',\n                    options: [\n                        ['\\u03C0', 'PI'],\n                        ['\\u2107', 'E'],\n                        ['\\u03d5', 'GOLDEN_RATIO'],\n                        ['sqrt(2)', 'SQRT2'],\n                        ['sqrt(\\u00bd)', 'SQRT1_2'],\n                        ['\\u221e', 'INFINITY'],\n                    ],\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you the selected constant values.'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Mathematical constants'),\n            description: localize('This block gives you the selected constant values.'),\n        };\n    },\n};\n\nBlockly.JavaScript.math_constant = block => {\n    const constant = block.getFieldValue('CONSTANT');\n\n    let code, order;\n\n    if (constant === 'PI') {\n        code = 'Math.PI';\n        order = Blockly.JavaScript.ORDER_MEMBER;\n    } else if (constant === 'E') {\n        code = 'Math.E';\n        order = Blockly.JavaScript.ORDER_MEMBER;\n    } else if (constant === 'GOLDEN_RATIO') {\n        code = '(1 + Math.sqrt(5)) / 2';\n        order = Blockly.JavaScript.ORDER_DIVISION;\n    } else if (constant === 'SQRT2') {\n        code = 'Math.SQRT2';\n        order = Blockly.JavaScript.ORDER_MEMBER;\n    } else if (constant === 'SQRT1_2') {\n        code = 'Math.SQRT1_2';\n        order = Blockly.JavaScript.ORDER_MEMBER;\n    } else if (constant === 'INFINITY') {\n        code = 'Infinity';\n        order = Blockly.JavaScript.ORDER_ATOMIC;\n    }\n\n    return [code, order];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_constrain = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('constrain {{ number }} low {{ low_number }} high {{ high_number }}', {\n                number: '%1',\n                low_number: '%2',\n                high_number: '%3',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                    check: 'Number',\n                },\n                {\n                    type: 'input_value',\n                    name: 'LOW',\n                    check: 'Number',\n                },\n                {\n                    type: 'input_value',\n                    name: 'HIGH',\n                    check: 'Number',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block constrains a given number so that it is within a set range.'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Constrain within a range'),\n            description: localize('This block constrains a given number so that it is within a set range.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: null,\n            LOW: null,\n            HIGH: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_constrain = block => {\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_COMMA) || '0';\n    const argument1 = Blockly.JavaScript.valueToCode(block, 'LOW', Blockly.JavaScript.ORDER_COMMA) || '0';\n    const argument2 = Blockly.JavaScript.valueToCode(block, 'HIGH', Blockly.JavaScript.ORDER_COMMA) || '0';\n\n    const code = `Math.min(Math.max(${argument0}, ${argument1}), ${argument2})`;\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_modulo = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('remainder of {{ number1 }}  {{ number2 }}', {\n                number1: '%1',\n                number2: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'DIVIDEND',\n                    check: 'Number',\n                },\n                {\n                    type: 'input_value',\n                    name: 'DIVISOR',\n                    check: 'Number',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the remainder after a division'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Remainder after division'),\n            description: localize('Returns the remainder after the division of the given numbers.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            DIVIDEND: null,\n            DIVISOR: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_modulo = block => {\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'DIVIDEND', Blockly.JavaScript.ORDER_MODULUS) || '0';\n    const argument1 = Blockly.JavaScript.valueToCode(block, 'DIVISOR', Blockly.JavaScript.ORDER_MODULUS) || '0';\n\n    const code = `${argument0} % ${argument1}`;\n    return [code, Blockly.JavaScript.ORDER_MODULUS];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_number = {\n    init() {\n        this.jsonInit(this.definition());\n\n        const fieldInput = this.getField('NUM');\n        fieldInput.setValidator(input => this.numberValidator(input));\n    },\n    definition() {\n        return {\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_number',\n                    name: 'NUM',\n                    value: 0,\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Please use `.` as a decimal separator for fractional numbers.'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Number'),\n            description: localize(\n                'Enter an integer or fractional number into this block. Please use `.` as a decimal separator for fractional numbers.'\n            ),\n        };\n    },\n    numberValidator(input) {\n        if (/^-?([0][.]|[0-9]+[.])?([0]|[1-9]){1,}$/.test(input) && input < Number.MAX_SAFE_INTEGER) {\n            return undefined;\n        }\n        return null;\n    },\n};\n\nBlockly.JavaScript.math_number = block => {\n    const code = block.getFieldValue('NUM');\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_number_positive = {\n    init: Blockly.Blocks.math_number.init,\n    definition: Blockly.Blocks.math_number.definition,\n    meta() {\n        return {\n            display_name: localize('Math Number Positive'),\n            description: localize('Math Number Description'),\n        };\n    },\n    numberValidator(input) {\n        if (/^([0][.]|[0-9]+[.])?([0]|[1-9]){1,}$/.test(input) && input < Number.MAX_SAFE_INTEGER) {\n            return undefined;\n        }\n        return null;\n    },\n};\n\nBlockly.JavaScript.math_number_positive = Blockly.JavaScript.math_number;\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_number_property = {\n    init() {\n        this.jsonInit(this.definition());\n\n        this.setOnChange(event => {\n            if (event.name === 'PROPERTY') {\n                const hasDivisorInput = this.getFieldValue('PROPERTY') === 'DIVISIBLE_BY';\n                this.updateShape(hasDivisorInput);\n            }\n        });\n    },\n    definition() {\n        return {\n            message0: localize('{{ number }} is {{ type }}', {\n                number: '%1',\n                type: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'NUMBER_TO_CHECK',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'PROPERTY',\n                    options: [\n                        [localize('even'), 'EVEN'],\n                        [localize('odd'), 'ODD'],\n                        [localize('prime'), 'PRIME'],\n                        [localize('whole'), 'WHOLE'],\n                        [localize('positive'), 'POSITIVE'],\n                        [localize('negative'), 'NEGATIVE'],\n                        [localize('divisible by'), 'DIVISIBLE_BY'],\n                    ],\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            toolip: localize('This block tests a given number according to the selection'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Test a number'),\n            description: localize(\n                'This block tests a given number according to the selection and it returns a value of True or False. Available options: Even, Odd, Prime, Whole, Positive, Negative, Divisible'\n            ),\n        };\n    },\n    domToMutation(xmlElement) {\n        const hasDivisorInput = xmlElement.getAttribute('divisor_input') === 'true';\n        this.updateShape(hasDivisorInput);\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        const divisorInput = this.getFieldValue('PROPERTY') === 'DIVISIBLE_BY';\n        container.setAttribute('divisor_input', divisorInput);\n        return container;\n    },\n    updateShape(hasDivisorInput) {\n        const inputExists = this.getInput('DIVISOR');\n\n        if (hasDivisorInput) {\n            if (!inputExists) {\n                this.appendValueInput('DIVISOR').setCheck('Number');\n                this.initSvg();\n                this.render(false);\n            }\n        } else {\n            this.removeInput('DIVISOR');\n        }\n    },\n    getRequiredValueInputs() {\n        return {\n            NUMBER_TO_CHECK: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_number_property = block => {\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'NUMBER_TO_CHECK', Blockly.JavaScript.ORDER_MODULUS) || '0';\n    const property = block.getFieldValue('PROPERTY');\n\n    let code;\n\n    if (property === 'PRIME') {\n        // eslint-disable-next-line no-underscore-dangle\n        const functionName = Blockly.JavaScript.provideFunction_('mathIsPrime', [\n            // eslint-disable-next-line no-underscore-dangle\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(n) {\n                // https://en.wikipedia.org/wiki/Primality_test#Naive_methods\n                if (n == 2 || n == 3) {\n                    return true;\n                }\n\n                // False if n is NaN, negative, is 1, or not whole.\n                // And false if n is divisible by 2 or 3.\n                if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {\n                    return false;\n                }\n\n                // Check all the numbers of form 6k +/- 1, up to sqrt(n).\n                for (var x  = 6; x <= Math.sqrt(n) + 1; x += 6) {\n                    if (n % (x - 1) == 0 || n % (x + 1) == 0) {\n                        return false;\n                    }\n                }\n                return true;\n            }`,\n        ]);\n        code = `${functionName}(${argument0})`;\n        return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n    } else if (property === 'EVEN') {\n        code = `${argument0} % 2 === 0`;\n    } else if (property === 'ODD') {\n        code = `${argument0} % 2 === 1`;\n    } else if (property === 'WHOLE') {\n        code = `${argument0} % 1 === 0`;\n    } else if (property === 'POSITIVE') {\n        code = `${argument0} > 0`;\n    } else if (property === 'NEGATIVE') {\n        code = `${argument0} < 0`;\n    } else if (property === 'DIVISIBLE_BY') {\n        const divisor = Blockly.JavaScript.valueToCode(block, 'DIVISOR', Blockly.JavaScript.ORDER_MODULUS) || '0';\n        code = `${argument0} % ${divisor} == 0`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_EQUALITY];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_on_list = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('{{ calculation }} of list {{ input_list }}', {\n                calculation: '%1',\n                input_list: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        [localize('sum'), 'SUM'],\n                        [localize('min'), 'MIN'],\n                        [localize('max'), 'MAX'],\n                        [localize('average'), 'AVERAGE'],\n                        [localize('median'), 'MEDIAN'],\n                        [localize('mode'), 'MODE'],\n                        [localize('antimode'), 'ANTIMODE'],\n                        [localize('standard deviation'), 'STD_DEV'],\n                        [localize('random item'), 'RANDOM'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'LIST',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Aggregate operations'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Aggregate operations'),\n            description: localize(\n                'This block performs the following operations on a given list: sum, minimum, maximum, average, median, mode, antimode, standard deviation, random item.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        const type_list = [\n            'variables_get',\n            'lists_getSublist',\n            'ohlc_values',\n            'lists_split',\n            'ohlc',\n            'ticks',\n            'lists_repeat',\n            'lastDigitList',\n            'ohlc_values_in_list',\n            'procedures_callreturn',\n        ];\n        return {\n            LIST: () => {\n                return !type_list.includes(this.childBlocks_[0]?.type);\n            },\n        };\n    },\n};\n\n/* eslint-disable no-underscore-dangle */\nBlockly.JavaScript.math_on_list = block => {\n    const operation = block.getFieldValue('OP');\n\n    let code, list;\n\n    if (operation === 'SUM') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathMean', [\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n                var final_list = [];\n                return recursiveList(myList, final_list).reduce(function(x, y) {\n                    return x + y;\n                },0);\n            }`,\n        ]);\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_NONE) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'MIN') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathMean', [\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n                var final_list = [];\n                return Math.min.apply(null, (recursiveList(myList, final_list) || [0]));\n            }`,\n        ]);\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_COMMA) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'MAX') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathMean', [\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n                var final_list = [];\n                return Math.max.apply(null, (recursiveList(myList, final_list) || [0]));\n            }`,\n        ]);\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_COMMA) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'AVERAGE') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathMean', [\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n                var final_list = [];\n                return recursiveList(myList, final_list).reduce(function(x, y) {\n                    return x + y;\n                }, 0) / myList.length;\n            }`,\n        ]);\n\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_NONE) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'MEDIAN') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathMedian', [\n            `\n            Array.prototype.swap = function (x,y) {\n                var b = this[x];\n                this[x] = this[y];\n                this[y] = b;\n                return this;\n            }\n\n            function partition(arr, start, end){\n                var pivotValue = arr[end];\n                var pivotIndex = start;\n                for (var i = start; i < end; i++) {\n                    if (arr[i] < pivotValue) {\n                    arr.swap(pivotIndex, i);\n                    pivotIndex++;\n                    }\n                }\n                arr.swap(end, pivotIndex);\n                return pivotIndex;\n            };\n\n            function quickSort(arr) {\n                var stack = [];\n                stack.push(0);\n                stack.push(arr.length - 1);\n\n                while(stack[stack.length - 1] >= 0){\n                    end = stack.pop();\n                    start = stack.pop();\n                    pivotIndex = partition(arr, start, end);\n                    if (pivotIndex - 1 > start){\n                        stack.push(start);\n                        stack.push(pivotIndex - 1);\n                    }\n                    if (pivotIndex + 1 < end){\n                        stack.push(pivotIndex + 1);\n                        stack.push(end);\n                    }\n                }\n\n            }\n\n            function calculateMedian(final_list){\n                quickSort(final_list);\n\n                if (final_list.length % 2 == 0) {\n                    return (final_list[final_list.length / 2 - 1] + final_list[final_list.length / 2]) / 2;\n                }\n                return final_list[(final_list.length - 1) / 2];\n            }\n\n            function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n                var final_list = [];\n                return calculateMedian(recursiveList(myList, final_list));\n            }`,\n        ]);\n\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_NONE) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'MODE') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathModes', [\n            `\n            function calculateMathMode(values){\n                var modes = [];\n                var counts = [];\n                var maxCount = 0;\n\n                for (var i = 0; i < values.length; i++) {\n                    var value = values[i];\n                    var found = false;\n                    var thisCount;\n\n                    for (var j = 0; j < counts.length; j++) {\n                        if (counts[j][0] === value) {\n                            thisCount = ++counts[j][1];\n                            found = true;\n                            break;\n                        }\n                    }\n\n                    if (!found) {\n                        counts.push([value, 1]);\n                        thisCount = 1;\n                    }\n                    maxCount = Math.max(thisCount, maxCount);\n                }\n\n                for (var j = 0; j < counts.length; j++) {\n                    if (counts[j][1] == maxCount) {\n                        modes.push(counts[j][0]);\n                    }\n                }\n\n                return modes;\n            }\n\n            function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(list) {\n                var final_list = [];\n                return calculateMathMode(recursiveList(list, final_list));\n            }`,\n        ]);\n\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_NONE) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'ANTIMODE') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathAntiMode', [\n            `\n            function calculateMathAntiMode(values){\n                var antiMode = [];\n                var counts = [];\n                var minCount = 1;\n                var countArray = [];\n\n                for (var i = 0; i < values.length; i++) {\n                    var value = values[i];\n                    var found = false;\n                    var thisCount;\n\n                    for (var j = 0; j < counts.length; j++) {\n                        if (counts[j][0] === value) {\n                            thisCount = ++counts[j][1];\n                            found = true;\n                            break;\n                        }\n                    }\n\n                    if (!found) {\n                        counts.push([value, 1]);\n                        thisCount = 1;\n                    }\n                }\n\n                 minCount = Math.min.apply(null, counts.map(function(element) {\n                     return element[1];\n                 }));\n\n                 for (var j = 0; j < counts.length; j++) {\n                    if (counts[j][1] == minCount) {\n                        antiMode.push(counts[j][0]);\n                    }\n                }\n\n                return antiMode;\n            }\n\n            function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(list) {\n                var final_list = [];\n                return calculateMathAntiMode(recursiveList(list, final_list));\n            }`,\n        ]);\n\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_NONE) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'STD_DEV') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathStandardDeviation', [\n            `\n            function calculateMathStandardDeviation(numbers){\n                var n = numbers.length;\n                if (!n) {\n                    return null;\n                }\n\n                var mean = numbers.reduce(function(x, y) {\n                    return x + y;\n                }, 0) / n;\n\n                var variance = 0;\n                for (var j = 0; j < n; j++) {\n                    variance += Math.pow(numbers[j] - mean, 2);\n                }\n                variance = variance / n;\n                return Math.sqrt(variance);\n            }\n\n            function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(list) {\n                var final_list = [];\n                return calculateMathStandardDeviation(recursiveList(list, final_list));\n            }`,\n        ]);\n\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_NONE) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'RANDOM') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathRandomList', [\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(list) {\n                var final_list = [];\n                var final_list = recursiveList(list, final_list);\n                var x = Math.floor(Math.random() * final_list.length);\n                return final_list[x];\n            }`,\n        ]);\n\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_NONE) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_random_float = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('random fraction'),\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you a random fraction between 0.0 to 1.0'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Random fraction number'),\n            description: localize('This block gives you a random fraction between 0.0 to 1.0.'),\n        };\n    },\n};\n\nBlockly.JavaScript.math_random_float = () => ['Math.random()', Blockly.JavaScript.ORDER_FUNCTION_CALL];\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_random_int = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('random integer from {{ start_number }} to {{ end_number }}', {\n                start_number: '%1',\n                end_number: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'FROM',\n                    check: 'Number',\n                },\n                {\n                    type: 'input_value',\n                    name: 'TO',\n                    check: 'Number',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you a random number from within a set range'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Random integer'),\n            description: localize('This block gives you a random number from within a set range.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            FROM: null,\n            TO: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_random_int = block => {\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'FROM', Blockly.JavaScript.ORDER_COMMA) || '0';\n    const argument1 = Blockly.JavaScript.valueToCode(block, 'TO', Blockly.JavaScript.ORDER_COMMA) || '0';\n\n    // eslint-disable-next-line no-underscore-dangle\n    const functionName = Blockly.JavaScript.provideFunction_('mathRandomInt', [\n        // eslint-disable-next-line no-underscore-dangle\n        `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(a, b) {\n            if (a > b) {\n                // Swap a and b to ensure a is smaller.\n                var c = a;\n                a = b;\n                b = c;\n            }\n            return Math.floor(Math.random() * (b - a + 1) + a);\n        }`,\n    ]);\n\n    const code = `${functionName}(${argument0}, ${argument1})`;\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\n// https://github.com/google/blockly/blob/master/generators/javascript/math.js\nBlockly.Blocks.math_round = {\n    /**\n     * Check if a number is even, odd, prime, whole, positive, or negative\n     * or if it is divisible by certain number. Returns true or false.\n     * @this Blockly.Block\n     */\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        ['round', 'ROUND'],\n                        ['round up', 'ROUNDUP'],\n                        ['round down', 'ROUNDDOWN'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'NUM',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Rounds a given number to an integer'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Rounding operation'),\n            description: localize(\n                'This block rounds a given number according to the selection: round, round up, round down.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            NUM: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_round = block => {\n    const operation = block.getFieldValue('OP');\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'NUM', Blockly.JavaScript.ORDER_ATOMIC) || '0';\n\n    let code;\n\n    if (operation === 'ROUND') {\n        code = `Math.round(${argument0})`;\n    } else if (operation === 'ROUNDUP') {\n        code = `Math.ceil(${argument0})`;\n    } else if (operation === 'ROUNDDOWN') {\n        code = `Math.floor(${argument0})`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_arithmetic = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'A',\n                    check: 'Number',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        ['+', 'ADD'],\n                        ['-', 'MINUS'],\n                        ['*', 'MULTIPLY'],\n                        ['/', 'DIVIDE'],\n                        ['^', 'POWER'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'B',\n                    check: 'Number',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block performs arithmetic operations between two numbers.'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Arithmetical operations'),\n            description: localize('This block performs arithmetic operations between two numbers.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            A: null,\n            B: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_arithmetic = block => {\n    const operators = {\n        ADD: ['+', Blockly.JavaScript.ORDER_ADDITION],\n        MINUS: ['-', Blockly.JavaScript.ORDER_SUBTRACTION],\n        MULTIPLY: ['*', Blockly.JavaScript.ORDER_MULTIPLICATION],\n        DIVIDE: ['/', Blockly.JavaScript.ORDER_DIVISION],\n        POWER: [null, Blockly.JavaScript.ORDER_COMMA], // Handle power separately.\n    };\n\n    const tuple = operators[block.getFieldValue('OP')];\n    const operator = tuple[0];\n    const order = tuple[1];\n\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'A', order) || '0';\n    const argument1 = Blockly.JavaScript.valueToCode(block, 'B', order) || '0';\n\n    let code;\n\n    // Power in JavaScript requires a special case since it has no operator.\n    if (!operator) {\n        code = `Math.pow(${argument0}, ${argument1})`;\n        return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n    }\n\n    code = `${argument0} ${operator} ${argument1}`;\n    return [code, order];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_single = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        [localize('square root'), 'ROOT'],\n                        [localize('absolute'), 'ABS'],\n                        ['-', 'NEG'],\n                        ['ln', 'LN'],\n                        ['log10', 'LOG10'],\n                        ['e^', 'EXP'],\n                        ['10^', 'POW10'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'NUM',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Operations on a given number'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Operations on a given number'),\n            description: localize('This block performs the selected operations to a given number.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            NUM: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_single = block => {\n    const operator = block.getFieldValue('OP');\n\n    let code, arg;\n\n    if (operator === 'NEG') {\n        // Negation is a special case given its different operator precedence.\n        arg = Blockly.JavaScript.valueToCode(block, 'NUM', Blockly.JavaScript.ORDER_UNARY_NEGATION) || '0';\n        if (arg[0] === '-') {\n            // --3 is not legal in JS\n            arg = ` ${arg}`;\n        }\n        code = `-${arg}`;\n        return [code, Blockly.JavaScript.ORDER_UNARY_NEGATION];\n    }\n\n    if (['SIN', 'COS', 'TAN'].includes(operator)) {\n        arg = Blockly.JavaScript.valueToCode(block, 'NUM', Blockly.JavaScript.ORDER_DIVISION) || '0';\n    } else {\n        arg = Blockly.JavaScript.valueToCode(block, 'NUM', Blockly.JavaScript.ORDER_NONE) || '0';\n    }\n\n    // First, handle cases which generate values that don't need parentheses\n    // wrapping the code.\n    if (operator === 'ABS') {\n        code = `Math.abs(${arg})`;\n    } else if (operator === 'ROOT') {\n        code = `Math.sqrt(${arg})`;\n    } else if (operator === 'LN') {\n        code = `Math.log(${arg})`;\n    } else if (operator === 'EXP') {\n        code = `Math.pow(Math.E, ${arg})`;\n    } else if (operator === 'POW10') {\n        code = `Math.pow(10, ${arg})`;\n    } else if (operator === 'ROUND') {\n        code = `Math.round(${arg})`;\n    } else if (operator === 'ROUNDUP') {\n        code = `Math.ceil(${arg})`;\n    } else if (operator === 'ROUNDDOWN') {\n        code = `Math.floor(${arg})`;\n    } else if (operator === 'SIN') {\n        code = `Math.sin(${arg} / 180 * Math.PI)`;\n    } else if (operator === 'COS') {\n        code = `Math.cos(${arg} / 180 * Math.PI)`;\n    } else if (operator === 'TAN') {\n        code = `Math.tan(${arg} / 180 * Math.PI)`;\n    }\n\n    if (code) {\n        return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n    }\n\n    // Second, handle cases which generate values that may need parentheses\n    // wrapping the code.\n    if (operator === 'LOG10') {\n        code = `Math.log(${arg}) / Math.log(10)`;\n    } else if (operator === 'ASIN') {\n        code = `Math.asin(${arg}) / Math.PI * 180`;\n    } else if (operator === 'ACOS') {\n        code = `Math.acos(${arg}) / Math.PI * 180`;\n    } else if (operator === 'ATAN') {\n        code = `Math.atan(${arg}) / Math.PI * 180`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_DIVISION];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_trig = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        ['sin', 'SIN'],\n                        ['cos', 'COS'],\n                        ['tan', 'TAN'],\n                        ['asin', 'ASIN'],\n                        ['acos', 'ACOS'],\n                        ['atan', 'ATAN'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'NUM',\n                    check: 'Number',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Trigonometric functions'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Trigonometric functions'),\n            description: localize('This block performs trigonometric functions.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            NUM: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_trig = Blockly.JavaScript.math_single;\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.text = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_input',\n                    name: 'TEXT',\n                },\n            ],\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Enter some text here'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Text'),\n            description: localize('A  block that can contain text.'),\n        };\n    },\n};\n\nBlockly.JavaScript.text = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const code = Blockly.JavaScript.quote_(block.getFieldValue('TEXT'));\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { plusIconDark } from '../images';\nimport { runGroupedEvents } from '../../utils';\n\nBlockly.Blocks.text_join = {\n    protected_statements: ['STACK'],\n    allowed_children: ['text_statement'],\n    init() {\n        const field_image = new Blockly.FieldImage(plusIconDark, 25, 25, '', this.onIconClick.bind(this));\n        this.jsonInit(this.definition());\n        this.appendDummyInput('ADD_ICON').appendField(field_image);\n        this.moveInputBefore('ADD_ICON', 'STACK');\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to create text with', { variable: '%1' }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: localize('text'),\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STACK',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Text join'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Text join'),\n            description: localize(\n                'Creates a single text string from combining the text value of each attached item, without spaces in between. The number of items can be added accordingly.'\n            ),\n        };\n    },\n    onIconClick() {\n        if (this.workspace.options.readOnly || this.isInFlyout) {\n            return;\n        }\n\n        runGroupedEvents(false, () => {\n            const text_block = this.workspace.newBlock('text_statement');\n            text_block.required_parent_id = this.id;\n            text_block.setMovable(true);\n            text_block.initSvg();\n            text_block.render();\n\n            const shadow_block = this.workspace.newBlock('text');\n            shadow_block.setShadow(true);\n            shadow_block.setFieldValue('', 'TEXT');\n            shadow_block.initSvg();\n            shadow_block.render();\n\n            const text_input = text_block.getInput('TEXT');\n            text_input.connection.connect(shadow_block.outputConnection);\n\n            const connection = this.getLastConnectionInStatement('STACK');\n            connection.connect(text_block.previousConnection);\n        });\n\n        // TODO: Open editor and focus so user can add string right away?\n        // const inputField = shadow_block.getField('TEXT');\n        // inputField.showEditor_();\n    },\n    onchange: Blockly.Blocks.lists_create_with.onchange,\n};\n\n// Blockly.JavaScript.text_join = Blockly.JavaScript.lists_create_with;\nBlockly.JavaScript.text_join = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const blocks_in_stack = block.getBlocksInStatement('STACK');\n    const elements = blocks_in_stack.map(b => {\n        const value = Blockly.JavaScript[b.type](b);\n        return Array.isArray(value) ? value[0] : value;\n    });\n\n    const code = `${var_name} = [${elements}].join(\" \");\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { minusIconDark } from '../images';\nimport { runIrreversibleEvents } from '../../utils';\n\nBlockly.Blocks.text_statement = {\n    required_parent_type: 'text_join',\n    init() {\n        this.required_parent_id = '';\n        const field_image = new Blockly.FieldImage(minusIconDark, 25, 25, '', this.onIconClick.bind(this));\n        this.jsonInit(this.definition());\n        this.appendDummyInput('REMOVE_ICON').appendField(field_image);\n    },\n    definition() {\n        return {\n            message0: '%1',\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'TEXT',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Text Statement'),\n            description: '',\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        const surround_parent = this.getSurroundParent();\n\n        if (event.type === Blockly.Events.BLOCK_CREATE) {\n            this.setMovable(true);\n            if (!this.required_parent_id && surround_parent?.type === this.required_parent_type) {\n                this.required_parent_id = surround_parent.id;\n            }\n        }\n\n        if (event.type === Blockly.Events.END_DRAG) {\n            const stack_blocks = Blockly.getMainWorkspace().getBlockById(event.blockId);\n\n            if (this.required_parent_id && (!surround_parent || surround_parent.id !== this.required_parent_id)) {\n                const original_parent = Blockly.getMainWorkspace().getBlockById(this.required_parent_id);\n\n                if (original_parent) {\n                    const first_block_in_stack = original_parent.getInputTargetBlock('STACK');\n\n                    if (first_block_in_stack) {\n                        const last_connection = original_parent.getLastConnectionInStatement('STACK');\n                        runIrreversibleEvents(() => {\n                            last_connection.connect(this.previousConnection);\n                        });\n                    } else {\n                        runIrreversibleEvents(() => {\n                            original_parent.getInput('STACK').connection.connect(stack_blocks.previousConnection);\n                        });\n                    }\n                }\n            }\n        }\n    },\n    onIconClick: Blockly.Blocks.lists_statement.onIconClick,\n};\n\nBlockly.JavaScript.text_statement = block => {\n    const code = `String(${Blockly.JavaScript.valueToCode(block, 'TEXT', Blockly.JavaScript.ORDER_ATOMIC)})`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_append = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('to {{ variable }} append text {{ input_text }}', {\n                variable: '%1',\n                input_text: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VAR',\n                    variable: localize('text'),\n                },\n                {\n                    type: 'input_value',\n                    name: 'TEXT',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Appends a given text to a variable'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Text Append'),\n            description: localize('Appends a given text to a variable.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TEXT: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_append = block => {\n    const forceString = value => {\n        const strRegExp = /^\\s*'([^']|\\\\')*'\\s*$/;\n        if (strRegExp.test(value)) {\n            return value;\n        }\n        return `String(${value})`;\n    };\n\n    // eslint-disable-next-line no-underscore-dangle\n    const varName = Blockly.JavaScript.variableDB_.getName(block.getFieldValue('VAR'), Blockly.Variables.NAME_TYPE);\n    const value = Blockly.JavaScript.valueToCode(block, 'TEXT', Blockly.JavaScript.ORDER_NONE) || \"''\";\n\n    const code = `${varName} += ${forceString(value)};\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_length = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('length of {{ input_text }}', { input_text: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Text String Length'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Text String Length'),\n            description: localize(\n                'Returns the number of characters of a given string of text, including numbers, spaces, punctuation marks, and symbols.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_length = block => {\n    const text = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_FUNCTION_CALL) || \"''\";\n\n    const code = `${text}.length`;\n    return [code, Blockly.JavaScript.ORDER_MEMBER];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_isEmpty = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('text {{ input_text }} is empty', { input_text: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                    check: ['String'],\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Tests if a given text string is empty'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Text Is empty'),\n            description: localize('Tests whether a string of text is empty. Returns a boolean value (true or false).'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_isEmpty = block => {\n    const text = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_MEMBER) || \"''\";\n    const isVariable = block.workspace.getAllVariables().findIndex(variable => variable.name === text) !== -1;\n\n    const code = isVariable ? `!${text} || !${text}.length` : `!${text}.length`;\n    return [code, Blockly.JavaScript.ORDER_LOGICAL_NOT];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_indexOf = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize(\n                'in text {{ input_text1 }} find {{ first_or_last }} occurence of text {{ input_text2 }}',\n                {\n                    input_text1: '%1',\n                    first_or_last: '%2',\n                    input_text2: '%3',\n                }\n            ),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'END',\n                    options: [\n                        [localize('first'), 'FIRST'],\n                        [localize('last'), 'LAST'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'FIND',\n                },\n            ],\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Search for a given string'),\n            cateogry: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Search for string'),\n            description: localize(\n                'Searches through a string of text for a specific occurrence of a given character or word, and returns the position.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: emptyTextValidator,\n            FIND: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_indexOf = block => {\n    const functionName = block.getFieldValue('END') === 'FIRST' ? 'indexOf' : 'lastIndexOf';\n    const substring = Blockly.JavaScript.valueToCode(block, 'FIND', Blockly.JavaScript.ORDER_NONE) || \"''\";\n    const text = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_MEMBER) || \"''\";\n\n    const code = `${text}.${functionName}(${substring})`;\n    if (block.workspace.options.oneBasedIndex) {\n        return [`${code} + 1`, Blockly.JavaScript.ORDER_ADDITION];\n    }\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_charAt = {\n    init() {\n        this.jsonInit(this.definition());\n\n        const dropdown = this.getField('WHERE');\n        dropdown.setValidator(value => {\n            const newAt = ['FROM_START', 'FROM_END'].includes(value);\n            if (newAt !== this.isAt) {\n                this.updateAt(newAt);\n                this.setFieldValue(value, 'WHERE');\n                return null;\n            }\n            return undefined;\n        });\n\n        this.updateAt(true);\n    },\n    definition() {\n        return {\n            message0: localize('in text %1 get %2'),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'WHERE',\n                    options: [\n                        [localize('letter #'), 'FROM_START'],\n                        [localize('letter # from end'), 'FROM_END'],\n                        [localize('first letter'), 'FIRST'],\n                        [localize('last letter'), 'LAST'],\n                        [localize('random letter'), 'RANDOM'],\n                    ],\n                },\n            ],\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns a specific character from a given string'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Get character'),\n            description: localize(\n                'Returns the specific character from a given string of text according to the selected option. '\n            ),\n        };\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        container.setAttribute('at', !!this.isAt);\n        return container;\n    },\n    domToMutation(xmlElement) {\n        const isAt = xmlElement.getAttribute('at') !== 'false';\n        this.updateAt(isAt);\n    },\n    updateAt(isAt) {\n        this.removeInput('AT', true);\n        if (isAt) {\n            this.appendValueInput('AT').setCheck('Number');\n        }\n\n        this.isAt = isAt;\n        this.initSvg();\n        this.render(false);\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: emptyTextValidator,\n            AT: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_charAt = block => {\n    const where = block.getFieldValue('WHERE') || 'FROM_START';\n    const textOrder = where === 'RANDOM' ? Blockly.JavaScript.ORDER_NONE : Blockly.JavaScript.ORDER_MEMBER;\n    const text = Blockly.JavaScript.valueToCode(block, 'VALUE', textOrder) || \"''\";\n\n    let code;\n\n    if (where === 'FROM_START') {\n        const at = Blockly.JavaScript.getAdjusted(block, 'AT');\n        // Adjust index if using one-based indices\n        code = `${text}.charAt(${at})`;\n    } else if (where === 'FROM_END') {\n        const at = Blockly.JavaScript.getAdjusted(block, 'AT', 1, true);\n        code = `${text}.slice(${at}).charAt(0)`;\n    } else if (where === 'FIRST') {\n        code = `${text}.charAt(0)`;\n    } else if (where === 'LAST') {\n        code = `${text}.slice(-1)`;\n    } else if (where === 'RANDOM') {\n        // eslint-disable-next-line no-underscore-dangle\n        const functionName = Blockly.JavaScript.provideFunction_('textRandomLetter', [\n            // eslint-disable-next-line no-underscore-dangle\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(text) {\n                var x = Math.floor(Math.random() * text.length);\n                return text[x];\n            }`,\n        ]);\n        code = `${functionName}(${text})`;\n    }\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_getSubstring = {\n    init() {\n        this.WHERE_OPTIONS_1 = [\n            [localize('letter #'), 'FROM_START'],\n            [localize('letter # from end'), 'FROM_END'],\n            [localize('first'), 'FIRST'],\n        ];\n        this.WHERE_OPTIONS_2 = [\n            [localize('letter #'), 'FROM_START'],\n            [localize('letter # from end'), 'FROM_END'],\n            [localize('last'), 'LAST'],\n        ];\n\n        this.jsonInit(this.definition());\n        this.updateAt(1, true);\n        this.updateAt(2, true);\n    },\n    definition() {\n        return {\n            message0: localize(\n                'in text {{ input_text }} get substring from {{ position1 }} {{ index1 }} to {{ position2 }} {{ index2 }}',\n                {\n                    input_text: '%1',\n                    position1: '%2',\n                    index1: '%3',\n                    position2: '%4',\n                    index2: '%5',\n                }\n            ),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'STRING',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'WHERE1',\n                    options: this.WHERE_OPTIONS_1,\n                },\n                {\n                    type: 'input_dummy',\n                    name: 'AT1',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'WHERE2',\n                    options: this.WHERE_OPTIONS_2,\n                },\n                {\n                    type: 'input_dummy',\n                    name: 'AT2',\n                },\n            ],\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns a specific portion of a given string of text.'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Get substring'),\n            description: localize('Returns a specific portion of a given string of text.'),\n        };\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        const isAt1 = this.getInput('AT1').type === Blockly.INPUT_VALUE;\n        const isAt2 = this.getInput('AT2').type === Blockly.INPUT_VALUE;\n\n        container.setAttribute('at1', isAt1);\n        container.setAttribute('at2', isAt2);\n\n        return container;\n    },\n    domToMutation(xmlElement) {\n        const isAt1 = xmlElement.getAttribute('at1') === 'true';\n        const isAt2 = xmlElement.getAttribute('at2') === 'true';\n\n        this.updateAt(1, isAt1);\n        this.updateAt(2, isAt2);\n    },\n    updateAt(n, is_at) {\n        const input = this.getInput(`AT${n}`);\n        let old_label_text;\n\n        // Keep track of initial FieldLabel, we'll restore this when\n        // input types were changed.\n        if (input) {\n            input.fieldRow.some(field => {\n                if (field instanceof Blockly.FieldLabel) {\n                    old_label_text = field.text_; // eslint-disable-line no-underscore-dangle\n                }\n            });\n            this.removeInput(`AT${n}`);\n        }\n\n        const new_input = is_at ? this.appendValueInput(`AT${n}`).setCheck('Number') : this.appendDummyInput(`AT${n}`);\n\n        if (old_label_text) {\n            new_input.insertFieldAt(0, new Blockly.FieldLabel(old_label_text));\n        }\n\n        const menu = new Blockly.FieldDropdown(this[`WHERE_OPTIONS_${n}`], value => {\n            const new_at = ['FROM_START', 'FROM_END'].includes(value);\n\n            if (new_at !== is_at) {\n                this.updateAt(n, new_at);\n                this.setFieldValue(value, `WHERE${n}`);\n\n                return null;\n            }\n\n            return undefined;\n        });\n\n        this.getInput(`AT${n}`).appendField(menu, `WHERE${n}`);\n\n        if (n === 1) {\n            this.moveInputBefore('AT1', 'AT2');\n        }\n\n        this.initSvg();\n        this.render(false);\n    },\n    getRequiredValueInputs() {\n        const hasInput = input_name => this.getInput(input_name)?.type === Blockly.INPUT_VALUE;\n        return {\n            STRING: emptyTextValidator,\n            ...(hasInput('AT1') ? { AT1: emptyTextValidator } : {}),\n            ...(hasInput('AT2') ? { AT2: emptyTextValidator } : {}),\n        };\n    },\n};\n\nBlockly.JavaScript.text_getSubstring = block => {\n    const text = Blockly.JavaScript.valueToCode(block, 'STRING', Blockly.JavaScript.ORDER_FUNCTION_CALL) || \"''\";\n    const where1 = block.getFieldValue('WHERE1');\n    const where2 = block.getFieldValue('WHERE2');\n\n    let at1, at2, code;\n\n    if (where1 === 'FIRST' && where2 === 'LAST') {\n        code = text;\n    } else if (\n        text.match(/^'?\\w+'?$/) ||\n        (where1 !== 'FROM_END' && where1 !== 'LAST' && where2 !== 'FROM_END' && where2 !== 'LAST')\n    ) {\n        switch (where1) {\n            case 'FROM_START': {\n                at1 = Blockly.JavaScript.getAdjusted(block, 'AT1');\n                break;\n            }\n            case 'FROM_END': {\n                at1 = Blockly.JavaScript.getAdjusted(block, 'AT1', 1, false, Blockly.JavaScript.ORDER_SUBTRACTION);\n                at1 = `${text}.length - ${at1}`;\n                break;\n            }\n            case 'FIRST': {\n                at1 = '0';\n                break;\n            }\n            default:\n                break;\n        }\n\n        switch (where2) {\n            case 'FROM_START': {\n                at2 = Blockly.JavaScript.getAdjusted(block, 'AT2', 1);\n                break;\n            }\n            case 'FROM_END': {\n                at2 = Blockly.JavaScript.getAdjusted(block, 'AT2', 0, false, Blockly.JavaScript.ORDER_SUBTRACTION);\n                at2 = `${text}.length - ${at2}`;\n                break;\n            }\n            case 'LAST': {\n                at2 = `${text}.length`;\n                break;\n            }\n            default:\n                break;\n        }\n\n        code = `${text}.slice(${at1}, ${at2})`;\n    } else {\n        at1 = Blockly.JavaScript.getAdjusted(block, 'AT1');\n        at2 = Blockly.JavaScript.getAdjusted(block, 'AT2');\n\n        const getIndex = (string_name, where, opt_at) => {\n            if (where === 'FIRST') {\n                return '0';\n            } else if (where === 'FROM_END') {\n                return `${string_name}.length - 1 - ${opt_at}`;\n            } else if (where === 'LAST') {\n                return `${string_name}.length - 1`;\n            }\n            return opt_at;\n        };\n        const where_pascal_case = {\n            FIRST: 'First',\n            LAST: 'Last',\n            FROM_START: 'FromStart',\n            FROM_END: 'FromEnd',\n        };\n        // eslint-disable-next-line no-underscore-dangle\n        const functionName = Blockly.JavaScript.provideFunction_(\n            `subsequence${where_pascal_case[where1]}${where_pascal_case[where2]}`,\n            [\n                // eslint-disable-next-line no-underscore-dangle\n                `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(\n                    sequence\n                    ${where1 === 'FROM_END' || where1 === 'FROM_START' ? ', at1' : ''}\n                    ${where2 === 'FROM_END' || where2 === 'FROM_START' ? ', at2' : ''}\n                ) {\n                    var start = ${getIndex('sequence', where1, 'at1')};\n                    var end   = ${getIndex('sequence', where2, 'at2')} + 1;\n                    \n                    return sequence.slice(start, end);\n                }`,\n            ]\n        );\n\n        code = `${functionName}(\n            ${text}\n            ${where1 === 'FROM_END' || where1 === 'FROM_START' ? `, ${at1}` : ''}\n            ${where2 === 'FROM_END' || where2 === 'FROM_START' ? `, ${at2}` : ''}\n        )`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_changeCase = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Transform {{ input_text }} to {{ transform_type }}', {\n                input_text: '%1',\n                transform_type: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'TEXT',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'CASE',\n                    options: [\n                        [localize('UPPER CASE'), 'UPPERCASE'],\n                        [localize('lower case'), 'LOWERCASE'],\n                        [localize('Title Case'), 'TITLECASE'],\n                    ],\n                },\n            ],\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Changes text case accordingly'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Change text case'),\n            description: localize(\n                'Changes the capitalisation of a string of text to Upper case, Lower case, Title case.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TEXT: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_changeCase = block => {\n    const operators = {\n        UPPERCASE: '.toUpperCase()',\n        LOWERCASE: '.toLowerCase()',\n        TITLECASE: null,\n    };\n    const operator = operators[block.getFieldValue('CASE')];\n    const textOrder = operator ? Blockly.JavaScript.ORDER_MEMBER : Blockly.JavaScript.ORDER_NONE;\n    const text = Blockly.JavaScript.valueToCode(block, 'TEXT', textOrder) || \"''\";\n\n    let code;\n\n    if (operator) {\n        code = `${text}${operator}`;\n    } else {\n        // eslint-disable-next-line no-underscore-dangle\n        const functionName = Blockly.JavaScript.provideFunction_('textToTitleCase', [\n            // eslint-disable-next-line no-underscore-dangle\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(str) {\n                return str.toLowerCase().split(' ').map(function(word) {\n                    return word.replace(word[0], word[0].toUpperCase());\n                }).join(' ');\n            }`,\n        ]);\n        code = `${functionName}(${text})`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_trim = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('trim spaces from {{ side }} of {{ input_text }}', { side: '%1', input_text: '%2' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'MODE',\n                    options: [\n                        [localize('both sides'), 'BOTH'],\n                        [localize('left side'), 'LEFT'],\n                        [localize('right side'), 'RIGHT'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'TEXT',\n                },\n            ],\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Trims spaces'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Trim spaces'),\n            description: localize('Trims the spaces within a given string or text.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TEXT: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_trim = block => {\n    const operators = {\n        LEFT: \".replace(/^[\\\\s\\\\xa0]+/, '')\",\n        RIGHT: \".replace(/[\\\\s\\\\xa0]+$/, '')\",\n        BOTH: '.trim()',\n    };\n\n    const operator = operators[block.getFieldValue('MODE')];\n    const text = Blockly.JavaScript.valueToCode(block, 'TEXT', Blockly.JavaScript.ORDER_MEMBER) || \"''\";\n\n    const code = `${text}${operator}`;\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_print = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('print {{ input_text }}', { input_text: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'TEXT',\n                },\n            ],\n            colour: Blockly.Colours.Special3.colour,\n            colourSecondary: Blockly.Colours.Special3.colourSecondary,\n            colourTertiary: Blockly.Colours.Special3.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Displays a dialog window with a message'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Print'),\n            description: localize(\n                'This block displays a dialog box with a customised message. When the dialog box is displayed, your strategy is paused and will only resume after you click \"OK\".'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TEXT: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_print = block => {\n    const msg = Blockly.JavaScript.valueToCode(block, 'TEXT', Blockly.JavaScript.ORDER_NONE) || \"''\";\n    const code = `window.alert(${msg});\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_prompt_ext = {\n    init() {\n        this.jsonInit(this.definition());\n        const typeField = this.getField('TYPE');\n        typeField.setValidator(value => {\n            if (value === 'TEXT') {\n                this.setOutput(true, 'String');\n            } else if (value === 'NUMBER') {\n                this.setOutput(true, 'Number');\n            }\n            this.initSvg();\n            this.render(false);\n            return undefined;\n        });\n    },\n    definition() {\n        return {\n            message0: localize('prompt for {{ string_or_number }} with message {{ input_text }}', {\n                string_or_number: '%1',\n                input_text: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'TYPE',\n                    options: [\n                        [localize('string'), 'TEXT'],\n                        [localize('number'), 'NUMBER'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'TEXT',\n                },\n            ],\n            output:\n                typeof this.getFieldValue === 'function' && this.getFieldValue('TYPE') === 'TEXT' ? 'String' : 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Special3.colour,\n            colourSecondary: Blockly.Colours.Special3.colourSecondary,\n            colourTertiary: Blockly.Colours.Special3.colourTertiary,\n            tooltip: localize('Request an input'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Request an input'),\n            description: localize(\n                'This block displays a dialog box that uses a customised message to prompt for an input. The input can be either a string of text or a number and can be assigned to a variable. When the dialog box is displayed, your strategy is paused and will only resume after you enter a response and click \"OK\".'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TEXT: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_prompt_ext = block => {\n    let msg, code;\n\n    if (block.getField('TEXT')) {\n        // Internal message\n        // eslint-disable-next-line no-underscore-dangle\n        msg = Blockly.JavaScript.quote_(block.getFieldValue('TEXT'));\n    } else {\n        // External message\n        msg = Blockly.JavaScript.valueToCode(block, 'TEXT', Blockly.JavaScript.ORDER_NONE) || \"''\";\n    }\n\n    if (block.getFieldValue('TYPE') === 'NUMBER') {\n        code = `parseFloat(window.prompt(${msg}))`;\n    } else {\n        code = `window.prompt(${msg})`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { reaction } from 'mobx';\nimport { api_base } from '../services/api/api-base';\n\nclass DBotStoreInterface {\n    // TODO here we are suppose to define an interface and implement fields of DBotStore.\n    handleFileChange = () => {\n        throw Error('handleFileChange has not been implemented.');\n    };\n\n    toggleStrategyModal = () => {\n        throw Error('handleFileChange has not been implemented.');\n    };\n}\n\nclass DBotStore extends DBotStoreInterface {\n    static singleton = null;\n\n    constructor(store) {\n        super();\n        this.is_mobile = store.is_mobile || false;\n        this.is_dark_mode_on = store.is_dark_mode_on || false;\n        this.client = store.client;\n        this.dashboard = store.dashboard;\n        this.flyout = store.flyout;\n        this.toolbar = store.toolbar;\n        this.toolbox = store.toolbox;\n        this.save_modal = store.save_modal;\n        this.load_modal = store.load_modal;\n        this.setContractUpdateConfig = store.setContractUpdateConfig;\n        this.toggleStrategyModal = store.toggleStrategyModal;\n        this.handleFileChange = store.handleFileChange;\n        this.setLoading = store.setLoading;\n\n        reaction(\n            () => this.client.loginid,\n            () => api_base.createNewInstance(this.client.loginid)\n        );\n    }\n\n    static setInstance(store) {\n        this.singleton = new DBotStore(store);\n        return this.instance;\n    }\n\n    static get instance() {\n        return this.singleton;\n    }\n}\n\nexport default DBotStore;\n","// @deriv/bot: Set the minimum width of a statement block to be wider than default.\nBlockly.BlockSvg.MIN_BLOCK_X_WITH_STATEMENT = 100 * Blockly.BlockSvg.GRID_UNIT;\n\n// @deriv/bot: Root block hat replaces with standard rounded corner\nBlockly.BlockSvg.START_HAT_PATH = `m 0,${Blockly.BlockSvg.CORNER_RADIUS} A ${Blockly.BlockSvg.CORNER_RADIUS}, ${Blockly.BlockSvg.CORNER_RADIUS} 0 0,1 ${Blockly.BlockSvg.CORNER_RADIUS},0`;\n\n// @deriv/bot: Changed the height of a row in a statement block to be 10.\nBlockly.BlockSvg.EXTRA_STATEMENT_ROW_Y = 10 * Blockly.BlockSvg.GRID_UNIT;\n\n// @deriv/bot: visual improvement: changed editable field padding from 8 to 16\nBlockly.BlockSvg.EDITABLE_FIELD_PADDING = 16;\n\n/**\n * Change the colour of a block.\n */\nBlockly.BlockSvg.prototype.updateColour = function () {\n    let strokeColour = this.getColourTertiary();\n    const renderShadowed = this.isShadow() && !Blockly.scratchBlocksUtils.isShadowArgumentReporter(this);\n\n    if (renderShadowed && this.parentBlock_) {\n        // Pull shadow block stroke colour from parent block's tertiary if possible.\n        strokeColour = this.parentBlock_.getColourTertiary();\n        // Special case: if we contain a colour field, set to a special stroke colour.\n        if (\n            this.inputList[0] &&\n            this.inputList[0].fieldRow[0] &&\n            (this.inputList[0].fieldRow[0] instanceof Blockly.FieldColour ||\n                this.inputList[0].fieldRow[0] instanceof Blockly.FieldColourSlider)\n        ) {\n            strokeColour = Blockly.Colours.colourPickerStroke;\n        }\n    }\n\n    // Render block stroke\n    this.svgPath_.setAttribute('stroke', strokeColour);\n    let fillColour = this.getColour();\n\n    // Render block fill\n    if (this.isGlowingBlock_ || renderShadowed) {\n        // Use the block's shadow colour if possible.\n        if (this.getShadowColour()) {\n            fillColour = this.getShadowColour();\n        } else {\n            fillColour = this.getColourSecondary();\n        }\n    }\n    this.svgPath_.setAttribute('fill', fillColour);\n\n    // Render opacity\n    this.svgPath_.setAttribute('fill-opacity', this.getOpacity());\n\n    // Update colours of input shapes.\n    // eslint-disable-next-line no-cond-assign\n    for (let i = 0, input; (input = this.inputList[i]); i++) {\n        if (input.outlinePath) {\n            input.outlinePath.setAttribute('fill', this.getColourTertiary());\n        }\n    }\n\n    // Render icon(s) if applicable\n    const icons = this.getIcons();\n    for (let i = 0; i < icons.length; i++) {\n        icons[i].updateColour();\n    }\n\n    // Bump every dropdown to change its colour.\n    // eslint-disable-next-line no-cond-assign\n    for (let x = 0, input; (input = this.inputList[x]); x++) {\n        // eslint-disable-next-line no-cond-assign\n        for (let y = 0, field; (field = input.fieldRow[y]); y++) {\n            field.setText(null);\n        }\n    }\n    // deriv-bot: Update colours of input shapes to a fixed value of #FFF.\n    this.inputList.forEach(input => {\n        if (input.outlinePath) {\n            input.outlinePath.setAttribute('fill', 'var(--state-normal)');\n            input.outlinePath.setAttribute('stroke', '#6d7278');\n            input.outlinePath.setAttribute('stroke-width', '0.3px');\n        }\n    });\n};\n\n/**\n * For a block with output,\n * determine start and end padding, based on connected inputs.\n * Padding will depend on the shape of the output, the shape of the input,\n * and possibly the size of the input.\n * @param {!Array.<!Array.<!Object>>} input_rows Partially calculated rows.\n */\nBlockly.BlockSvg.prototype.computeOutputPadding_ = function (input_rows) {\n    // Only apply to blocks with outputs and not single fields (shadows).\n    if (\n        !this.getOutputShape() ||\n        !this.outputConnection ||\n        (this.isShadow() && !Blockly.scratchBlocksUtils.isShadowArgumentReporter(this))\n    ) {\n        return;\n    }\n\n    // Blocks with outputs must have single row to be padded.\n    if (input_rows.length > 1) {\n        return;\n    }\n\n    const row = input_rows[0];\n    const shape = this.getOutputShape();\n\n    // Reset any padding: it's about to be set.\n    row.paddingStart = 0;\n    row.paddingEnd = 0;\n\n    // Start row padding: based on first input or first field.\n    const firstInput = row[0];\n    const firstField = firstInput.fieldRow[0];\n    let otherShape;\n\n    // In checking the left/start side, a field takes precedence over any input.\n    // That's because a field will be rendered before any value input.\n    if (firstField) {\n        otherShape = 0; // Field comes first in the row.\n    } else {\n        // Value input comes first in the row.\n        const inputConnection = firstInput.connection;\n\n        if (!inputConnection) {\n            // @deriv/bot: Don't collapse if there's no connection.\n            return;\n        } else if (!inputConnection.targetConnection) {\n            // Not connected: use the drawn shape.\n            otherShape = inputConnection.getOutputShape();\n        } else {\n            // Connected: use the connected block's output shape.\n            otherShape = inputConnection.targetConnection.getSourceBlock().getOutputShape();\n        }\n\n        // Special case for hexagonal output: if the connection is larger height\n        // than a standard reporter, add some start padding.\n        // https://github.com/LLK/scratch-blocks/issues/376\n        if (shape === Blockly.OUTPUT_SHAPE_HEXAGONAL && otherShape !== Blockly.OUTPUT_SHAPE_HEXAGONAL) {\n            const deltaHeight = firstInput.renderHeight - Blockly.BlockSvg.MIN_BLOCK_Y_REPORTER;\n\n            // One grid unit per level of nesting.\n            row.paddingStart += deltaHeight / 2;\n        }\n    }\n\n    row.paddingStart += Blockly.BlockSvg.SHAPE_IN_SHAPE_PADDING[shape][otherShape];\n\n    // End row padding: based on last input or last field.\n    const lastInput = row[row.length - 1];\n\n    // In checking the right/end side, any value input takes precedence over any field.\n    // That's because fields are rendered before inputs...the last item\n    // in the row will be an input, if one exists.\n    if (lastInput.connection) {\n        // Value input last in the row.\n        const inputConnection = lastInput.connection;\n\n        if (!inputConnection.targetConnection) {\n            // Not connected: use the drawn shape.\n            otherShape = inputConnection.getOutputShape();\n        } else {\n            // Connected: use the connected block's output shape.\n            otherShape = inputConnection.targetConnection.getSourceBlock().getOutputShape();\n        }\n        // Special case for hexagonal output: if the connection is larger height\n        // than a standard reporter, add some end padding.\n        // https://github.com/LLK/scratch-blocks/issues/376\n        if (shape === Blockly.OUTPUT_SHAPE_HEXAGONAL && otherShape !== Blockly.OUTPUT_SHAPE_HEXAGONAL) {\n            const deltaHeight = lastInput.renderHeight - Blockly.BlockSvg.MIN_BLOCK_Y_REPORTER;\n\n            // One grid unit per level of nesting.\n            row.paddingEnd += deltaHeight / 2;\n        }\n    } else {\n        // No input in this row - mark as field.\n        otherShape = 0;\n    }\n\n    row.paddingEnd += Blockly.BlockSvg.SHAPE_IN_SHAPE_PADDING[shape][otherShape];\n};\n","import { localize } from '@deriv/translations';\nimport DBotStore from '../dbot-store';\nimport { save, isDarkRgbColour } from '../utils';\n\n/**\n * Select this block.  Highlight it visually.\n */\nBlockly.BlockSvg.prototype.addSelect = function () {\n    if (!this.isInFlyout) {\n        const { flyout } = DBotStore.instance;\n        if (flyout) {\n            flyout.setVisibility(false);\n        }\n        Blockly.utils.addClass(/** @type {!Element} */ (this.svgGroup_), 'blocklySelected');\n    }\n};\n\n/**\n * Set whether the block is disabled or not.\n * @param {boolean} disabled True if disabled.\n * @deriv/bot: Call updateDisabled() when setDisabled is called.\n */\nBlockly.BlockSvg.prototype.setDisabled = function (disabled) {\n    if (this.disabled !== disabled) {\n        Blockly.BlockSvg.superClass_.setDisabled.call(this, disabled);\n\n        if (this.rendered) {\n            this.updateDisabled();\n        }\n    }\n};\n\n/**\n * Enable or disable a block.\n * @deriv/bot: Update fill path if it doesn't match the disabledPatternId.\n */\nBlockly.BlockSvg.prototype.updateDisabled = function () {\n    if (this.disabled || this.getInheritedDisabled()) {\n        Blockly.utils.addClass(this.svgGroup_, 'blocklyDisabled');\n\n        const fill = `url(#${this.workspace.options.disabledPatternId})`;\n        if (this.svgPath_.getAttribute('fill') !== fill) {\n            this.svgPath_.setAttribute('fill', fill);\n        }\n    } else {\n        const removed = Blockly.utils.removeClass(this.svgGroup_, 'blocklyDisabled');\n        if (removed) {\n            this.updateColour();\n        }\n    }\n\n    const children = this.getChildren(false);\n    children.forEach(child => child.updateDisabled());\n};\n\n/**\n * Show the context menu for this block.\n * @param {!Event} e Mouse event.\n * @private\n * @deriv/bot: Restore contextMenu options from Blockly unavailable in Scratch\n */\nBlockly.BlockSvg.prototype.showContextMenu_ = function (e) {\n    if (this.workspace.options.readOnly || !this.contextMenu) {\n        return;\n    }\n\n    // Save the current block in a variable for use in closures.\n    const block = this;\n    const menu_options = [];\n\n    if (this.isDeletable() && this.isMovable() && !block.isInFlyout) {\n        menu_options.push(Blockly.ContextMenu.blockDuplicateOption(block, e));\n        menu_options.push(Blockly.ContextMenu.blockDetachOption(block, e));\n        if (this.isEditable() && this.workspace.options.comments) {\n            menu_options.push(Blockly.ContextMenu.blockCommentOption(block));\n        }\n\n        menu_options.push(Blockly.ContextMenu.blockDeleteOption(block));\n    } else if (this.parentBlock_ && this.isShadow_) {\n        this.parentBlock_.showContextMenu_(e);\n        return;\n    }\n\n    // Option to collapse/expand block.\n    if (this.workspace.options.collapse) {\n        if (this.collapsed_) {\n            const expand_option = { enabled: true };\n            expand_option.text = localize('Expand Block');\n            expand_option.callback = () => block.setCollapsed(false);\n            menu_options.push(expand_option);\n        } else {\n            const collapse_option = { enabled: true };\n            collapse_option.text = localize('Collapse Block');\n            collapse_option.callback = () => block.setCollapsed(true);\n            menu_options.push(collapse_option);\n        }\n    }\n\n    // Option to disable/enable block.\n    if (this.workspace.options.disable) {\n        const restricted_parents = block.restricted_parents || [];\n        const is_trade_parameter = this.type.includes('trade_definition_') && !this.isMovable();\n\n        const disable_option = {\n            text: this.disabled ? localize('Enable Block') : localize('Disable Block'),\n            enabled:\n                !is_trade_parameter &&\n                (!this.disabled ||\n                    restricted_parents.length === 0 ||\n                    restricted_parents.some(restricted_parent => block.isDescendantOf(restricted_parent))),\n            callback: () => {\n                const group = Blockly.Events.getGroup();\n                if (!group) {\n                    Blockly.Events.setGroup(true);\n                }\n\n                block.setDisabled(!block.disabled);\n\n                if (!group) {\n                    Blockly.Events.setGroup(false);\n                }\n            },\n        };\n        menu_options.push(disable_option);\n    }\n\n    // Option to download block.\n    if (this.isMovable()) {\n        const has_next_block = block.nextConnection && block.nextConnection.isConnected();\n        const downloadBlock = should_delete_next => {\n            const xml = Blockly.Xml.textToDom('<xml/>');\n            const block_xml = Blockly.Xml.blockToDom(block);\n            const file_name = should_delete_next ? block.type : `${block.type}_${localize('stack')}`;\n\n            if (should_delete_next) {\n                Blockly.Xml.deleteNext(block_xml);\n            }\n\n            xml.appendChild(block_xml);\n            save(file_name, /* collection */ true, xml);\n        };\n\n        menu_options.push({\n            text: localize('Download block'),\n            enabled: true,\n            callback: () => downloadBlock(true),\n        });\n\n        if (has_next_block) {\n            menu_options.push({\n                text: localize('Download stack'),\n                enabled: true,\n                callback: () => downloadBlock(false),\n            });\n        }\n    }\n\n    // Disable/Enable stack buttons. If target - last block in stack buttons will be hidden.\n    if (block.nextConnection?.targetConnection) {\n        menu_options.push(Blockly.ContextMenu.blockEnableOption(block, e));\n        menu_options.push(Blockly.ContextMenu.blockDisableOption(block, e));\n    }\n\n    // Allow the block to add or modify menu_options.\n    if (this.customContextMenu) {\n        this.customContextMenu(menu_options);\n    }\n\n    Blockly.ContextMenu.show(e, menu_options, this.RTL);\n    Blockly.ContextMenu.currentBlock = this;\n};\n\n/**\n * Set whether the block is error highlighted or not.\n * @param {boolean} highlighted True if highlighted for error.\n */\nBlockly.BlockSvg.prototype.setErrorHighlighted = function (\n    should_be_error_highlighted,\n    error_message = localize(\n        'The block(s) highlighted in red are missing input values. Please update them and click \"Run bot\".'\n    )\n) {\n    if (this.is_error_highlighted === should_be_error_highlighted) {\n        return;\n    }\n\n    const highlight_class = 'block--error-highlighted';\n\n    if (should_be_error_highlighted) {\n        // Below function does its own checks to check if class already exists.\n        Blockly.utils.addClass(this.svgGroup_, highlight_class);\n    } else {\n        Blockly.utils.removeClass(this.svgGroup_, highlight_class);\n    }\n\n    this.is_error_highlighted = should_be_error_highlighted;\n    this.error_message = error_message;\n};\n\n// Highlight the block that is being executed\nBlockly.BlockSvg.prototype.highlightExecutedBlock = function () {\n    const highlight_block_class = 'block--execution-highlighted';\n\n    if (!Blockly.utils.hasClass(this.svgGroup_, highlight_block_class)) {\n        Blockly.utils.addClass(this.svgGroup_, highlight_block_class);\n        setTimeout(() => {\n            if (this.svgGroup_) {\n                Blockly.utils.removeClass(this.svgGroup_, highlight_block_class);\n            }\n        }, 1505);\n    }\n};\n\n/**\n * Set block animation (Blink)\n */\n\nBlockly.BlockSvg.prototype.blink = function () {\n    const blink_class = 'block--blink';\n    Blockly.utils.addClass(this.svgGroup_, blink_class);\n\n    setTimeout(() => {\n        Blockly.utils.removeClass(this.svgGroup_, blink_class);\n    }, 2000);\n};\n\n/**\n * Set whether the block is collapsed or not.\n * @param {boolean} collapsed True if collapsed.\n */\nBlockly.BlockSvg.prototype.setCollapsed = function (collapsed) {\n    if (this.collapsed_ === collapsed) {\n        return;\n    }\n\n    // Firefox fix for Blockly widthcache bug\n    if (navigator.userAgent.search('Firefox') > 0) {\n        setTimeout(() => {\n            this.workspace.getAllFields().forEach(field => field.forceRerender());\n        }, 0); /* Time duration must be 0. We need this function\n        asynchronous for proper rerender after block resizing. */\n    }\n\n    const render_list = [];\n    const COLLAPSED_INPUT_NAME = '_TEMP_COLLAPSED_INPUT';\n\n    // Show/hide the inputs.\n    this.inputList.forEach(input => {\n        render_list.push(...input.setVisible(!collapsed));\n\n        // Hide empty rounded inputs\n        if (collapsed && input.type === 1 && !input.connection.targetConnection && input.outlinePath)\n            input.outlinePath.style.visibility = 'hidden';\n    });\n\n    if (collapsed) {\n        this.getIcons()\n            // Never hide ScratchBlockComments!\n            .filter(icon => !(icon instanceof Blockly.ScratchBlockComment))\n            .forEach(icon => icon.setVisible(false));\n\n        // Ensure class persists through collapse. Falls back to first\n        // field that has a class. Doesn't work when multiple\n        // field_labels on a block have different classes. So far we\n        // don't have a situation like that, so it works. \n        let field_class = null;\n\n        this.inputList.some(input =>\n            input.fieldRow.some(field => {\n                if (field.class_) {\n                    field_class = field.class_;\n                    return true;\n                }\n                return false;\n            })\n        );\n\n        const dropdown_path =\n            this.workspace.options.pathToMedia +\n            (isDarkRgbColour(this.getColour()) ? 'dropdown-arrow.svg' : 'dropdown-arrow-dark.svg');\n        const field_expand_icon = new Blockly.FieldImage(dropdown_path, 16, 16, localize('Expand'), () =>\n            this.setCollapsed(false)\n        );\n\n        if (this.type === 'procedures_defreturn' || this.type === 'procedures_defnoreturn') {\n            const function_name = this.getFieldValue('NAME');\n            const args = ` (${this.arguments.join(', ')})`;\n\n            this.appendDummyInput(COLLAPSED_INPUT_NAME)\n                .appendField(new Blockly.FieldLabel(localize('function'), field_class))\n                .appendField(new Blockly.FieldLabel(function_name + args, 'header__title'))\n                .appendField(field_expand_icon)\n                .init();\n        } else {\n            const text = this.toString(Blockly.COLLAPSE_CHARS);\n            const field_label = new Blockly.FieldLabel(text, field_class);\n\n            this.appendDummyInput(COLLAPSED_INPUT_NAME).appendField(field_label).appendField(field_expand_icon).init();\n        }\n    } else {\n        this.removeInput(COLLAPSED_INPUT_NAME);\n        this.setWarningText(null); // Clear any warnings inherited from enclosed blocks.\n    }\n\n    Blockly.BlockSvg.superClass_.setCollapsed.call(this, collapsed);\n\n    if (!render_list.length) {\n        render_list.push(this); // No child blocks, just render this block.\n    }\n\n    if (this.rendered) {\n        render_list.forEach(block => block.render());\n        // Don't bump neighbours.\n        // Although bumping neighbours would make sense, users often collapse\n        // all their functions and store them next to each other.  Expanding and\n        // bumping causes all their definitions to go out of alignment.\n    }\n\n    // Check whether the collapsed block needs to be highlighted.\n    this.setErrorHighlighted(collapsed && this.hasErrorHighlightedDescendant());\n};\n\nexport const blocksCoordinate = () => {\n    const during_purchase = Blockly.derivWorkspace?.getCanvas().children[1];\n    const after_purchase = Blockly.derivWorkspace?.getCanvas().children[2];\n    during_purchase?.setAttribute('transform', 'translate(720,0)');\n    after_purchase?.setAttribute('transform', 'translate(720,248)');\n};\n\n/**\n * @deriv/bot: Add check for workspace.getCanvas() before appendChild() is called.\n */\nBlockly.BlockSvg.prototype.initSvg = function () {\n    goog.asserts.assert(this.workspace.rendered, 'Workspace is headless.');\n    if (!this.isInsertionMarker()) {\n        // Insertion markers not allowed to have inputs or icons\n        // Input shapes are empty holes drawn when a value input is not connected.\n        // eslint-disable-next-line no-cond-assign\n        for (let i = 0, input; (input = this.inputList[i]); i++) {\n            input.init();\n            input.initOutlinePath(this.svgGroup_);\n        }\n        const icons = this.getIcons();\n        for (let i = 0; i < icons.length; i++) {\n            icons[i].createIcon();\n        }\n    }\n    this.updateColour();\n    this.updateMovable();\n    if (!this.workspace.options.readOnly && !this.eventsInit_) {\n        Blockly.bindEventWithChecks_(this.getSvgRoot(), 'mousedown', this, this.onMouseDown_);\n    }\n    this.eventsInit_ = true;\n\n    if (!this.getSvgRoot().parentNode && this.workspace.getCanvas()) {\n        this.workspace.getCanvas().appendChild(this.getSvgRoot());\n    }\n};\n","// @deriv/bot: make all input shapes rounded\nBlockly.Connection.prototype.getOutputShape = function () {\n    return Blockly.OUTPUT_SHAPE_ROUND;\n};\n","/**\n * ENUM for categories.\n * @const\n */\nBlockly.Categories = {\n    Trade_Definition: 'trade_parameters',\n    Before_Purchase: 'purchase_conditions',\n    During_Purchase: 'sell_conditions',\n    After_Purchase: 'trade_results',\n    Mathematical: 'math',\n    Logic: 'logic',\n    Text: 'text',\n    Variables: 'variables',\n    Functions: 'custom_functions',\n    List: 'lists',\n    Indicators: 'indicators',\n    Time: 'time',\n    Tick_Analysis: 'technical_analysis',\n    Candle: 'candle',\n    Miscellaneous: 'miscellaneous',\n    Loop: 'loops',\n};\n/**\n * Number of pixels the mouse must move before a drag starts.\n */\nBlockly.DRAG_RADIUS = 3;\n\n/**\n * Number of pixels the mouse must move before a drag/scroll starts from the\n * flyout.  Because the drag-intention is determined when this is reached, it is\n * larger than Blockly.DRAG_RADIUS so that the drag-direction is clearer.\n */\nBlockly.FLYOUT_DRAG_RADIUS = 1;\n","/**\n * Array making up the CSS content for Blockly.\n */\nBlockly.Css.CONTENT = [\n    '@keyframes blinkEffect {',\n    '0% {',\n    'stroke: var(--status-danger);',\n    'stroke-width: 5px;',\n    '}',\n    '50% {',\n    'stroke: var(--status-warning);',\n    'stroke-width: 8px;',\n    '}',\n    '100% {',\n    'stroke: var(--status-danger);',\n    'stroke-width: 5px;',\n    '}',\n    '}',\n\n    '.block--error-highlighted > .blocklyPath {',\n    'stroke: var(--status-danger);',\n    'stroke-width: 5px;',\n    '}',\n\n    '@keyframes fade-in-out {',\n    '0%{',\n    'stroke-opacity: 0;',\n    '}',\n    '50%{',\n    'stroke-opacity: 1;',\n    'stroke-width: 6px;',\n    '}',\n    '100%{',\n    'stroke-opacity: 0;',\n    '}}',\n\n    '.block--execution-highlighted > .blocklyPath {',\n    'stroke: #89B2AF;',\n    'animation: fade-in-out 1.5s',\n    '}',\n\n    '.block--blink > .blocklyPath {',\n    'animation: blinkEffect 1s infinite;',\n    '}',\n\n    '.blocklySvg {',\n    'outline: none;',\n    'overflow: hidden;' /* IE overflows by default. */,\n    'position: absolute;',\n    'display: block;',\n    '}',\n\n    /* Necessary to position the drag surface */\n    '.blocklyRelativeWrapper {',\n    'position: relative;',\n    'width: 100%;',\n    'height: 100%;',\n    '}',\n\n    '.blocklyWidgetDiv {',\n    'display: none;',\n    'position: absolute;',\n    'z-index: 99999;' /* big value for bootstrap3 compatibility */,\n    '}',\n\n    '.injectionDiv {',\n    'height: calc(100vh - 11rem);',\n    'position: relative;',\n    'overflow: hidden;' /* So blocks in drag surface disappear at edges */,\n    'touch-action: none;',\n    '}',\n\n    '.blocklyNonSelectable {',\n    'user-select: none;',\n    '-moz-user-select: none;',\n    '-webkit-user-select: none;',\n    '-ms-user-select: none;',\n    '}',\n\n    '.blocklyWidgetDiv.fieldTextInput {',\n    'overflow: hidden;',\n    'border: 1px solid;',\n    'box-sizing: border-box;',\n    'transform-origin: 0 0;',\n    '-ms-transform-origin: 0 0;',\n    '-moz-transform-origin: 0 0;',\n    '-webkit-transform-origin: 0 0;',\n    '}',\n\n    '.blocklyWidgetDiv.fieldTextInput.removableTextInput {',\n    'overflow: visible;',\n    '}',\n\n    '.blocklyTextDropDownArrow {',\n    'position: absolute;',\n    '}',\n\n    '.blocklyTextRemoveIcon {',\n    'position: absolute;',\n    'width: 24px;',\n    'height: 24px;',\n    'top: -40px;',\n    'left: 50%;',\n    'margin-left: -12px;',\n    'cursor: pointer;',\n    '}',\n\n    '.blocklyNonSelectable {',\n    'user-select: none;',\n    '-moz-user-select: none;',\n    '-webkit-user-select: none;',\n    '-ms-user-select: none;',\n    '}',\n\n    '.blocklyWsDragSurface {',\n    'display: none;',\n    'position: absolute;',\n    'top: 0;',\n    'left: 0;',\n    '}',\n    /* Added as a separate rule with multiple classes to make it more specific\n     than a bootstrap rule that selects svg:root. See issue #1275 for context.\n  */\n    '.blocklyWsDragSurface.blocklyOverflowVisible {',\n    'overflow: visible;',\n    '}',\n\n    '.blocklyBlockDragSurface {',\n    'display: none;',\n    'position: absolute;',\n    'top: 0;',\n    'left: 0;',\n    'right: 0;',\n    'bottom: 0;',\n    'overflow: visible !important;',\n    'z-index: 50;' /* Display above the toolbox */,\n    '}',\n\n    '.blocklyTooltipDiv {',\n    'min-height: 34px;',\n    'background-color: #d6dadb;',\n    'border-radius: 4px;',\n    'color: #333333;',\n    'padding: 8px;',\n    'font-size: 12px;',\n    'font-family: \"IBM Plex Sans\";',\n    'line-height: 1.5;',\n    'letter-spacing: normal;',\n    'position: absolute;',\n    'z-index: 100000;' /* big value for bootstrap3 compatibility */,\n    '}',\n\n    '.blocklyDropDownDiv {',\n    'position: fixed;',\n    'left: 0;',\n    'top: 0;',\n    'z-index: 1000;',\n    'display: none;',\n    'border: 1px solid;',\n    'border-radius: 4px;',\n    `box-shadow: 0px 0px 8px 1px ${Blockly.Colours.dropDownShadow};`,\n    'padding: 4px;',\n    '-webkit-user-select: none;',\n    'min-height: 15px',\n    '}',\n\n    '.blocklyDropDownContent {',\n    'max-height: 300px;', // @todo: spec for maximum height.\n    'overflow: auto;',\n    '}',\n\n    '.blocklyDropDownArrow {',\n    'position: absolute;',\n    'left: 0;',\n    'top: 0;',\n    'width: 16px;',\n    'height: 16px;',\n    'z-index: -1;',\n    'background-color: inherit;',\n    'border-color: inherit;',\n    '}',\n\n    '.blocklyDropDownButton {',\n    'display: inline-block;',\n    'float: left;',\n    'padding: 0;',\n    'margin: 4px;',\n    'border-radius: 4px;',\n    'outline: none;',\n    'border: 1px solid;',\n    'transition: box-shadow .1s;',\n    'cursor: pointer;',\n    '}',\n\n    '.blocklyDropDownButtonHover {',\n    `box-shadow: 0px 0px 0px 4px ${Blockly.Colours.fieldShadow};`,\n    '}',\n\n    '.blocklyDropDownButton:active {',\n    `box-shadow: 0px 0px 0px 6px ${Blockly.Colours.fieldShadow};`,\n    '}',\n\n    '.blocklyDropDownButton > img {',\n    'width: 80%;',\n    'height: 80%;',\n    'margin-top: 5%',\n    '}',\n\n    '.blocklyDropDownPlaceholder {',\n    'display: inline-block;',\n    'float: left;',\n    'padding: 0;',\n    'margin: 4px;',\n    '}',\n\n    '.blocklyNumPadButton {',\n    'display: inline-block;',\n    'float: left;',\n    'padding: 0;',\n    'width: 48px;',\n    'height: 48px;',\n    'margin: 4px;',\n    'border-radius: 4px;',\n    'background: $colour_numPadBackground;',\n    'color: #333333;',\n    'outline: none;',\n    'border: 1px solid $colour_numPadBorder;',\n    'cursor: pointer;',\n    'font-weight: 600;',\n    'font-size: 12pt;',\n    '-webkit-tap-highlight-color: rgba(0,0,0,0);',\n    '}',\n\n    '.blocklyNumPadButton > img {',\n    'margin-top: 10%;',\n    'width: 80%;',\n    'height: 80%;',\n    'filter: invert(1);',\n    '}',\n\n    '.blocklyNumPadButton:active {',\n    'background: $colour_numPadActiveBackground;',\n    '-webkit-tap-highlight-color: rgba(0,0,0,0);',\n    '}',\n\n    '.arrowTop {',\n    'border-top: 1px solid;',\n    'border-left: 1px solid;',\n    'border-top-left-radius: 4px;',\n    'border-color: inherit;',\n    '}',\n\n    '.arrowBottom {',\n    'border-bottom: 1px solid;',\n    'border-right: 1px solid;',\n    'border-bottom-right-radius: 4px;',\n    'border-color: inherit;',\n    '}',\n\n    '.valueReportBox {',\n    'min-width: 50px;',\n    'max-width: 300px;',\n    'max-height: 200px;',\n    'overflow: auto;',\n    'word-wrap: break-word;',\n    'text-align: center;',\n    'font-size: .8em;',\n    '}',\n\n    '.blocklyResizeSE {',\n    'cursor: se-resize;',\n    'fill: #aaa;',\n    '}',\n\n    '.blocklyResizeSW {',\n    'cursor: sw-resize;',\n    'fill: #aaa;',\n    '}',\n\n    '.blocklyResizeLine {',\n    'stroke: #888;',\n    'stroke-width: 1;',\n    '}',\n\n    '.blocklyHighlightedConnectionPath {',\n    'fill: none;',\n    'stroke: #fc3;',\n    'stroke-width: 4px;',\n    '}',\n\n    '.blocklyPath {',\n    'stroke-width: 0.3px;',\n\n    '}',\n\n    '.blocklySelected>.blocklyPath {',\n    'stroke: #ffc358;',\n    'stroke-width: 3px;',\n    '}',\n\n    '.blocklySelected>.blocklyPathLight {',\n    'display: none;',\n    '}',\n\n    '.blocklyDraggable {',\n    /* backup for browsers (e.g. IE11) that don't support grab */\n    'cursor: url(\"<<<PATH>>>/handopen.cur\"), auto;',\n    'cursor: grab;',\n    'cursor: -webkit-grab;',\n    'cursor: -moz-grab;',\n    '}',\n\n    '.blocklyDragging {',\n    /* backup for browsers (e.g. IE11) that don't support grabbing */\n    'cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;',\n    'cursor: grabbing;',\n    'cursor: -webkit-grabbing;',\n    'cursor: -moz-grabbing;',\n    '}',\n    /* Changes cursor on mouse down. Not effective in Firefox because of\n    https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */\n    '.blocklyDraggable:active {',\n    /* backup for browsers (e.g. IE11) that don't support grabbing */\n    'cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;',\n    'cursor: grabbing;',\n    'cursor: -webkit-grabbing;',\n    'cursor: -moz-grabbing;',\n    '}',\n    /* Change the cursor on the whole drag surface in case the mouse gets\n     ahead of block during a drag. This way the cursor is still a closed hand.\n   */\n    '.blocklyBlockDragSurface .blocklyDraggable {',\n    /* backup for browsers (e.g. IE11) that don't support grabbing */\n    'cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;',\n    'cursor: grabbing;',\n    'cursor: -webkit-grabbing;',\n    'cursor: -moz-grabbing;',\n    '}',\n\n    '.blocklyDragging.blocklyDraggingDelete {',\n    'cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;',\n    '}',\n\n    '.blocklyDragging.blocklyDraggingMouseThrough {',\n    'pointer-events: none;',\n    '}',\n\n    '.blocklyToolboxDelete {',\n    'cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;',\n    '}',\n\n    '.blocklyToolboxGrab {',\n    'cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;',\n    'cursor: grabbing;',\n    'cursor: -webkit-grabbing;',\n    '}',\n\n    '.blocklyDragging>.blocklyPath,',\n    '.blocklyDragging>.blocklyPathLight {',\n    'fill-opacity: 1.0;',\n    'stroke-opacity: 1.0;',\n    '}',\n\n    '.blocklyDragging>.blocklyPath {',\n    '}',\n\n    '.blocklyDisabled>.blocklyPath {',\n    'fill-opacity: .5;',\n    'stroke-opacity: .5;',\n    '}',\n\n    '.blocklyInsertionMarker>.blocklyPath {',\n    'stroke: none;',\n    '}',\n\n    '.blocklyText {',\n    'fill: #333333;',\n    'font-family: inherit;',\n    'font-size: var(--text-size-s);',\n    'font-weight: normal;',\n    'font-stretch: normal;',\n    'font-style: normal;',\n    'line-height: 1.5;',\n    'letter-spacing: normal;',\n    '}',\n\n    '.blocklyTextTruncated {',\n    'font-size: 11pt;',\n    '}',\n\n    '.blocklyNonEditableText>text {',\n    'pointer-events: none;',\n    '}',\n\n    '.blocklyNonEditableText>text,',\n    '.blocklyEditableText>text {',\n    'fill: var(--text-prominent);',\n    // 'fill: #575E75 !important;',\n    '}',\n\n    '.blocklyEditableText>.blocklyEditableLabel {',\n    'fill: var(--text-prominent);',\n    '}',\n\n    '.blocklyDropdownText {',\n    'fill: var(--text-prominent)!important;',\n    '}',\n\n    '.blocklyBubbleText {',\n    'fill: $colour_text;',\n    '}',\n    '.blocklyFlyout {',\n    'position: absolute;',\n    'z-index: 20;',\n    '}',\n    '.blocklyFlyoutButton {',\n    'fill: none;',\n    'pointer-events: all;',\n    '}',\n\n    '.blocklyFlyoutButtonBackground {',\n    'stroke: #c6c6c6;',\n    '}',\n\n    '.blocklyFlyoutButton .blocklyText {',\n    'fill: $colour_text;',\n    '}',\n\n    '.blocklyFlyoutButtonShadow {',\n    'fill: transparent;',\n    '}',\n\n    '.blocklyFlyoutButton:hover {',\n    'fill: white;',\n    'cursor: pointer;',\n    '}',\n\n    '.blocklyFlyoutLabel {',\n    'cursor: default;',\n    '}',\n\n    '.blocklyFlyoutLabelBackground {',\n    'opacity: 0;',\n    '}',\n\n    '.blocklyFlyoutLabelText {',\n    'font-size: 14pt;',\n    'fill: #575E75;',\n    'font-weight: bold;',\n    '}',\n\n    /*\n    Don't allow users to select text.  It gets annoying when trying to\n    drag a block and selected text moves instead.\n  */\n    '.blocklySvg text, .blocklyBlockDragSurface text, .blocklyFlyout text, .blocklyToolboxDiv text {',\n    'user-select: none;',\n    '-moz-user-select: none;',\n    '-webkit-user-select: none;',\n    'cursor: inherit;',\n    '}',\n\n    '.blocklyHidden {',\n    'display: none;',\n    '}',\n\n    '.blocklyFieldDropdown:not(.blocklyHidden) {',\n    'display: block;',\n    '}',\n\n    '.blocklyIconGroup {',\n    'cursor: default;',\n    '}',\n\n    '.blocklyIconGroup:not(:hover),',\n    '.blocklyIconGroupReadonly {',\n    'opacity: .6;',\n    '}',\n\n    '.blocklyIconShape {',\n    'fill: #00f;',\n    'stroke: #fff;',\n    'stroke-width: 1px;',\n    '}',\n\n    '.blocklyIconSymbol {',\n    'fill: #fff;',\n    '}',\n\n    '.blocklyMinimalBody {',\n    'margin: 0;',\n    'padding: 0;',\n    '}',\n\n    '.blocklyCommentForeignObject {',\n    'position: relative;',\n    'z-index: 0;',\n    '}',\n\n    '.blocklyCommentRect {',\n    'fill: #E7DE8E;',\n    'stroke: #bcA903;',\n    'stroke-width: 1px',\n    '}',\n\n    '.blocklyCommentTarget {',\n    'fill: transparent;',\n    'stroke: #bcA903;',\n    '}',\n\n    '.blocklyCommentTargetFocused {',\n    'fill: none;',\n    '}',\n\n    '.blocklyCommentHandleTarget {',\n    'fill: none;',\n    '}',\n\n    '.blocklyCommentHandleTargetFocused {',\n    'fill: transparent;',\n    '}',\n\n    '.blocklyFocused>.blocklyCommentRect {',\n    'fill: #B9B272;',\n    'stroke: #B9B272;',\n    '}',\n\n    '.blocklySelected>.blocklyCommentTarget {',\n    'stroke: #fc3;',\n    'stroke-width: 3px;',\n    '}',\n\n    '.blocklyCommentTextarea {',\n    'background-color: #fef49c;',\n    'border: 0;',\n    'outline: 0;',\n    'margin: 0;',\n    'padding: 3px;',\n    'resize: none;',\n    'display: block;',\n    'overflow: hidden;',\n    '}',\n\n    '.blocklyCommentDeleteIcon {',\n    'cursor: pointer;',\n    'fill: #000;',\n    'display: none',\n    '}',\n\n    '.blocklySelected > .blocklyCommentDeleteIcon {',\n    'display: block',\n    '}',\n\n    '.blocklyDeleteIconShape {',\n    'fill: #000;',\n    'stroke: #000;',\n    'stroke-width: 1px;',\n    '}',\n\n    '.blocklyDeleteIconShape.blocklyDeleteIconHighlighted {',\n    'stroke: #fc3;',\n    '}',\n\n    // Scratch Comments\n\n    '.scratchCommentForeignObject {',\n    'position: relative;',\n    '}',\n\n    '.scratchCommentBody {',\n    'background-color: #fef49c;',\n    'border-radius: 4px;',\n    '}',\n\n    '.scratchCommentRect {',\n    'fill: #fef49c;',\n    '}',\n\n    '.scratchCommentTarget {',\n    'fill: transparent;',\n    '}',\n\n    '.scratchWorkspaceCommentBorder {',\n    'stroke: #bcA903;',\n    'stroke-width: 1px;',\n    '}',\n\n    '.scratchCommentTargetFocused {',\n    'fill: none;',\n    '}',\n\n    '.scratchCommentTopBar {',\n    'fill: #000000;',\n    'fill-opacity: 0.1',\n    '}',\n\n    '.scratchCommentText {',\n    // 'font-family: \"Helvetica Neue\", Helvetica, sans-serif;',\n    'font-size: 12pt;',\n    'font-weight: 400;',\n    '}',\n\n    '.scratchCommentTextarea {',\n    'background-color: #fef49c;',\n    'border: 0;',\n    'outline: 0;',\n    'padding: 0;',\n    'resize: none;',\n    'overflow: hidden;',\n    '}',\n\n    '.scratchCommentResizeSE {',\n    'cursor: se-resize;',\n    'fill: transparent;',\n    '}',\n\n    '.scratchCommentResizeSW {',\n    'cursor: sw-resize;',\n    'fill: transparent;',\n    '}',\n\n    '.blocklyHtmlInput {',\n    'border: none;',\n    // 'font-family: \"Helvetica Neue\", Helvetica, sans-serif;',\n    'font-size: 12pt;',\n    'height: 100%;',\n    'margin: 0;',\n    'outline: none;',\n    'box-sizing: border-box;',\n    'width: 100%;',\n    'text-align: center;',\n    'color: $colour_text;',\n    'font-weight: 500;',\n    '}',\n\n    '.blocklyMainBackground {',\n    'stroke-width: 0;',\n    // 'stroke: #c6c6c6;',  /* Equates to #ddd due to border being off-pixel. */\n    '}',\n\n    '.blocklyMutatorBackground {',\n    'fill: #fff;',\n    'stroke: #fff;',\n    'stroke-width: 1;',\n    '}',\n\n    '.blocklyFlyoutBackground {',\n    'fill: $colour_flyout;',\n    'fill-opacity: .8;',\n    '}',\n\n    '.blocklyMainWorkspaceScrollbar {',\n    'z-index: 20;',\n    '}',\n\n    '.blocklyFlyoutScrollbar {',\n    'z-index: 30;',\n    '}',\n\n    '.blocklyScrollbarHorizontal, .blocklyScrollbarVertical {',\n    'position: absolute;',\n    'outline: none;',\n    '}',\n\n    '.blocklyScrollbarBackground {',\n    'opacity: 0;',\n    '}',\n\n    '.blocklyScrollbarHandle {',\n    'fill: $colour_scrollbar;',\n    '}',\n\n    '.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,',\n    '.blocklyScrollbarHandle:hover {',\n    'fill: $colour_scrollbarHover;',\n    '}',\n\n    '.blocklyZoom>image {',\n    'opacity: 1;',\n    '}',\n\n    /* Darken flyout scrollbars due to being on a grey background. */\n    /* By contrast, workspace scrollbars are on a white background. */\n    '.blocklyFlyout .blocklyScrollbarHandle {',\n    'fill: #bbb;',\n    '}',\n\n    '.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,',\n    '.blocklyFlyout .blocklyScrollbarHandle:hover {',\n    'fill: #aaa;',\n    '}',\n\n    '.blocklyInvalidInput {',\n    'background: #faa;',\n    '}',\n\n    '.blocklyAngleCircle {',\n    `stroke: ${Blockly.Colours.motion.tertiary};`,\n    'stroke-width: 1;',\n    `fill: ${Blockly.Colours.motion.secondary};`,\n    '}',\n\n    '.blocklyAngleCenterPoint {',\n    'stroke: #fff;',\n    'stroke-width: 1;',\n    'fill: #fff;',\n    '}',\n\n    '.blocklyAngleDragHandle {',\n    'stroke: #fff;',\n    'stroke-width: 5;',\n    'stroke-opacity: 0.25;',\n    'fill: #fff;',\n    'cursor: pointer;',\n    '}',\n\n    '.blocklyAngleDragArrow {',\n    'pointer-events: none',\n    '}',\n\n    '.blocklyAngleMarks {',\n    'stroke: #fff;',\n    'stroke-width: 1;',\n    'stroke-opacity: 0.5;',\n    '}',\n\n    '.blocklyAngleGauge {',\n    'fill: #fff;',\n    'fill-opacity: 0.20;',\n    '}',\n\n    '.blocklyAngleLine {',\n    'stroke: #fff;',\n    'stroke-width: 1;',\n    'stroke-linecap: round;',\n    'pointer-events: none;',\n    '}',\n\n    '.blocklyContextMenu {',\n    'border-radius: 4px;',\n    'max-height: 100%;',\n    '}',\n\n    '.blocklyDropdownMenu {',\n    'padding: 0 !important;',\n    '}',\n\n    '.blocklyDropDownNumPad {',\n    'background-color: $colour_numPadBackground;',\n    '}',\n\n    /* Override the default Closure URL. */\n    '.blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,',\n    '.blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {',\n    'background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px !important;',\n    '}',\n\n    /* Category tree in Toolbox. */\n    '.blocklyToolboxDiv {',\n    'background-color: $colour_toolbox;',\n    'color: $colour_toolboxText;',\n    'overflow-x: visible;',\n    'overflow-y: auto;',\n    'position: absolute;',\n    // 'font-family: \"Helvetica Neue\", Helvetica, sans-serif;',\n    'z-index: 40;' /* so blocks go over toolbox when dragging */,\n    '-webkit-tap-highlight-color: transparent;' /* issue #1345 */,\n    '}',\n\n    '.blocklyTreeRoot {',\n    'padding: 4px 0;',\n    '}',\n\n    '.blocklyTreeRoot:focus {',\n    'outline: none;',\n    '}',\n\n    '.blocklyTreeRow {',\n    'height: 22px;',\n    'line-height: 22px;',\n    'margin-bottom: 3px;',\n    'padding-right: 8px;',\n    'white-space: nowrap;',\n    '}',\n\n    '.blocklyHorizontalTree {',\n    'float: left;',\n    'margin: 1px 5px 8px 0;',\n    '}',\n\n    '.blocklyHorizontalTreeRtl {',\n    'float: right;',\n    'margin: 1px 0 8px 5px;',\n    '}',\n\n    '.blocklyToolboxDiv[dir=\"RTL\"] .blocklyTreeRow {',\n    'margin-left: 8px;',\n    '}',\n\n    '.blocklyTreeRow:not(.blocklyTreeSelected):hover {',\n    'background-color: #e4e4e4;',\n    '}',\n\n    '.blocklyTreeSeparator {',\n    'border-bottom: solid #e5e5e5 1px;',\n    'height: 0;',\n    'margin: 5px 0;',\n    '}',\n\n    '.blocklyTreeSeparatorHorizontal {',\n    'border-right: solid #e5e5e5 1px;',\n    'width: 0;',\n    'padding: 5px 0;',\n    'margin: 0 5px;',\n    '}',\n\n    '.blocklyTreeIcon {',\n    'background-image: url(<<<PATH>>>/sprites.png);',\n    'height: 16px;',\n    'vertical-align: middle;',\n    'width: 16px;',\n    '}',\n\n    '.blocklyTreeIconClosedLtr {',\n    'background-position: -32px -1px;',\n    '}',\n\n    '.blocklyTreeIconClosedRtl {',\n    'background-position: 0px -1px;',\n    '}',\n\n    '.blocklyTreeIconOpen {',\n    'background-position: -16px -1px;',\n    '}',\n\n    '.blocklyTreeSelected>.blocklyTreeIconClosedLtr {',\n    'background-position: -32px -17px;',\n    '}',\n\n    '.blocklyTreeSelected>.blocklyTreeIconClosedRtl {',\n    'background-position: 0px -17px;',\n    '}',\n\n    '.blocklyTreeSelected>.blocklyTreeIconOpen {',\n    'background-position: -16px -17px;',\n    '}',\n\n    '.blocklyTreeIconNone,',\n    '.blocklyTreeSelected>.blocklyTreeIconNone {',\n    'background-position: -48px -1px;',\n    '}',\n\n    '.blocklyTreeLabel {',\n    'cursor: default;',\n    // 'font-family: \"Helvetica Neue\", Helvetica, sans-serif;',\n    'font-size: 16px;',\n    'padding: 0 3px;',\n    'vertical-align: middle;',\n    '}',\n\n    '.blocklyToolboxDelete .blocklyTreeLabel {',\n    'cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;',\n    '}',\n\n    '.blocklyTreeSelected .blocklyTreeLabel {',\n    'color: #fff;',\n    '}',\n\n    '.blocklyDropDownDiv .goog-slider-horizontal {',\n    'margin: 8px;',\n    'height: 22px;',\n    'width: 150px;',\n    'position: relative;',\n    'outline: none;',\n    'border-radius: 11px;',\n    'margin-bottom: 20px;',\n    '}',\n\n    '.blocklyDropDownDiv .goog-slider-horizontal .goog-slider-thumb {',\n    'width: 26px;',\n    'height: 26px;',\n    'top: -1px;',\n    'position: absolute;',\n    'background-color: white;',\n    'border-radius: 100%;',\n    '-webkit-box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.15);',\n    '-moz-box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.15);',\n    'box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.15);',\n    '}',\n\n    '.scratchEyedropper {',\n    'background: none;',\n    'outline: none;',\n    'border: none;',\n    'width: 100%;',\n    'text-align: center;',\n    'border-top: 1px solid #ddd;',\n    'padding-top: 5px;',\n    'cursor: pointer;',\n    '}',\n\n    '.scratchColourPickerLabel {',\n    // 'font-family: \"Helvetica Neue\", Helvetica, sans-serif;',\n    'font-size: 0.65rem;',\n    'color: $colour_toolboxText;',\n    'margin: 8px;',\n    '}',\n\n    '.scratchColourPickerLabelText {',\n    'font-weight: bold;',\n    '}',\n\n    '.scratchColourPickerReadout {',\n    'margin-left: 10px;',\n    '}',\n\n    '.scratchMatrixButtonDiv {',\n    'width: 50%;',\n    'text-align: center;',\n    'float: left;',\n    '}',\n\n    '.scratchNotePickerKeyLabel {',\n    // 'font-family: \"Helvetica Neue\", Helvetica, sans-serif;',\n    'font-size: 0.75rem;',\n    'fill: $colour_text;',\n    'pointer-events: none;',\n    '}',\n\n    /* Copied from: goog/css/menu.css */\n    /*\n     * Copyright 2009 The Closure Library Authors. All Rights Reserved.\n     *\n     * Use of this source code is governed by the Apache License, Version 2.0.\n     * See the COPYING file for details.\n     */\n\n    /**\n     * Standard styling for menus created by goog.ui.MenuRenderer.\n     *\n     * @author attila@google.com (Attila Bodis)\n     */\n\n    '.blocklyWidgetDiv .goog-menu {',\n    'background: #fff;',\n    'border-color: #ccc #666 #666 #ccc;',\n    'border-style: solid;',\n    'border-width: 1px;',\n    'cursor: default;',\n    'font: normal 13px \"Helvetica Neue\", Helvetica, sans-serif;',\n    'margin: 0;',\n    'outline: none;',\n    'padding: 4px 0;',\n    'position: absolute;',\n    'overflow-y: auto;',\n    'overflow-x: hidden;',\n    'z-index: 20000;' /* Arbitrary, but some apps depend on it... */,\n    '}',\n\n    '.blocklyDropDownDiv .goog-menu {',\n    'cursor: default;',\n    'font: normal 13px \"Helvetica Neue\", Helvetica, sans-serif;',\n    'outline: none;',\n    'z-index: 20000;' /* Arbitrary, but some apps depend on it... */,\n    '}',\n\n    /* Copied from: goog/css/menuitem.css */\n    /*\n     * Copyright 2009 The Closure Library Authors. All Rights Reserved.\n     *\n     * Use of this source code is governed by the Apache License, Version 2.0.\n     * See the COPYING file for details.\n     */\n\n    /**\n     * Standard styling for menus created by goog.ui.MenuItemRenderer.\n     *\n     * @author attila@google.com (Attila Bodis)\n     */\n\n    /**\n     * State: resting.\n     *\n     * NOTE(mleibman,chrishenry):\n     * The RTL support in Closure is provided via two mechanisms -- \"rtl\" CSS\n     * classes and BiDi flipping done by the CSS compiler.  Closure supports RTL\n     * with or without the use of the CSS compiler.  In order for them not\n     * to conflict with each other, the \"rtl\" CSS classes need to have the #noflip\n     * annotation.  The non-rtl counterparts should ideally have them as well, but,\n     * since .goog-menuitem existed without .goog-menuitem-rtl for so long before\n     * being added, there is a risk of people having templates where they are not\n     * rendering the .goog-menuitem-rtl class when in RTL and instead rely solely\n     * on the BiDi flipping by the CSS compiler.  That's why we're not adding the\n     * #noflip to .goog-menuitem.\n     */\n    '.blocklyWidgetDiv .goog-menuitem {',\n    'color: #000;',\n    'font: normal 13px \"Helvetica Neue\", Helvetica, sans-serif;',\n    'list-style: none;',\n    'margin: 0;',\n    /* 28px on the left for icon or checkbox; 7em on the right for shortcut. */\n    'padding: 4px 7em 4px 28px;',\n    'white-space: nowrap;',\n    '}',\n\n    '.blocklyDropDownDiv .goog-menuitem {',\n    'color: #333333;',\n    'font: normal 13px \"Helvetica Neue\", Helvetica, sans-serif;',\n    'font-weight: bold;',\n    'list-style: none;',\n    'margin: 0;',\n    'min-height: 24px;',\n    /* 28px on the left for icon or checkbox; 7em on the right for shortcut. */\n    'padding: 4px 7em 4px 28px;',\n    'white-space: nowrap;',\n    '}',\n\n    /* BiDi override for the resting state. */\n    /* #noflip */\n    '.blocklyWidgetDiv .goog-menuitem.goog-menuitem-rtl, ',\n    '.blocklyDropDownDiv .goog-menuitem.goog-menuitem-rtl {',\n    /* Flip left/right padding for BiDi. */\n    'padding-left: 7em;',\n    'padding-right: 28px;',\n    '}',\n\n    /* If a menu doesn't have checkable items or items with icons, remove padding. */\n    '.blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem,',\n    '.blocklyWidgetDiv .goog-menu-noicon .goog-menuitem, ',\n    '.blocklyDropDownDiv .goog-menu-nocheckbox .goog-menuitem,',\n    '.blocklyDropDownDiv .goog-menu-noicon .goog-menuitem { ',\n    'padding-left: 12px;',\n    '}',\n\n    /*\n     * If a menu doesn't have items with shortcuts, leave just enough room for\n     * submenu arrows, if they are rendered.\n     */\n    '.blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem, ',\n    '.blocklyDropDownDiv .goog-menu-noaccel .goog-menuitem {',\n    'padding-right: 20px;',\n    '}',\n\n    '.blocklyWidgetDiv .goog-menuitem-content ',\n    '.blocklyDropDownDiv .goog-menuitem-content {',\n    'color: #000;',\n    'font: normal 13px \"Helvetica Neue\", Helvetica, sans-serif;',\n    '}',\n\n    /* State: disabled. */\n    '.blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel,',\n    '.blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content, ',\n    '.blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-accel,',\n    '.blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-content {',\n    'color: #ccc !important;',\n    '}',\n\n    '.blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon, ',\n    '.blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-icon {',\n    'opacity: 0.3;',\n    '-moz-opacity: 0.3;',\n    'filter: alpha(opacity=30);',\n    '}',\n\n    /* State: hover. */\n    '.blocklyWidgetDiv .goog-menuitem-highlight,',\n    '.blocklyWidgetDiv .goog-menuitem-hover {',\n    'background-color: #d6e9f8;',\n    /* Use an explicit top and bottom border so that the selection is visible',\n     * in high contrast mode. */\n    'border-color: #d6e9f8;',\n    'border-style: dotted;',\n    'border-width: 1px 0;',\n    'padding-bottom: 3px;',\n    'padding-top: 3px;',\n    '}',\n\n    '.blocklyDropDownDiv .goog-menuitem-highlight,',\n    '.blocklyDropDownDiv .goog-menuitem-hover {',\n    'background-color: rgba(0, 0, 0, 0.2);',\n    '}',\n\n    /* State: selected/checked. */\n    '.blocklyWidgetDiv .goog-menuitem-checkbox,',\n    '.blocklyWidgetDiv .goog-menuitem-icon, ',\n    '.blocklyDropDownDiv .goog-menuitem-checkbox,',\n    '.blocklyDropDownDiv .goog-menuitem-icon {',\n    'background-repeat: no-repeat;',\n    'height: 16px;',\n    'left: 6px;',\n    'position: absolute;',\n    'right: auto;',\n    'vertical-align: middle;',\n    'width: 16px;',\n    '}',\n\n    '.blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,',\n    '.blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon,',\n    '.blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox,',\n    '.blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {',\n    /* Client apps may override the URL at which they serve the sprite. */\n    'background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px !important;',\n    'position: static;' /* Scroll with the menu. */,\n    'float: left;',\n    'margin-left: -24px;',\n    '}',\n\n    /* BiDi override for the selected/checked state. */\n    /* #noflip */\n    '.blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,',\n    '.blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon,',\n    '.blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox,',\n    '.blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {',\n    /* Flip left/right positioning. */\n    'float: right;',\n    'margin-right: -24px;',\n    '}',\n\n    /* Keyboard shortcut (\"accelerator\") style. */\n    '.blocklyWidgetDiv .goog-menuitem-accel, ',\n    '.blocklyDropDownDiv .goog-menuitem-accel {',\n    'color: #999;',\n    /* Keyboard shortcuts are untranslated; always left-to-right. */\n    /* #noflip */\n    'direction: ltr;',\n    'left: auto;',\n    'padding: 0 6px;',\n    'position: absolute;',\n    'right: 0;',\n    'text-align: right;',\n    '}',\n\n    /* BiDi override for shortcut style. */\n    /* #noflip */\n    '.blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel, ',\n    '.blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-accel {',\n    /* Flip left/right positioning and text alignment. */\n    'left: 0;',\n    'right: auto;',\n    'text-align: left;',\n    '}',\n\n    /* Mnemonic styles. */\n    '.blocklyWidgetDiv .goog-menuitem-mnemonic-hint, ',\n    '.blocklyDropDownDiv .goog-menuitem-mnemonic-hint {',\n    'text-decoration: underline;',\n    '}',\n\n    '.blocklyWidgetDiv .goog-menuitem-mnemonic-separator, ',\n    '.blocklyDropDownDiv .goog-menuitem-mnemonic-separator {',\n    'color: #999;',\n    'font-size: 12px;',\n    'padding-left: 4px;',\n    '}',\n\n    /* Copied from: goog/css/menuseparator.css */\n    /*\n     * Copyright 2009 The Closure Library Authors. All Rights Reserved.\n     *\n     * Use of this source code is governed by the Apache License, Version 2.0.\n     * See the COPYING file for details.\n     */\n\n    /**\n     * Standard styling for menus created by goog.ui.MenuSeparatorRenderer.\n     *\n     * @author attila@google.com (Attila Bodis)\n     */\n\n    '.blocklyWidgetDiv .goog-menuseparator, ',\n    '.blocklyDropDownDiv .goog-menuseparator {',\n    'border-top: 1px solid #ccc;',\n    'margin: 4px 0;',\n    'padding: 0;',\n    '}',\n\n    '.blocklyFlyoutCheckbox {',\n    'fill: white;',\n    'stroke: #c8c8c8;',\n    '}',\n\n    '.blocklyFlyoutCheckbox.checked {',\n    `fill: ${Blockly.Colours.motion.primary};`,\n    `stroke: ${Blockly.Colours.motion.tertiary};`,\n    '}',\n\n    '.blocklyFlyoutCheckboxPath {',\n    'stroke: white;',\n    'stroke-width: 3;',\n    'stroke-linecap: round;',\n    'stroke-linejoin: round;',\n    '}',\n\n    '.scratchCategoryMenu {',\n    'width: 60px;',\n    'background: $colour_toolbox;',\n    'color: $colour_toolboxText;',\n    'font-size: .7rem;',\n    'user-select: none;',\n    '-webkit-user-select: none;',\n    '-moz-user-select: none;',\n    '-ms-user-select: none;',\n    '}',\n\n    '.scratchCategoryMenuHorizontal {',\n    'width: 100%;',\n    'height: 50px;',\n    'background: $colour_toolbox;',\n    'color: $colour_toolboxText;',\n    'font-size: .7em;',\n    'user-select: none;',\n    '-webkit-user-select: none;',\n    '-moz-user-select: none;',\n    '-ms-user-select: none;',\n    '}',\n\n    '.scratchCategoryMenuHorizontal .scratchCategoryMenuRow {',\n    'float: left;',\n    'margin: 3px;',\n    '}',\n\n    '.scratchCategoryMenuRow {',\n    '}',\n\n    '.scratchCategoryMenuItem {',\n    'padding: 0.375rem 0px;',\n    'cursor: pointer;',\n    'text-align: center;',\n    '}',\n\n    '.scratchCategoryMenuHorizontal .scratchCategoryMenuItem {',\n    'padding: 6px 5px;',\n    '}',\n\n    '.scratchCategoryMenuItem.categorySelected {',\n    'background: $colour_toolboxSelected;',\n    '}',\n\n    '.scratchCategoryItemBubble {',\n    'width: 1.25rem;',\n    'height: 1.25rem;',\n    'border: 1px solid;',\n    'border-radius: 100%;',\n    'margin: 0 auto 0.125rem;',\n    '}',\n\n    '.scratchCategoryItemIcon {',\n    'width: 1.25rem;',\n    'height: 1.25rem;',\n    'margin: 0 auto 0.125rem;',\n    'background-size: 100%;',\n    '}',\n\n    '.scratchCategoryMenuItem:hover {',\n    'color: $colour_toolboxHover !important;',\n    '}',\n    '',\n];\n","/**\n * Class for an image on a block.\n * @deriv/bot: Blockly implementation vs. Scratch for click handlers\n * @param {string} src The URL of the image.\n * @param {number} width Width of the image.\n * @param {number} height Height of the image.\n * @param {string=} optAlt Optional alt text for when block is collapsed.\n * @param {Function=} optOnClick Optional function to be called when the image\n *     is clicked.  If optOnClick is defined, optAlt must also be defined.\n * @param {boolean=} optFlipRtl Whether to flip the icon in RTL.\n * @extends {Blockly.Field}\n * @constructor\n */\nBlockly.FieldImage = function (src, width, height, optAlt, optOnClick, optFlipRtl) {\n    this.sourceBlock_ = null;\n\n    // Ensure height and width are numbers.  Strings are bad at math.\n    this.height_ = Number(height);\n    this.width_ = Number(width);\n    this.size_ = new goog.math.Size(this.width_, this.height_);\n    this.flipRtl_ = optFlipRtl;\n    this.tooltip_ = '';\n    this.setValue(src);\n    this.setText(optAlt);\n\n    if (typeof optOnClick === 'function') {\n        this.clickHandler_ = optOnClick;\n    }\n};\ngoog.inherits(Blockly.FieldImage, Blockly.Field);\n\n/**\n * Construct a FieldImage from a JSON arg object,\n * dereferencing any string table references.\n * @param {!Object} options A JSON object with options (src, width, height,\n *    alt, and flipRtl).\n * @return {!Blockly.FieldImage} The new field instance.\n * @package\n * @nocollapse\n */\nBlockly.FieldImage.fromJson = function (options) {\n    const src = Blockly.utils.replaceMessageReferences(options.src);\n    const width = Number(Blockly.utils.replaceMessageReferences(options.width));\n    const height = Number(Blockly.utils.replaceMessageReferences(options.height));\n    const alt = Blockly.utils.replaceMessageReferences(options.alt);\n    const flipRtl = !!options.flipRtl;\n    return new Blockly.FieldImage(src, width, height, alt, null, flipRtl);\n};\n\n/**\n * Editable fields are saved by the XML renderer, non-editable fields are not.\n */\nBlockly.FieldImage.prototype.EDITABLE = false;\n\n/**\n * Install this image on a block.\n */\nBlockly.FieldImage.prototype.init = function () {\n    if (this.fieldGroup_) {\n        // Image has already been initialized once.\n        return;\n    }\n    // Build the DOM.\n    /** @type {SVGElement} */\n    this.fieldGroup_ = Blockly.utils.createSvgElement('g', {}, null);\n    if (!this.visible_) {\n        this.fieldGroup_.style.display = 'none';\n    }\n    /** @type {SVGElement} */\n    this.imageElement_ = Blockly.utils.createSvgElement(\n        'image',\n        {\n            height: `${this.height_}px`,\n            width: `${this.width_}px`,\n        },\n        this.fieldGroup_\n    );\n    this.setValue(this.src_);\n    this.setText(this.text_);\n    this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_);\n\n    if (this.tooltip_) {\n        this.imageElement_.tooltip = this.tooltip_;\n    } else {\n        // Configure the field to be transparent with respect to tooltips.\n        this.setTooltip(this.sourceBlock_);\n    }\n    Blockly.Tooltip.bindMouseEvents(this.imageElement_);\n\n    this.maybeAddClickHandler_();\n};\n\n/**\n * Dispose of all DOM objects belonging to this text.\n */\nBlockly.FieldImage.prototype.dispose = function () {\n    goog.dom.removeNode(this.fieldGroup_);\n    this.fieldGroup_ = null;\n    this.imageElement_ = null;\n};\n\n/**\n * Bind events for a mouse down on the image, but only if a click handler has\n * been defined. If a click handler is attached to the image, change the cursor to a pointer.\n * @private\n */\nBlockly.FieldImage.prototype.maybeAddClickHandler_ = function () {\n    if (this.clickHandler_ && !this.sourceBlock_.workspace.options.readOnly && !this.sourceBlock_.isInFlyout) {\n        this.mouseDownWrapper_ = Blockly.bindEventWithChecks_(this.fieldGroup_, 'mousedown', this, this.clickHandler_);\n        this.fieldGroup_.style.cursor = 'pointer';\n    }\n};\n\n/**\n * Change the tooltip text for this field.\n * @param {string|!Element} newTip Text for tooltip or a parent element to\n *     link to for its tooltip.\n */\nBlockly.FieldImage.prototype.setTooltip = function (newTip) {\n    this.tooltip_ = newTip;\n    if (this.imageElement_) {\n        this.imageElement_.tooltip = newTip;\n    }\n};\n\n/**\n * Get the source URL of this image.\n * @return {string} Current text.\n * @override\n */\nBlockly.FieldImage.prototype.getValue = function () {\n    return this.src_;\n};\n\n/**\n * Set the source URL of this image.\n * @param {?string} src New source.\n * @override\n */\nBlockly.FieldImage.prototype.setValue = function (src) {\n    if (src === null) {\n        // No change if null.\n        return;\n    }\n    this.src_ = src;\n    if (this.imageElement_) {\n        this.imageElement_.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', src || '');\n    }\n};\n\n/**\n * Get whether to flip this image in RTL\n * @return {boolean} True if we should flip in RTL.\n */\nBlockly.FieldImage.prototype.getFlipRtl = function () {\n    return this.flipRtl_;\n};\n\n/**\n * Set the alt text of this image.\n * @param {?string} alt New alt text.\n * @override\n */\nBlockly.FieldImage.prototype.setText = function (alt) {\n    if (alt === null) {\n        // No change if null.\n        return;\n    }\n    this.text_ = alt;\n    if (this.imageElement_) {\n        this.imageElement_.setAttribute('alt', alt || '');\n    }\n};\n\n/**\n * Images are fixed width, no need to render.\n * @private\n */\nBlockly.FieldImage.prototype.render_ = function () {\n    // NOP\n};\n\n/**\n * Images are fixed width, no need to render even if forced.\n */\nBlockly.FieldImage.prototype.forceRerender = function () {\n    // NOP\n};\n\n/**\n * Images are fixed width, no need to update.\n * @private\n */\nBlockly.FieldImage.prototype.updateWidth = function () {\n    // NOP\n};\n\n/**\n * If field click is called, and click handler defined,\n * call the handler.\n */\nBlockly.FieldImage.prototype.showEditor_ = function () {\n    if (this.clickHandler_) {\n        this.clickHandler_(this);\n    }\n};\n\nBlockly.Field.register('field_image', Blockly.FieldImage);\n","/**\n * Install this text field on a block.\n */\nBlockly.FieldTextInput.prototype.init = function () {\n    if (this.fieldGroup_) {\n        // Field has already been initialized once.\n        return;\n    }\n\n    const notInShadow = !this.sourceBlock_.isShadow();\n\n    if (notInShadow) {\n        this.className_ += ' blocklyEditableLabel';\n    }\n\n    this.maxDisplayLength = 17;\n\n    Blockly.FieldTextInput.superClass_.init.call(this);\n\n    // If not in a shadow block, draw a box.\n    if (notInShadow) {\n        this.box_ = Blockly.utils.createSvgElement('rect', {\n            rx: Blockly.BlockSvg.CORNER_RADIUS * 4,\n            ry: Blockly.BlockSvg.CORNER_RADIUS * 4,\n            x: 0,\n            y: 0,\n            width: this.size_.width,\n            height: this.size_.height,\n            fill: this.sourceBlock_.getColourSecondary(),\n            stroke: this.sourceBlock_.getColourTertiary(),\n            'stroke-width': '0.3px',\n        });\n        this.fieldGroup_.insertBefore(this.box_, this.textElement_);\n    }\n};\n","/**\n * Update this gesture to record whether a block is being dragged from the\n * flyout. This function should be called on a mouse/touch move event the first time the\n * drag radius is exceeded.  It should be called no more than once per gesture.\n * If a block should be dragged from the flyout this function creates the new\n * block on the main workspace and updates targetBlock_ and startWorkspace_.\n * @return {boolean} True if a block is being dragged from the flyout.\n * @private\n */\nBlockly.Gesture.prototype.updateIsDraggingFromFlyout_ = function () {\n    // Disabled blocks may not be dragged from the flyout.\n    if (this.targetBlock_.disabled) {\n        return false;\n    }\n\n    if (!this.flyout_.isScrollable() || this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_)) {\n        this.startWorkspace_ = this.flyout_.targetWorkspace_;\n        this.startWorkspace_.updateScreenCalculationsIfScrolled();\n\n        // Start the event group now, so that the same event group is used for block\n        // creation and block dragging.\n        if (!Blockly.Events.getGroup()) {\n            Blockly.Events.setGroup(true);\n        }\n\n        // The start block is no longer relevant, because this is a drag.\n        this.startBlock_ = null;\n        this.targetBlock_ = this.flyout_.createBlock(this.mostRecentEvent_, this.targetBlock_);\n        this.targetBlock_.select();\n        return true;\n    }\n    return false;\n};\n","/**\n * Render the icon.\n * @param {number} cursorX Horizontal offset at which to position the icon.\n * @return {number} Horizontal offset for next item to draw.\n */\nBlockly.Icon.prototype.renderIcon = function (cursorX) {\n    if (this.collapseHidden && this.block_.isCollapsed()) {\n        this.iconGroup_.setAttribute('display', 'none');\n        return cursorX;\n    }\n\n    this.iconGroup_.setAttribute('display', 'block');\n\n    let newCursorX = cursorX;\n\n    const TOP_MARGIN = 9;\n    const width = this.SIZE;\n\n    if (this.block_.RTL) {\n        newCursorX -= width;\n    }\n\n    this.iconGroup_.setAttribute('transform', `localize(${newCursorX},${TOP_MARGIN})`);\n    this.computeIconLocation();\n\n    if (this.block_.RTL) {\n        newCursorX -= Blockly.BlockSvg.SEP_SPACE_X;\n    } else {\n        newCursorX += width + Blockly.BlockSvg.SEP_SPACE_X;\n    }\n\n    return newCursorX;\n};\n","import { config } from '../../constants/config';\n\n// Structure is { '<outerHtml />': { height: 1, width: 1 } }\nBlockly.Block.Dimensions = {};\n\nBlockly.Block.prototype.getDisplayName = function () {\n    if (this.meta) {\n        const block_meta = this.meta();\n        return block_meta && block_meta.display_name;\n    }\n    return this.type;\n};\n\nBlockly.Block.prototype.getSiblings = function () {\n    const siblings = [this];\n    ['getPreviousBlock', 'getNextBlock'].forEach(functionName => {\n        let block = this[functionName]();\n        while (block !== null) {\n            const parent = this.getParent();\n            if (parent && parent.id === block.id) {\n                break;\n            }\n\n            siblings.push(block);\n            block = block[functionName]();\n        }\n    });\n    return siblings;\n};\n\nBlockly.Block.prototype.getChildByType = function (type) {\n    return this.getDescendants().find(child => child.type === type);\n};\n\nBlockly.Block.prototype.getChildFieldValue = function (childType, childField) {\n    const childBlock = this.getChildByType(childType);\n    if (childBlock) {\n        const value = childBlock.getFieldValue(childField);\n        return value;\n    }\n    return null;\n};\n\nBlockly.Block.prototype.childValueToCode = function (childType, childField) {\n    const childBlock = this.getChildByType(childType);\n    return childBlock && Blockly.JavaScript.valueToCode(childBlock, childField, Blockly.JavaScript.ORDER_ATOMIC);\n};\n\nBlockly.Block.prototype.getBlocksInStatement = function (statementInputName) {\n    const blocksInStatement = [];\n    const firstBlock = this.getInputTargetBlock(statementInputName);\n\n    if (firstBlock) {\n        return firstBlock.getSiblings();\n    }\n    return blocksInStatement;\n};\n\nBlockly.Block.prototype.getLastConnectionInStatement = function (statement_input_name) {\n    const first_block_in_stack = this.getInputTargetBlock(statement_input_name);\n\n    if (first_block_in_stack) {\n        return first_block_in_stack.lastConnectionInStack();\n    }\n\n    const statement_input = this.getInput(statement_input_name);\n    return statement_input.connection;\n};\n\n/**\n * Get whether this block is enabled or not.\n * @return {boolean} True if enabled.\n */\nBlockly.Block.prototype.isEnabled = function () {\n    return !this.disabled;\n};\n\nBlockly.Block.prototype.isDescendantOf = function (type) {\n    let parentBlock = this.getParent();\n    while (parentBlock !== null) {\n        if (parentBlock.type === type) {\n            return true;\n        }\n        parentBlock = parentBlock.getParent();\n    }\n    return false;\n};\n\nBlockly.Block.prototype.getTopParent = function () {\n    let parent = this.getParent();\n    while (parent !== null) {\n        const nextParent = parent.getParent();\n        if (!nextParent) {\n            return parent;\n        }\n        parent = nextParent;\n    }\n    return null;\n};\n\nBlockly.Block.getDimensions = function (block_node) {\n    // Attempt to retrieve dimensions from memory rather than recalculating.\n    const existing_dimensions_key = Object.keys(Blockly.Block.Dimensions).find(\n        outer_html => block_node.outerHTML === outer_html\n    );\n\n    if (existing_dimensions_key) {\n        return Blockly.Block.Dimensions[existing_dimensions_key];\n    }\n\n    const options = new Blockly.Options({ media: `${__webpack_public_path__}media/` });\n    const el_injection_div = document.createElement('div');\n\n    // Create a headless workspace to calculate xmlList block dimensions\n    const svg = Blockly.createDom_(el_injection_div, options);\n    const workspace = Blockly.createMainWorkspace_(svg, options, false, false);\n    const block = Blockly.Xml.domToBlock(block_node, workspace);\n    const block_hw = block.getHeightWidth();\n\n    workspace.dispose();\n    Blockly.Block.Dimensions[block_node.outerHTML] = block_hw;\n    return block_hw;\n};\n\nBlockly.Block.prototype.isMainBlock = function () {\n    return config.mainBlocks.includes(this.type);\n};\n\nBlockly.Block.prototype.isIndependentBlock = function () {\n    return config.INDEPEDENT_BLOCKS.includes(this.type);\n};\n\n/**\n * Return the parent block or null if this block is at the top level.\n * @return {Blockly.Block} The block that holds the current block.\n */\nBlockly.Block.prototype.getRootInputTargetBlock = function () {\n    let input_name;\n    let current_block = this.getParent();\n\n    while (current_block) {\n        const root_block = this.getRootBlock();\n        const current_input = root_block.getInputWithBlock(current_block);\n\n        if (current_input && current_input.name) {\n            input_name = current_input.name;\n        }\n\n        current_block = current_block.getParent();\n    }\n\n    return input_name;\n};\n\n/**\n * Returns whether the block has an error highlighted descendant.\n */\nBlockly.Block.prototype.hasErrorHighlightedDescendant = function () {\n    const hasHighlightedDescendant = child_blocks =>\n        child_blocks.some(child_block => {\n            const is_self_highlighted = child_block.is_error_highlighted;\n            const is_descendant_highlighted = hasHighlightedDescendant(child_block.getChildren());\n\n            return is_self_highlighted || is_descendant_highlighted;\n        });\n\n    return hasHighlightedDescendant(this.getChildren());\n};\n\nBlockly.Block.isDynamic = function (block_type) {\n    return /^((procedures_)|(variables_)|(math_change$))/.test(block_type);\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../constants/config';\n\n/**\n * Make a context menu option for duplicating the current block.\n * deriv-bot: Use Blockly's implementation.\n * @param {!Blockly.BlockSvg} block The block where the right-click originated.\n * @return {!Object} A menu option, containing text, enabled, and a callback.\n * @package\n */\nBlockly.ContextMenu.blockDuplicateOption = function (block) {\n    const enabled = !config.single_instance_blocks.includes(block.type);\n    const duplicate_option = {\n        callback() {\n            Blockly.duplicate_(block);\n        },\n        enabled,\n        text: localize('Duplicate'),\n    };\n    return duplicate_option;\n};\n\n/**\n * Make a context menu option for cleaning up blocks on the workspace, by\n * aligning them vertically.\n * @param {!Blockly.WorkspaceSvg} ws The workspace where the right-click originated.\n * @param {number} numTopBlocks The number of top blocks on the workspace.\n * @return {!Object} A menu option, containing text, enabled, and a callback.\n * @package\n */\nBlockly.ContextMenu.wsCleanupOption = function (ws, numTopBlocks) {\n    return {\n        text: localize('Rearrange Vertically'),\n        enabled: numTopBlocks > 1,\n        callback: ws.cleanUp.bind(ws),\n    };\n};\n\n/**\n * Make a context menu option for collapsing all block stacks on the workspace.\n * @param {boolean} hasExpandedBlocks Whether there are any non-collapsed blocks\n *     on the workspace.\n * @param {!Array.<!Blockly.BlockSvg>} topBlocks The list of top blocks on the\n *     the workspace.\n * @return {!Object} A menu option, containing text, enabled, and a callback.\n * @package\n */\nBlockly.ContextMenu.wsCollapseOption = function (hasExpandedBlocks, topBlocks) {\n    return {\n        enabled: hasExpandedBlocks,\n        text: localize('Collapse All Blocks'),\n        callback() {\n            Blockly.ContextMenu.toggleCollapseFn_(topBlocks, true);\n        },\n    };\n};\n\n/**\n * Make a context menu option for expanding all block stacks on the workspace.\n * @param {boolean} hasCollapsedBlocks Whether there are any collapsed blocks\n *     on the workspace.\n * @param {!Array.<!Blockly.BlockSvg>} topBlocks The list of top blocks on the\n *     the workspace.\n * @return {!Object} A menu option, containing text, enabled, and a callback.\n * @package\n */\nBlockly.ContextMenu.wsExpandOption = function (hasCollapsedBlocks, topBlocks) {\n    return {\n        enabled: hasCollapsedBlocks,\n        text: localize('Expand All Blocks'),\n        callback() {\n            Blockly.ContextMenu.toggleCollapseFn_(topBlocks, false);\n        },\n    };\n};\n\n/**\n * Helper function for toggling delete state on blocks on the workspace, to be\n * called from a right-click menu.\n * deriv-bot: Remove \"animation\".\n * @param {!Array.<!Blockly.BlockSvg>} topBlocks The list of top blocks on the the workspace.\n * @param {boolean} shouldCollapse True if the blocks should be collapsed, false if they should be expanded.\n * @private\n */\nBlockly.ContextMenu.toggleCollapseFn_ = function (blocks, shouldCollapse) {\n    blocks.forEach(block => block.setCollapsed(shouldCollapse));\n};\n\nBlockly.ContextMenu.wsDeleteOption = function (ws, blocks) {\n    // Option to delete all blocks.\n    // Count the number of blocks that are deletable.\n    const delete_list = Blockly.WorkspaceSvg.buildDeleteList_(blocks);\n\n    // Scratch-specific: don't count shadow blocks in delete count\n    const delete_count = delete_list.filter(block => !block.isShadow()).length;\n\n    const event_group = Blockly.utils.genUid();\n    const DELAY = 10;\n\n    const deleteNext = () => {\n        Blockly.Events.setGroup(event_group);\n        const block = delete_list.shift();\n\n        if (block) {\n            if (block.workspace) {\n                block.dispose(false, true);\n                setTimeout(deleteNext, DELAY);\n            } else {\n                deleteNext();\n            }\n        }\n        Blockly.Events.setGroup(false);\n    };\n\n    return {\n        text:\n            delete_count === 1\n                ? localize('Delete Block')\n                : localize('Delete {{ delete_count }} Blocks', { delete_count }),\n        enabled: delete_count > 0,\n        callback() {\n            if (ws.currentGesture_) {\n                ws.currentGesture_.cancel();\n            }\n            if (delete_count < 2) {\n                deleteNext();\n            } else {\n                const msg = localize('Delete all {{ delete_count }} blocks?', { delete_count });\n                Blockly.confirm(msg, ok => {\n                    if (ok) {\n                        deleteNext();\n                    }\n                });\n            }\n        },\n    };\n};\n\n/**\n * Make a context menu option for adding or removing comments on the current block.\n * deriv-bot: Expand block before adding comment.\n * Hacky way to get comments working on collapsed blocks.\n * @param {!Blockly.BlockSvg} block The block where the right-click originated.\n * @return {!Object} A menu option, containing text, enabled, and a callback.\n * @package\n */\nBlockly.ContextMenu.blockCommentOption = function (block) {\n    const comment_option = { enabled: !goog.userAgent.IE };\n\n    // If there's already a comment, add an option to delete it.\n    if (block.comment) {\n        comment_option.text = localize('Remove comment');\n        comment_option.callback = () => {\n            block.setCommentText(null);\n        };\n    } else {\n        // If there's no comment, add an option to create a comment.\n        comment_option.text = localize('Add comment');\n        comment_option.callback = () => {\n            // deriv-bot: Expand/uncollapse for bubble to position correctly.\n            const is_collapsed = block.collapsed_;\n\n            if (is_collapsed) {\n                block.setCollapsed(false);\n            }\n\n            block.setCommentText('');\n\n            if (block.collapsed_ !== is_collapsed) {\n                block.setCollapsed(is_collapsed);\n            }\n\n            // deriv-bot: Don't focus to prevent workspace glitching.\n            // block.comment.focus();\n        };\n    }\n\n    return comment_option;\n};\n\n/**\n * Make a context menu option for detaching the current block.\n * deriv-bot: Use Blockly's implementation.\n * @param {!Blockly.BlockSvg} block The block where the right-click originated.\n * @return {!Object} A menu option, containing text, enabled, and a callback.\n * @package\n */\nBlockly.ContextMenu.blockDetachOption = function (block) {\n    const canDisconnect = block\n        .getConnections_()\n        .some(connection => connection.isConnected() && !connection.targetConnection?.sourceBlock_.isShadow_);\n\n    const enabled = block.parentBlock_ && canDisconnect;\n\n    const detach_option = {\n        callback() {\n            block.unplug(true);\n            block.moveBy(250, 100);\n        },\n        enabled,\n        text: localize('Detach Block'),\n    };\n    return detach_option;\n};\n\n/**\n * Make a context menu option for disabling stack of blocks.\n * deriv-bot: Use Blocklys implementation.\n * @param {!Blockly.BlockSvg} block The block where the right-click originated.\n * @return {!Object} A menu option, containing text, enabled, and a callback.\n * @package\n */\nBlockly.ContextMenu.blockDisableOption = function (block) {\n    const checkAreSomeEnabled = (block_, enabledArr = []) => {\n        enabledArr.push(!block_.disabled);\n        return block_.nextConnection?.targetConnection\n            ? checkAreSomeEnabled(block_.nextConnection?.targetConnection.sourceBlock_, enabledArr)\n            : enabledArr.includes(true);\n    };\n    const enabled = checkAreSomeEnabled(block);\n\n    const disableBlocksRecursively = block_ => {\n        block_.setDisabled(true);\n        if (block_.nextConnection?.targetConnection) {\n            disableBlocksRecursively(block_.nextConnection?.targetConnection.sourceBlock_);\n        }\n    };\n\n    const disableStack_option = {\n        callback() {\n            disableBlocksRecursively(block);\n        },\n        enabled,\n        text: localize('Disable stack'),\n    };\n    return disableStack_option;\n};\n\n/**\n * Make a context menu option for enabling stack of blocks.\n * deriv-bot: Use Blocklys implementation.\n * @param {!Blockly.BlockSvg} block The block where the right-click originated.\n * @return {!Object} A menu option, containing text, enabled, and a callback.\n * @package\n */\nBlockly.ContextMenu.blockEnableOption = function (block) {\n    const checkAreSomeDisabled = (block_, disabledArr = []) => {\n        if (block_.restricted_parents && !block_.restricted_parents?.includes(block_.getTopParent()?.type)) {\n            return false;\n        }\n        disabledArr.push(block_.disabled);\n        return block_.nextConnection?.targetConnection\n            ? checkAreSomeDisabled(block_.nextConnection?.targetConnection.sourceBlock_, disabledArr)\n            : disabledArr.includes(true);\n    };\n    const enabled = checkAreSomeDisabled(block);\n\n    const enableBlocksRecursively = block_ => {\n        if (!block_.restricted_parents || block_.restricted_parents.includes(block_.getTopParent()?.type)) {\n            block_.setDisabled(false);\n        }\n        if (block_.nextConnection?.targetConnection) {\n            enableBlocksRecursively(block_.nextConnection?.targetConnection.sourceBlock_);\n        }\n    };\n\n    const enableStack_option = {\n        callback() {\n            enableBlocksRecursively(block);\n        },\n        enabled,\n        text: localize('Enable stack'),\n    };\n    return enableStack_option;\n};\n","import { localize } from '@deriv/translations';\nimport DBotStore from '../dbot-store';\n\n/**\n * Construct the blocks required by the flyout for the variable category.\n * @param {!Blockly.Workspace} workspace The workspace containing variables.\n * @return {!Array.<!Element>} Array of XML block elements.\n */\nBlockly.DataCategory = function (workspace) {\n    const variableModelList = workspace.getVariablesOfType('');\n    let xmlList = [];\n\n    // `Create Variable`-Section\n    Blockly.DataCategory.addCreateVariable(xmlList, workspace);\n\n    const block_types = ['variables_set', 'variables_get', 'math_change'];\n    xmlList = xmlList.concat(Blockly.DataCategory.search(variableModelList, block_types));\n\n    return xmlList;\n};\n\nBlockly.DataCategory.search = function (variableModelList) {\n    const xmlList = [];\n    if (variableModelList.length > 0) {\n        const generateVariableFieldXmlString = variableModel => {\n            // The variable name may be user input, so it may contain characters that\n            // need to be escaped to create valid XML.\n            const escapedText = `<field name=\"VAR\" id=\"${variableModel.getId()}\" variabletype=\"${goog.string.htmlEscape(\n                variableModel.type\n            )}\">${goog.string.htmlEscape(variableModel.name)}</field>`;\n            return escapedText;\n        };\n\n        const firstVariable = variableModelList[0];\n\n        // Create 'Set `var` to'-block\n        if (Blockly.Blocks.variables_set) {\n            const gap = Blockly.Blocks.math_change ? 8 : 24;\n            const setBlockText = `<xml><block type=\"variables_set\" gap=\"${gap}\">${generateVariableFieldXmlString(\n                firstVariable\n            )}</block></xml>`;\n            const setBlock = Blockly.Xml.textToDom(setBlockText).firstChild;\n            xmlList.push(setBlock);\n        }\n\n        // Create 'Change `var` by `1`'-block\n        // if (Blockly.Blocks.math_change) {\n        //     const gap = Blockly.Blocks.variables_get ? 20 : 8;\n        //     const changeBlockText = `<xml><block type=\"math_change\" gap=\"${gap}\">${generateVariableFieldXmlString(\n        //         firstVariable\n        //     )}<value name=\"DELTA\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></xml>`;\n        //     const changeBlock = Blockly.Xml.textToDom(changeBlockText).firstChild;\n        //     xmlList.push(changeBlock);\n        // }\n\n        // Create `variable_get` block for each variable\n        if (Blockly.Blocks.variables_get) {\n            // For adding sort base on the creation date\n            variableModelList.sort(\n                (first_variable, second_variable) =>\n                    variableModelList.indexOf(second_variable) - variableModelList.indexOf(first_variable)\n            );\n\n            variableModelList.forEach(variable => {\n                const getBlockText = `<xml><block type=\"variables_get\">${generateVariableFieldXmlString(\n                    variable\n                )}</block></xml>`;\n                const getBlock = Blockly.Xml.textToDom(getBlockText).firstChild;\n                xmlList.push(getBlock);\n            });\n        }\n    }\n\n    return xmlList;\n};\n\n/**\n * Construct a create variable section and push it to the xmlList.\n * @param {!Array.<!Element>} xmlList Array of XML block elements.\n * @param {Blockly.Workspace} workspace Workspace to register callback to.\n * @deriv/bot: We only use a single type of variable, so `type` arg was removed.\n */\nBlockly.DataCategory.addCreateVariable = function (xmlList, workspace) {\n    const el_button_xml = goog.dom.createDom('button');\n    const el_input_xml = goog.dom.createDom('input');\n\n    // Set default msg, callbackKey, and callback values for type 'VARIABLE'\n    const button_text = localize('Create');\n    const callback_key = 'CREATE_VARIABLE';\n    const input_placeholder = localize('New variable name');\n\n    // Set attributes for the button\n    el_button_xml.setAttribute('text', button_text);\n    el_button_xml.setAttribute('className', 'flyout__button-new');\n    el_button_xml.setAttribute('callbackKey', callback_key);\n\n    // Set attributes for the input field\n    el_input_xml.setAttribute('className', 'flyout__input');\n    el_input_xml.setAttribute('name', 'variable');\n    el_input_xml.setAttribute('type', 'text');\n    el_input_xml.setAttribute('placeholder', input_placeholder);\n\n    const callback = function (button) {\n        const el_input_container = document.querySelector('.flyout__input > .dc-input__container');\n        const el_input = el_input_container.firstChild;\n\n        const buttonWorkspace = button.getTargetWorkspace();\n        buttonWorkspace.createVariable(el_input.value, '');\n        el_input.value = '';\n\n        const { flyout } = DBotStore.instance;\n        flyout.refreshCategory();\n    };\n\n    workspace.registerButtonCallback(callback_key, callback);\n\n    xmlList.push(el_input_xml);\n    xmlList.push(el_button_xml);\n};\n","import { runInvisibleEvents } from '../utils';\n\n/** *\n * Updates a Blockly.FieldDropdown with the passed dropdown_options. Available options:\n * - default_value       : After updating, attempt to set this value as the selected option\n * - should_trigger_event: Should an Blockly.Events.Change event be triggered?\n * - event_group         : Coincides with should_trigger_event, passes event_group along the event chain.\n * - should_pretend_empty: Trigger event, pretend oldValue was empty to force triggering event. Blockly\n *                         filters out and stops events from firing where the oldValue and newValue are the same.\n */\nBlockly.FieldDropdown.prototype.updateOptions = function (dropdown_options, options = {}) {\n    if (Blockly.DropDownDiv.isVisible()) {\n        Blockly.DropDownDiv.hideWithoutAnimation();\n    }\n\n    this.menuGenerator_ = dropdown_options;\n\n    // Blockly won't actually fire an event if the oldValue and newValue are the same. This prop\n    // sets the event's oldValue to an empty string so it's always executed.\n    let previous_value = this.getValue();\n\n    if (options.should_pretend_empty) {\n        previous_value = '';\n    }\n\n    // Set a flag indicating whether the default value passed to this function is available in the newly\n    // set dropdown options, if false the default option will be the first available one.\n    const has_default_value = dropdown_options.findIndex(item => item[1] === options.default_value) !== -1;\n\n    runInvisibleEvents(() => {\n        this.setValue('');\n\n        if (has_default_value) {\n            this.setValue(options.default_value);\n        } else if (dropdown_options.length > 0) {\n            // Default to first if option isn't available.\n            this.setValue(this.menuGenerator_[0][1]);\n        } else {\n            this.setValue(previous_value);\n        }\n    });\n\n    // If \"should_trigger_event\" prop is omitted or set to true, fire an event.\n    if (!options.should_trigger_event || options.should_trigger_event === true) {\n        const event = new Blockly.Events.BlockChange(\n            this.sourceBlock_,\n            'field',\n            this.name,\n            previous_value,\n            this.getValue()\n        );\n        event.recordUndo = false;\n        event.group = options.event_group;\n        Blockly.Events.fire(event);\n    }\n};\n\n/**\n * This function is hooked to change backgound color and change dropdown lists shape from rounded corner box to oval shape,\n * e.g. for market list, trade type, etc.\n *      'rx': Blockly.BlockSvg.CORNER_RADIUS * 4,\n *      'ry': Blockly.BlockSvg.CORNER_RADIUS * 4,\n */\nBlockly.FieldDropdown.prototype.init = function () {\n    if (this.fieldGroup_) {\n        // Dropdown has already been initialized once.\n        return;\n    }\n    // Add dropdown arrow: \"option \" (LTR) or \" \" (RTL)\n    // Positioned on render, after text size is calculated.\n    /** @type {Number} */\n    this.arrowSize_ = 12;\n    /** @type {Number} */\n    this.arrowX_ = 0;\n    /** @type {Number} */\n    this.arrowY_ = 11;\n    this.arrow_ = Blockly.utils.createSvgElement('image', {\n        height: `${this.arrowSize_}px`,\n        width: `${this.arrowSize_}px`,\n    });\n    this.arrow_.setAttributeNS(\n        'http://www.w3.org/1999/xlink',\n        'xlink:href',\n        `${Blockly.mainWorkspace.options.pathToMedia}dropdown-arrow-dark.svg`\n    );\n    this.className_ += ' blocklyDropdownText';\n    // @deriv/bot: stop the drop-down from changing its fill colour to colourTertiary on click\n    this.disableColourChange_ = true;\n\n    Blockly.FieldDropdown.superClass_.init.call(this);\n    // If not in a shadow block, draw a box.\n    if (!this.sourceBlock_.isShadow()) {\n        this.box_ = Blockly.utils.createSvgElement(\n            'rect',\n            {\n                rx: Blockly.BlockSvg.CORNER_RADIUS * 4,\n                ry: Blockly.BlockSvg.CORNER_RADIUS * 4,\n                x: 0,\n                y: 0,\n                width: this.size_.width,\n                height: this.size_.height,\n                stroke: this.sourceBlock_.getColourTertiary(),\n                'stroke-width': '0.3px',\n                fill: this.sourceBlock_.getColourSecondary(),\n                'fill-opacity': 1,\n            },\n            null\n        );\n        this.fieldGroup_.insertBefore(this.box_, this.textElement_);\n    }\n    // Force a reset of the text to add the arrow.\n    const text = this.text_;\n    this.text_ = null;\n    this.setText(text);\n};\n\n/**\n * Returns whether a dropdown is empty or not.\n */\nBlockly.FieldDropdown.prototype.isEmpty = function () {\n    return this.menuGenerator_.length === 0 || !this.menuGenerator_[0][1];\n};\n","import { localize } from '@deriv/translations';\n\n/**\n * Custom checkbox implementation.\n * @returns {Blockly.FieldImage} A Blockly.FieldImage pretending to be a checkbox.\n */\nconst FieldCheckbox = () => {\n    const getAltText = is_checked => (is_checked ? localize('Y') : localize('N'));\n    const onCheckboxClick = function () {\n        if (this.sourceBlock_.workspace.options.readOnly || this.sourceBlock_.isInFlyout) {\n            return;\n        }\n        this.is_checked = !this.is_checked;\n        this.setValue(this.is_checked);\n        this.setText(getAltText(this.is_checked));\n    };\n\n    const icon = new Blockly.FieldImage(true, 16, 16, getAltText(true), onCheckboxClick);\n\n    // Required function on Blockly.Field instances.\n    icon.fromJson = (/* options */) => {\n        return FieldCheckbox();\n    };\n\n    // Custom setValue to support imported values, this allows us to bypass\n    // adding domToMutation and mutationToDom logic to each block consuming this checkbox.\n    icon.setValue = function (value) {\n        const is_checked = value === true || value === 'TRUE';\n        const old_value = this.getValue();\n        this.src_ = is_checked ? 'TRUE' : 'FALSE';\n        const el_field_group = this.fieldGroup_; // eslint-disable-line no-underscore-dangle\n\n        if (el_field_group) {\n            Array.from(el_field_group.children).forEach(child_node => el_field_group.removeChild(child_node));\n\n            // Draw a rectangle which is coloured based on the host-block's colour.\n            Blockly.utils.createSvgElement(\n                'rect',\n                {\n                    fill: this.sourceBlock_.getColourSecondary(), // eslint-disable-line\n                    'fill-rule': 'nonzero',\n                    height: this.height_, // eslint-disable-line\n                    width: this.width_, // eslint-disable-line\n                    rx: 2,\n                    stroke: this.sourceBlock_.getColourTertiary(),\n                },\n                el_field_group\n            );\n\n            if (is_checked) {\n                // Draw checkmark.\n                Blockly.utils.createSvgElement(\n                    'path',\n                    {\n                        fill: 'var(--text-general)',\n                        d: 'M6 10.086L3.707 7.793a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l7-7a1 1 0 10-1.414-1.414L6 10.086z',\n                    },\n                    el_field_group\n                );\n            }\n        }\n\n        // Emit an event that can be redone/undone.\n        if (this.sourceBlock_ && Blockly.Events.isEnabled()) {\n            Blockly.Events.fire(\n                new Blockly.Events.BlockChange(this.sourceBlock_, 'field', this.name, old_value, this.getValue())\n            );\n        }\n    };\n\n    return icon;\n};\n\nBlockly.Field.register('field_image_checkbox', FieldCheckbox());\n","import { config } from '../../constants/config';\nimport DBotStore from '../dbot-store';\n\n/**\n * Create a copy of this block on the workspace.\n * @param {!Blockly.BlockSvg} original_block The block to copy from the flyout.\n * @return {Blockly.BlockSvg} The newly created block, or null if something\n *     went wrong with deserialization.\n * @package\n */\nBlockly.Flyout.prototype.createBlock = function (event, original_block) {\n    Blockly.Events.disable();\n\n    const main_workspace = this.targetWorkspace_;\n    const variables_before_creation = main_workspace.getAllVariables();\n\n    main_workspace.setResizesEnabled(false);\n\n    let new_block = null;\n\n    try {\n        new_block = this.placeNewBlock_(event, original_block);\n        // Close the flyout.\n        Blockly.hideChaff();\n    } finally {\n        Blockly.Events.enable();\n    }\n\n    const new_variables = Blockly.Variables.getAddedVariables(main_workspace, variables_before_creation);\n\n    if (Blockly.Events.isEnabled()) {\n        Blockly.Events.setGroup(true);\n\n        // Delete blocks of which we can only have a single instance. Dispose emits a BlockDelete\n        // event that respects the current Blockly.Events group, this is required to maintain\n        // a working undo/redo stack.\n        if (config.single_instance_blocks.includes(new_block.type)) {\n            main_workspace.getAllBlocks().forEach(ws_block => {\n                if (ws_block.type === new_block.type && ws_block.id !== new_block.id) {\n                    ws_block.dispose();\n                }\n            });\n        }\n\n        // Fire a VarCreate event for each (if any) new variable created.\n        new_variables.forEach(new_variable => {\n            Blockly.Events.fire(new Blockly.Events.VarCreate(new_variable));\n        });\n\n        Blockly.Events.fire(new Blockly.Events.Create(new_block));\n    }\n\n    if (this.autoClose) {\n        this.hide();\n    }\n\n    const { flyout } = DBotStore.instance;\n    flyout.setIsSearchFlyout(false);\n    flyout.setVisibility(false);\n\n    new_block.isInFlyout = false;\n\n    return new_block;\n};\n\n/**\n * Copy a block from the flyout to the workspace and position it correctly.\n * @param {MouseEvent} event MouseEvent with coordinates to position block. DBot only.\n * @param {!Blockly.Block} old_block The flyout block to copy.\n * @return {!Blockly.Block} The new block in the main workspace.\n * @private\n */\nBlockly.Flyout.prototype.placeNewBlock_ = function (event, old_block) {\n    const main_workspace = this.targetWorkspace_;\n    const svg_root_old = old_block.getSvgRoot();\n\n    if (!svg_root_old) {\n        throw new Error('old_block is not rendered.');\n    }\n\n    // Create the new block by cloning the block in the flyout (via XML).\n    const xml = Blockly.Xml.blockToDom(old_block, true);\n\n    // The target workspace would normally resize during domToBlock, which will\n    // lead to weird jumps.  Save it for terminateDrag.\n    main_workspace.setResizesEnabled(false);\n\n    // Using domToBlock instead of domToWorkspace means that the new block will be\n    // placed at position (0, 0) in main workspace units.\n    const block = Blockly.Xml.domToBlock(xml, main_workspace);\n    const svg_root_new = block.getSvgRoot();\n\n    if (!svg_root_new) {\n        throw new Error('block is not rendered.');\n    }\n\n    // event may be null i.e. when originating from flyout add button.\n    if (event) {\n        // The offset in pixels between the main workspace's origin and the upper left corner of the injection div.\n        const main_offset_pixels = main_workspace.getOriginOffsetInPixels();\n\n        // The position of the old block in pixels relative to the flyout workspace's origin.\n        const toolbar_height = 56;\n        const header_height = 48;\n        const old_block_pos_pixels = new goog.math.Coordinate(\n            event.clientX ? event.clientX : 0,\n            event.clientY ? event.clientY - toolbar_height - header_height : 0\n        );\n\n        // The position of the old block in pixels relative to the origin of the main workspace.\n        const final_offset_pixels = goog.math.Coordinate.difference(old_block_pos_pixels, main_offset_pixels);\n\n        // The position of the old block in main workspace coordinates.\n        const final_offset_main_ws = final_offset_pixels.scale(1 / main_workspace.scale);\n\n        block.moveBy(final_offset_main_ws.x, final_offset_main_ws.y);\n    }\n\n    return block;\n};\n","import { localize } from '@deriv/translations';\n\n/**\n * Construct the blocks required by the flyout for the procedure category.\n * @param {!Blockly.Workspace} workspace The workspace containing procedures.\n * @return {!Array.<!Element>} Array of XML block elements.\n */\nBlockly.Procedures.flyoutCategory = function (workspace) {\n    let xmlList = [];\n\n    if (Blockly.Blocks.procedures_defnoreturn) {\n        // <block type=\"procedures_defnoreturn\" gap=\"16\">\n        //     <field name=\"NAME\">do something</field>\n        // </block>\n        const block = document.createElement('block');\n        block.setAttribute('type', 'procedures_defnoreturn');\n        block.setAttribute('gap', 16);\n\n        // TEMP\n        const nameField = document.createElement('field');\n        nameField.setAttribute('name', 'NAME');\n        nameField.appendChild(document.createTextNode(localize('do something')));\n\n        block.appendChild(nameField);\n        xmlList.push(block);\n    }\n\n    if (Blockly.Blocks.procedures_defreturn) {\n        // <block type=\"procedures_defreturn\" gap=\"16\">\n        //     <field name=\"NAME\">do something</field>\n        // </block>\n        const block = document.createElement('block');\n        block.setAttribute('type', 'procedures_defreturn');\n        block.setAttribute('gap', 16);\n\n        const nameField = document.createElement('field');\n        nameField.setAttribute('name', 'NAME');\n        nameField.appendChild(document.createTextNode(localize('do something')));\n\n        block.appendChild(nameField);\n        xmlList.push(block);\n    }\n\n    if (Blockly.Blocks.procedures_ifreturn) {\n        // <block type=\"procedures_ifreturn\" gap=\"16\"></block>\n        const block = document.createElement('block');\n        block.setAttribute('type', 'procedures_ifreturn');\n        block.setAttribute('gap', 16);\n        xmlList.push(block);\n    }\n\n    if (xmlList.length) {\n        // Add slightly larger gap between system blocks and user calls.\n        xmlList[xmlList.length - 1].setAttribute('gap', 24);\n    }\n\n    const tuple = Blockly.Procedures.allProcedures(workspace);\n    xmlList = xmlList.concat(Blockly.Procedures.populateDynamicProcedures(tuple));\n    return xmlList;\n};\n\nBlockly.Procedures.populateDynamicProcedures = function (tuple) {\n    let xmlList = [];\n\n    const populateProcedures = (procedureList, templateName) => {\n        const xml = [];\n\n        if (!procedureList) {\n            return xml;\n        }\n\n        for (let i = 0; i < procedureList.length; i++) {\n            const name = procedureList[i][0];\n            const args = procedureList[i][1];\n\n            // <block type=\"procedures_callnoreturn\" gap=\"16\">\n            //   <mutation name=\"do something\">\n            //     <arg name=\"x\"></arg>\n            //   </mutation>\n            // </block>\n            const block = document.createElement('block');\n            block.setAttribute('type', templateName);\n            block.setAttribute('gap', 16);\n\n            const mutation = document.createElement('mutation');\n            mutation.setAttribute('name', name);\n            block.appendChild(mutation);\n\n            args.forEach(argumentName => {\n                const arg = document.createElement('arg');\n                arg.setAttribute('name', argumentName);\n                mutation.appendChild(arg);\n            });\n\n            xml.push(block);\n        }\n\n        return xml;\n    };\n\n    xmlList = xmlList.concat(populateProcedures(tuple[0], 'procedures_callnoreturn'));\n    xmlList = xmlList.concat(populateProcedures(tuple[1], 'procedures_callreturn'));\n\n    return xmlList;\n};\n\n/**\n * Find the definition block for the named procedure.\n * @param {string} name Name of procedure.\n * @param {!Blockly.Workspace} workspace The workspace to search.\n * @return {Blockly.Block} The procedure definition block, or null not found.\n */\nBlockly.Procedures.getDefinition = function (name, workspace) {\n    // Assume that a procedure definition is a top block.\n    const blocks = workspace.getTopBlocks(false);\n    for (let i = 0; i < blocks.length; i++) {\n        if (blocks[i].getProcedureDef) {\n            const tuple = blocks[i].getProcedureDef();\n            if (tuple && Blockly.Names.equals(tuple[0], name)) {\n                return blocks[i];\n            }\n        }\n    }\n    return null;\n};\n\n// Scratch has a broken version where they return `false` if Blockly.Names.equals(procName[0], name).\n// https://github.com/LLK/scratch-blocks/pull/1930\nBlockly.Procedures.isNameUsed = function (name, workspace, optExclude) {\n    const blocks = workspace.getAllBlocks(false);\n    // Iterate through every block and check the name.\n    return blocks.some(block => {\n        if (block !== optExclude && block.getProcedureDef) {\n            const procName = block.getProcedureDef();\n            return Blockly.Names.equals(procName[0], name);\n        }\n        return false;\n    });\n};\n\n/**\n * Move the workspace based on the most recent mouse movements.\n * @param {!goog.math.Coordinate} currentDragDeltaXY How far the pointer has\n *     moved from the position at the start of the drag, in pixel coordinates.\n * @package\n */\nBlockly.WorkspaceDragger.prototype.drag = function (currentDragDeltaXY) {\n    if (this.workspace_.isFlyout) {\n        return;\n    }\n\n    const metrics = this.startDragMetrics_;\n    const newXY = goog.math.Coordinate.sum(this.startScrollXY_, currentDragDeltaXY);\n\n    // Bound the new XY based on workspace bounds.\n    let x = Math.min(newXY.x, -metrics.contentLeft);\n    let y = Math.min(newXY.y, -metrics.contentTop);\n\n    x = Math.max(x, metrics.viewWidth - metrics.contentLeft - metrics.contentWidth);\n    y = Math.max(y, metrics.viewHeight - metrics.contentTop - metrics.contentHeight);\n\n    x = -x - metrics.contentLeft;\n    y = -y - metrics.contentTop;\n\n    this.updateScroll_(x, y);\n};\n","import DBotStore from '../dbot-store';\nimport PendingPromise from '../../utils/pending-promise';\n\nBlockly.Workspace.prototype.wait_events = [];\n\n/**\n * Clear the undo/redo stacks.\n * deriv-bot: Sync undo/redo stack with our toolbar store.\n */\nBlockly.Workspace.prototype.clearUndo = function () {\n    this.undoStack_.length = 0;\n    this.redoStack_.length = 0;\n\n    const { toolbar } = DBotStore.instance;\n\n    toolbar.setHasRedoStack();\n    toolbar.setHasUndoStack();\n\n    // Stop any events already in the firing queue from being undoable.\n    Blockly.Events.clearPendingUndo();\n};\n\n/**\n * Fire a change event.\n * deriv-bot: Sync undo/redo stack with our toolbar store.\n * @param {!Blockly.Events.Abstract} event Event to fire.\n */\nBlockly.Workspace.prototype.fireChangeListener = function (event) {\n    if (event.recordUndo) {\n        this.undoStack_.push(event);\n        this.redoStack_.length = 0;\n\n        if (this.undoStack_.length > this.MAX_UNDO) {\n            this.undoStack_.unshift();\n        }\n\n        const { toolbar } = DBotStore.instance;\n\n        toolbar.setHasRedoStack();\n        toolbar.setHasUndoStack();\n    }\n\n    // Copy listeners in case a listener attaches/detaches itself.\n    const current_listeners = this.listeners_.slice();\n\n    current_listeners.forEach(listener => {\n        listener(event);\n    });\n    /**\n     * Gets a trade definition block instance and returns it.\n     * @returns {Blockly.Block|null} The trade definition or null.\n     */\n};\n\nBlockly.Workspace.prototype.getTradeDefinitionBlock = function () {\n    return this.getAllBlocks(true).find(b => b.type === 'trade_definition');\n};\n\nBlockly.Workspace.prototype.waitForBlockEvent = function (block_id, opt_event_type = null) {\n    const event_promise = new PendingPromise();\n\n    if (!this.wait_events.some(event => event.blockId === block_id && event.type === opt_event_type)) {\n        this.wait_events.push({\n            blockId: block_id,\n            promise: event_promise,\n            type: opt_event_type,\n        });\n    }\n\n    return event_promise;\n};\n\nBlockly.Workspace.prototype.waitForBlockEvent = function (options) {\n    const { block_type, event_type, timeout } = options;\n    const promise = new PendingPromise();\n\n    this.wait_events.push({ block_type, event_type, promise });\n\n    if (timeout) {\n        setTimeout(() => {\n            if (promise.isPending) {\n                promise.reject();\n            }\n        }, timeout);\n    }\n\n    return promise;\n};\n\nBlockly.Workspace.prototype.dispatchBlockEventEffects = function (event) {\n    this.wait_events.forEach((wait_event, idx) => {\n        if (!event.blockId) {\n            return;\n        }\n\n        const block = this.getBlockById(event.blockId);\n\n        if (block) {\n            const is_same_block_type = wait_event.block_type === block.type;\n            const is_same_event_type = wait_event.event_type === null || wait_event.event_type === event.type;\n\n            if (is_same_block_type && is_same_event_type) {\n                setTimeout(() => {\n                    wait_event.promise.resolve();\n                    this.wait_events.splice(idx, 1);\n                }, 500);\n            }\n        }\n    });\n};\n\nBlockly.Workspace.prototype.getAllFields = function (is_ordered) {\n    return this.getAllBlocks(is_ordered).reduce((fields, block) => {\n        block.inputList.forEach(input => fields.push(...input.fieldRow));\n        return fields;\n    }, []);\n};\n","import { config } from '../../constants/config';\nimport { removeLimitedBlocks } from '../../utils/workspace';\nimport DBotStore from '../dbot-store';\n\n/**\n * Handle a mouse-down on SVG drawing surface.\n * deriv-bot: We bubble the mousedown event for Core to be reactive.\n * @param {!Event} e Mouse down event.\n * @private\n */\nBlockly.WorkspaceSvg.prototype.onMouseDown_ = function (e) {\n    // Bubble mousedown event up for some Core elements to react correctly.\n    if (e instanceof MouseEvent) {\n        Blockly.derivWorkspace.cachedParentSvg_.dispatchEvent(new e.constructor(e.type, e));\n    }\n    const gesture = this.getGesture(e);\n    if (gesture) {\n        gesture.handleWsStart(e, this);\n    }\n};\n\n/**\n * Scroll the workspace to center on the given block.\n * @param {?string} id ID of block center on.\n * @public\n */\nBlockly.WorkspaceSvg.prototype.centerOnBlock = function (id, hideChaff = true) {\n    if (!this.scrollbar) {\n        // eslint-disable-next-line no-console\n        console.warn('Tried to scroll a non-scrollable workspace.');\n        return;\n    }\n\n    const block = this.getBlockById(id);\n    if (!block) {\n        return;\n    }\n\n    // XY is in workspace coordinates.\n    const xy = block.getRelativeToSurfaceXY();\n\n    // Height/width is in workspace units.\n    const heightWidth = block.getHeightWidth();\n\n    // Find the enter of the block in workspace units.\n    const blockCenterY = xy.y + heightWidth.height / 2;\n\n    // In RTL the block's position is the top right of the block, not top left.\n    const multiplier = this.RTL ? -1 : 1;\n    const blockCenterX = xy.x + (multiplier * heightWidth.width) / 2;\n\n    // Workspace scale, used to convert from workspace coordinates to pixels.\n    const scale = this.scale;\n\n    // Center in pixels.  0, 0 is at the workspace origin.  These numbers may\n    // be negative.\n    const pixelX = blockCenterX * scale;\n    const pixelY = blockCenterY * scale;\n\n    const metrics = this.getMetrics();\n\n    // Scrolling to here would put the block in the top-left corner of the\n    // visible workspace.\n    const scrollToBlockX = pixelX - metrics.contentLeft;\n    const scrollToBlockY = pixelY - metrics.contentTop;\n\n    // viewHeight and viewWidth are in pixels.\n    const halfViewWidth = metrics.viewWidth / 2;\n    const halfViewHeight = metrics.viewHeight / 2;\n\n    // Put the block in the center of the visible workspace instead.\n    const scrollToCenterX = scrollToBlockX - halfViewWidth;\n    const scrollToCenterY = scrollToBlockY - halfViewHeight;\n\n    if (hideChaff) {\n        Blockly.hideChaff();\n    }\n\n    this.scrollbar.set(scrollToCenterX, scrollToCenterY);\n};\n\n/**\n * Creates a copy of passed block_node on main workspace and positions it\n * below the lowest block on the canvas.\n * @static\n * @param {Element} block_node\n * @public\n */\nBlockly.WorkspaceSvg.prototype.addBlockNode = function (block_node) {\n    const { flyout } = DBotStore.instance;\n    const block = Blockly.Xml.domToBlock(block_node, flyout.getFlyout().workspace_);\n    const top_blocks = this.getTopBlocks(true);\n    const new_block = flyout.getFlyout().createBlock(false, block);\n\n    if (top_blocks.length) {\n        const last_block = top_blocks[top_blocks.length - 1];\n        const last_block_xy = last_block.getRelativeToSurfaceXY();\n        const extra_spacing = last_block.startHat_ ? Blockly.BlockSvg.START_HAT_HEIGHT : 0;\n        const y = last_block_xy.y + last_block.getHeightWidth().height + extra_spacing + 30;\n        new_block.moveBy(last_block_xy.x, y);\n    }\n\n    // Call svgResize to avoid glitching workspace.\n    Blockly.svgResize(new_block.workspace);\n    this.centerOnBlock(new_block.id, false);\n};\n\n/**\n * Clean up the workspace by ordering all the blocks in a column. For deriv-bot\n * root-blocks are sorted in columns first, then all other blocks are positioned below\n * the lowest hanging root-block.\n */\nBlockly.WorkspaceSvg.prototype.cleanUp = function (x = 0, y = 0, blocks_to_clean = []) {\n    this.setResizesEnabled(false);\n    Blockly.Events.setGroup(Blockly.Events.getGroup() || true);\n\n    const is_import = blocks_to_clean.length !== 0;\n    const top_blocks = is_import ? blocks_to_clean : this.getTopBlocks(true);\n    const root_blocks = top_blocks\n        .filter(block => block.isMainBlock())\n        .sort((a, b) => {\n            const blockIndex = block => config.mainBlocks.findIndex(main_block_type => main_block_type === block.type);\n            return blockIndex(a) - blockIndex(b);\n        });\n    const column_count = 2;\n    const blocks_per_column = Math.ceil(root_blocks.length / column_count);\n\n    let original_cursor_y = y;\n\n    if (root_blocks.length) {\n        let column_index = 0;\n\n        root_blocks.forEach((block, index) => {\n            if (index === (column_index + 1) * blocks_per_column) {\n                original_cursor_y = y;\n                column_index++;\n            }\n\n            const xy = block.getRelativeToSurfaceXY();\n            const cursor_x = is_import ? x : -xy.x;\n            const cursor_y = original_cursor_y - (is_import ? 0 : xy.y);\n\n            if (column_index === 0) {\n                block.moveBy(cursor_x, cursor_y);\n            } else {\n                const start = (column_index - 1) * blocks_per_column;\n                const initialValue = {\n                    getHeightWidth: () => ({\n                        width: 0,\n                    }),\n                };\n\n                const fat_neighbour_block = root_blocks\n                    .slice(start, start + blocks_per_column)\n                    ?.reduce((a, b) => (a.getHeightWidth().width > b.getHeightWidth().width ? a : b), initialValue);\n\n                let position_x = cursor_x + fat_neighbour_block.getHeightWidth().width + Blockly.BlockSvg.MIN_BLOCK_X;\n                if (!is_import) {\n                    position_x += fat_neighbour_block.getRelativeToSurfaceXY().x;\n                }\n\n                block.moveBy(position_x, cursor_y);\n            }\n\n            block.snapToGrid();\n\n            original_cursor_y =\n                block.getRelativeToSurfaceXY().y + block.getHeightWidth().height + Blockly.BlockSvg.MIN_BLOCK_Y;\n        });\n\n        const initialValue = {\n            getRelativeToSurfaceXY: () => ({\n                y: 0,\n            }),\n            getHeightWidth: () => ({\n                height: 0,\n            }),\n        };\n\n        const lowest_root_block = root_blocks.reduce((a, b) => {\n            const a_metrics = a.getRelativeToSurfaceXY().y + a.getHeightWidth().height;\n            const b_metrics = b.getRelativeToSurfaceXY().y + b.getHeightWidth().height;\n            return a_metrics > b_metrics ? a : b;\n        }, initialValue);\n\n        original_cursor_y =\n            lowest_root_block.getRelativeToSurfaceXY().y +\n            lowest_root_block.getHeightWidth().height +\n            Blockly.BlockSvg.MIN_BLOCK_Y;\n    }\n\n    const filtered_top_blocks = top_blocks.filter(block => !block.isMainBlock());\n\n    filtered_top_blocks.forEach(block => {\n        const xy = block.getRelativeToSurfaceXY();\n        const cursor_x = is_import ? x : -xy.x;\n        const cursor_y = original_cursor_y - (is_import ? 0 : xy.y);\n\n        block.moveBy(cursor_x, cursor_y);\n        block.snapToGrid();\n\n        original_cursor_y =\n            block.getRelativeToSurfaceXY().y + block.getHeightWidth().height + Blockly.BlockSvg.MIN_BLOCK_Y;\n    });\n\n    Blockly.Events.setGroup(false);\n    this.setResizesEnabled(true);\n};\n\n/**\n * Return an object with all the metrics required to size scrollbars for a\n * top level workspace.  The following properties are computed:\n * Coordinate system: pixel coordinates.\n * .viewHeight: Height of the visible rectangle,\n * .viewWidth: Width of the visible rectangle,\n * .contentHeight: Height of the contents,\n * .contentWidth: Width of the content,\n * .viewTop: Offset of top edge of visible rectangle from parent,\n * .viewLeft: Offset of left edge of visible rectangle from parent,\n * .contentTop: Offset of the top-most content from the y=0 coordinate,\n * .contentLeft: Offset of the left-most content from the x=0 coordinate.\n * .absolute_top: Top-edge of view.\n * .absolute_left: Left-edge of view.\n * .toolboxWidth: Width of toolbox, if it exists.  Otherwise zero.\n * .toolboxHeight: Height of toolbox, if it exists.  Otherwise zero.\n * .flyoutWidth: Width of the flyout if it is always open.  Otherwise zero.\n * .flyoutHeight: Height of flyout if it is always open.  Otherwise zero.\n * .toolboxPosition: Top, bottom, left or right.\n * @return {!Object} Contains size and position metrics of a top level\n *   workspace.\n * @private\n * @this Blockly.WorkspaceSvg\n */\nBlockly.WorkspaceSvg.getTopLevelWorkspaceMetrics_ = function () {\n    const toolbox_dimensions = Blockly.WorkspaceSvg.getDimensionsPx_(this.toolbox_);\n    const flyout_dimensions = Blockly.WorkspaceSvg.getDimensionsPx_(this.flyout_);\n\n    // Contains height and width in CSS pixels.\n    // svg_size is equivalent to the size of the injectionDiv at this point.\n    const svg_size = Blockly.svgSize(this.getParentSvg());\n\n    if (this.toolbox_) {\n        if (this.toolboxPosition === Blockly.TOOLBOX_AT_TOP || this.toolboxPosition === Blockly.TOOLBOX_AT_BOTTOM) {\n            svg_size.height -= toolbox_dimensions.height;\n        } else if (\n            this.toolboxPosition === Blockly.TOOLBOX_AT_LEFT ||\n            this.toolboxPosition === Blockly.TOOLBOX_AT_RIGHT\n        ) {\n            svg_size.width -= toolbox_dimensions.width;\n        }\n    }\n\n    // svg_size is now the space taken up by the Blockly workspace, not including the toolbox.\n    const content_dimensions = Blockly.WorkspaceSvg.getContentDimensions_(this, svg_size);\n\n    let absolute_left = 0;\n    let absolute_top = 0;\n\n    if (this.toolbox_ && this.toolboxPosition === Blockly.TOOLBOX_AT_LEFT) {\n        absolute_top = 50; // deriv-bot: Add some spacing for Core header.\n        absolute_left = toolbox_dimensions.width;\n    }\n\n    if (this.toolbox_ && this.toolboxPosition === Blockly.TOOLBOX_AT_TOP) {\n        absolute_top = toolbox_dimensions.height + 50;\n    }\n\n    const metrics = {\n        contentHeight: content_dimensions.height,\n        contentWidth: content_dimensions.width,\n        contentTop: content_dimensions.top,\n        contentLeft: content_dimensions.left,\n        viewHeight: svg_size.height,\n        viewWidth: svg_size.width,\n        viewTop: -this.scrollY, // Must be in pixels, somehow.\n        viewLeft: -this.scrollX, // Must be in pixels, somehow.\n        absoluteTop: absolute_top,\n        absoluteLeft: absolute_left,\n        toolboxWidth: toolbox_dimensions.width,\n        toolboxHeight: toolbox_dimensions.height,\n        flyoutWidth: flyout_dimensions.width,\n        flyoutHeight: flyout_dimensions.height,\n        toolboxPosition: this.toolboxPosition,\n    };\n\n    return metrics;\n};\n\n/**\n * Paste the provided block onto the workspace.\n * @param {!Element} xml_block XML block element.\n */\nBlockly.WorkspaceSvg.prototype.paste = function (xml_block) {\n    if (!this.rendered) {\n        return;\n    }\n\n    if (this.currentGesture_) {\n        this.currentGesture_.cancel(); // Dragging while pasting?  No.\n    }\n\n    if (xml_block.tagName.toLowerCase() === 'comment') {\n        this.pasteWorkspaceComment_(xml_block);\n    } else {\n        removeLimitedBlocks(this, xml_block.getAttribute('type'));\n        this.pasteBlock_(xml_block);\n    }\n};\n\n/**\n * Show the context menu for the workspace.\n * @param {!Event} e Mouse event.\n * @private\n */\nBlockly.WorkspaceSvg.prototype.showContextMenu_ = function (e) {\n    if (this.options.readOnly || this.isFlyout) {\n        return;\n    }\n    const menu_options = [];\n    const top_blocks = this.getTopBlocks(true);\n    const all_blocks = this.getAllBlocks(true);\n\n    // Options to undo/redo previous action.\n    menu_options.push(Blockly.ContextMenu.wsUndoOption(this));\n    menu_options.push(Blockly.ContextMenu.wsRedoOption(this));\n\n    // Option to clean up blocks.\n    if (this.scrollbar) {\n        menu_options.push(Blockly.ContextMenu.wsCleanupOption(this, top_blocks.length));\n    }\n\n    if (this.options.collapse) {\n        const has_collapsed_blocks = all_blocks.some(block => block.isCollapsed());\n        const has_expanded_blocks = all_blocks.some(block => !block.isCollapsed());\n\n        menu_options.push(Blockly.ContextMenu.wsExpandOption(has_collapsed_blocks, all_blocks));\n        menu_options.push(Blockly.ContextMenu.wsCollapseOption(has_expanded_blocks, all_blocks));\n    }\n\n    // Option to add a workspace comment.\n    if (this.options.comments) {\n        menu_options.push(Blockly.ContextMenu.workspaceCommentOption(this, e));\n    }\n\n    menu_options.push(Blockly.ContextMenu.wsDeleteOption(this, top_blocks));\n\n    Blockly.ContextMenu.show(e, menu_options, this.RTL);\n};\n\n/**\n * Dispose of this workspace.\n * Unlink from all DOM elements to prevent memory leaks.\n */\nBlockly.WorkspaceSvg.prototype.dispose = function (should_show_loading = false) {\n    const disposeFn = () => {\n        // Stop rerendering.\n        this.rendered = false;\n        if (this.currentGesture_) {\n            this.currentGesture_.cancel();\n        }\n        Blockly.WorkspaceSvg.superClass_.dispose.call(this);\n        if (this.svgGroup_) {\n            goog.dom.removeNode(this.svgGroup_);\n            this.svgGroup_ = null;\n        }\n        this.svgBlockCanvas_ = null;\n        this.svgBubbleCanvas_ = null;\n        if (this.toolbox_) {\n            this.toolbox_.dispose();\n            this.toolbox_ = null;\n        }\n        if (this.flyout_) {\n            this.flyout_.dispose();\n            this.flyout_ = null;\n        }\n        if (this.trashcan) {\n            this.trashcan.dispose();\n            this.trashcan = null;\n        }\n        if (this.scrollbar) {\n            this.scrollbar.dispose();\n            this.scrollbar = null;\n        }\n        if (this.zoomControls_) {\n            this.zoomControls_.dispose();\n            this.zoomControls_ = null;\n        }\n\n        if (this.audioManager_) {\n            this.audioManager_.dispose();\n            this.audioManager_ = null;\n        }\n\n        if (this.grid_) {\n            this.grid_.dispose();\n            this.grid_ = null;\n        }\n\n        if (this.toolboxCategoryCallbacks_) {\n            this.toolboxCategoryCallbacks_ = null;\n        }\n        if (this.flyoutButtonCallbacks_) {\n            this.flyoutButtonCallbacks_ = null;\n        }\n        if (!this.options.parentWorkspace) {\n            // Top-most workspace.  Dispose of the div that the\n            // SVG is injected into (i.e. injectionDiv).\n            goog.dom.removeNode(this.getParentSvg().parentNode);\n        }\n        if (this.resizeHandlerWrapper_) {\n            Blockly.unbindEvent_(this.resizeHandlerWrapper_);\n            this.resizeHandlerWrapper_ = null;\n        }\n    };\n\n    if (should_show_loading) {\n        const { setLoading } = DBotStore.instance;\n        setLoading(true);\n\n        setTimeout(() => {\n            disposeFn();\n            setLoading(false);\n        }, 50);\n    } else {\n        disposeFn();\n    }\n};\n\n/**\n * Dispose of all blocks in workspace, with an optimization to prevent resizes.\n */\nBlockly.WorkspaceSvg.prototype.asyncClear = function () {\n    const { setLoading } = DBotStore.instance;\n    setLoading(true);\n\n    return new Promise(resolve => {\n        this.clear();\n        setLoading(false);\n        resolve();\n    });\n};\n","import { blueInfo } from '../blocks/images';\n\nBlockly.Tooltip.HOVER_MS = 50;\n\nBlockly.Tooltip.show_ = () => {\n    let params;\n    Blockly.Tooltip.DIV = ((Blockly.Tooltip.poisonedElement_ = Blockly.Tooltip.element_), Blockly.Tooltip.DIV);\n    if (!Blockly.Tooltip.blocked_) {\n        Blockly.Tooltip.DIV.innerHTML = '';\n        for (params = Blockly.Tooltip.element_.tooltip; typeof params === 'function'; ) params = params();\n        params = Blockly.utils.string.wrap(params, Blockly.Tooltip.LIMIT);\n        params = params.split('\\n');\n\n        params.forEach((param, index) => {\n            const div = document.createElement('div');\n            const text_span = document.createElement('span');\n\n            text_span.appendChild(document.createTextNode(param));\n            text_span.style.verticalAlign = 'middle';\n            Blockly.Tooltip.DIV.appendChild(div);\n\n            if (!index) {\n                const img = document.createElement('img');\n                const img_span = document.createElement('span');\n                img.src = blueInfo;\n                img.style.paddingRight = '8px';\n                img.style.verticalAlign = 'middle';\n                div.appendChild(img_span);\n                img_span.appendChild(img);\n            } else {\n                text_span.style.paddingLeft = '24px';\n            }\n\n            div.appendChild(text_span);\n        });\n\n        const direction = Blockly.Tooltip.element_.RTL;\n        const client_width = document.documentElement.clientWidth;\n        const client_height = document.documentElement.clientHeight;\n        if (Blockly.Tooltip.DIV) {\n            Blockly.Tooltip.DIV.style.direction = direction ? 'rtl' : 'ltr';\n        }\n        Blockly.Tooltip.DIV.style.display = 'block';\n        Blockly.Tooltip.visible = true;\n        let last_x = Blockly.Tooltip.lastX_;\n        last_x = direction\n            ? last_x - (Blockly.Tooltip.OFFSET_X + Blockly.Tooltip.DIV.offsetWidth)\n            : last_x + Blockly.Tooltip.OFFSET_X;\n        let last_y = Blockly.Tooltip.lastY_ + Blockly.Tooltip.OFFSET_Y;\n        if (last_y + Blockly.Tooltip.DIV.offsetHeight > client_height + window.scrollY) {\n            last_y -= Blockly.Tooltip.DIV.offsetHeight + 2 * Blockly.Tooltip.OFFSET_Y;\n        }\n        if (direction) {\n            last_x = Math.max(Blockly.Tooltip.MARGINS - window.scrollX, last_x);\n        }\n        if (last_x + Blockly.Tooltip.DIV.offsetWidth > client_width + window.scrollX - 2 * Blockly.Tooltip.MARGINS) {\n            last_x = client_width - Blockly.Tooltip.DIV.offsetWidth - 2 * Blockly.Tooltip.MARGINS;\n        }\n        Blockly.Tooltip.DIV.style.top = `${last_y}px`;\n        Blockly.Tooltip.DIV.style.left = `${last_x}px`;\n    }\n};\n\nBlockly.Tooltip.hide = () => {\n    if (Blockly.Tooltip.visible && Blockly.Tooltip.DIV) {\n        Blockly.Tooltip.visible = false;\n        setTimeout(() => (Blockly.Tooltip.DIV.style.display = 'none'), Blockly.Tooltip.HOVER_MS);\n    }\n    if (Blockly.Tooltip.showPid_) {\n        clearTimeout(Blockly.Tooltip.showPid_);\n    }\n\n    /// For hiding tooltip next to the platform name.\n    if (!Blockly.Tooltip.DIV?.style.direction) {\n        Blockly.Tooltip.visible = false;\n        Blockly.Tooltip.DIV.style.display = 'none';\n    }\n};\n","/* eslint-disble */\n/**\n * Create a main workspace and add it to the SVG.\n * @param {!Element} svg SVG element with pattern defined.\n * @param {!Blockly.Options} options Dictionary of options.\n * @param {!Blockly.BlockDragSurfaceSvg} blockDragSurface Drag surface SVG\n *     for the blocks.\n * @param {!Blockly.WorkspaceDragSurfaceSvg} workspaceDragSurface Drag surface\n *     SVG for the workspace.\n * @return {!Blockly.Workspace} Newly created main workspace.\n * @private\n */\nBlockly.createVirtualWorkspace_ = function (fragment, options, blockDragSurface, workspaceDragSurface) {\n    options.parentWorkspace = null;\n    const mainWorkspace = new Blockly.WorkspaceSvg(options, blockDragSurface, workspaceDragSurface);\n    mainWorkspace.scale = options.zoomOptions.startScale;\n    fragment.appendChild(mainWorkspace.createDom('blocklyMainBackground'));\n\n    return mainWorkspace;\n};\n","/**\n * Change the colour of the associated bubble to match its block.\n * deriv-bot: Use primary colour instead of tertiary. At time of writing\n * we use colour too similar to workspace background colour for tertiary (borders).\n * @package\n */\nBlockly.ScratchBlockComment.prototype.updateColour = function () {\n    if (this.isVisible()) {\n        this.bubble_.setColour(this.block_.getColour());\n    }\n};\n","// deriv-bot: Reference the correct function of wrap. This is due to\n// Scratch using different structure vs Blockly.\nBlockly.utils.string = {\n    wrap: Blockly.utils.wrap,\n};\n","Blockly.VariableMap.prototype.createVariable = function (name, opt_type, opt_id, opt_is_local, opt_is_cloud) {\n    let variable = this.getVariable(name, opt_type);\n\n    if (variable) {\n        return variable;\n    }\n\n    if (opt_id) {\n        variable = this.getVariableById(opt_id);\n\n        if (variable) {\n            return variable;\n        }\n    }\n\n    const optional_id = opt_id || Blockly.utils.genUid();\n    const optional_type = opt_type || '';\n\n    variable = new Blockly.VariableModel(this.workspace, name, optional_type, optional_id, opt_is_local, opt_is_cloud);\n\n    // If opt_type is not a key, create a new list.\n    if (!this.variableMap_[optional_type]) {\n        this.variableMap_[optional_type] = [variable];\n    } else {\n        // Else append the variable to the preexisting list.\n        this.variableMap_[optional_type].push(variable);\n    }\n\n    return variable;\n};\n","/**\n * Find all user-created variables that are in use in the workspace.\n * For use by generators.\n * To get a list of all variables on a workspace, including unused variables,\n * call Workspace.getAllVariables.\n * @deriv/bot: Required for JS generator to work.\n * @param {!Blockly.Workspace} ws The workspace to search for variables.\n * @return {!Array.<!Blockly.VariableModel>} Array of variable models.\n */\nBlockly.Variables.allUsedVarModels = function (ws) {\n    const blocks = ws.getAllBlocks(false);\n    const variableHash = Object.create(null);\n\n    // Iterate through every block and add each variable to the hash.\n    blocks.forEach(block => {\n        const blockVariables = block.getVarModels();\n        if (blockVariables) {\n            blockVariables.forEach(blockVariable => {\n                const id = blockVariable.getId();\n                if (id) {\n                    variableHash[id] = blockVariable;\n                }\n            });\n        }\n    });\n\n    // Flatten the hash into a list.\n    const variableList = [];\n    Object.keys(variableHash).forEach(id => {\n        variableList.push(variableHash[id]);\n    });\n\n    return variableList;\n};\n\n/**\n * Generate DOM objects representing a variable field.\n * @param {!Blockly.VariableModel} variableModel The variable model to\n *     represent.\n * @return {Element} The generated DOM.\n * @public\n */\nBlockly.Variables.generateVariableFieldDom = function (variableModel) {\n    /* Generates the following XML:\n     * <field name=\"VAR\" id=\"goKTKmYJ8DhVHpruv\" variabletype=\"int\">foo</field>\n     */\n    const field = document.createElement('field');\n\n    field.setAttribute('name', 'VAR');\n    field.setAttribute('id', variableModel.getId());\n    field.setAttribute('variabletype', variableModel.type);\n\n    const name = document.createTextNode(variableModel.name);\n    field.appendChild(name);\n    return field;\n};\n","Blockly.WorkspaceAudio.prototype.preload = function () {};\n","Blockly.Xml.NODE_BLOCK = 'BLOCK';\nBlockly.Xml.NODE_BUTTON = 'BUTTON';\nBlockly.Xml.NODE_LABEL = 'LABEL';\nBlockly.Xml.NODE_SHADOW = 'SHADOW';\nBlockly.Xml.NODE_INPUT = 'INPUT';\n","import filesaver from 'file-saver';\nimport { config } from '../constants/config';\n\nexport const saveAs = ({ data, filename, type }) => {\n    const blob = new Blob([data], { type });\n    filesaver.saveAs(blob, filename);\n};\n\nexport const getContractTypeOptions = (contract_type, trade_type) => {\n    const trade_types = config.opposites[trade_type.toUpperCase()];\n\n    if (!trade_types) {\n        return config.NOT_AVAILABLE_DROPDOWN_OPTIONS;\n    }\n\n    const contract_options = trade_types.map(type => Object.entries(type)[0].reverse());\n\n    // When user selected a specific contract, only return the contract type they selected.\n    if (contract_type !== 'both') {\n        return contract_options.filter(option => option[1] === contract_type);\n    }\n\n    return contract_options;\n};\n","import { localize } from '@deriv/translations';\nimport { saveAs } from '../shared';\nimport BlockConversion from '../backward-compatibility';\nimport { config } from '../../constants/config';\nimport { observer as globalObserver } from '../../utils/observer';\nimport { removeLimitedBlocks } from '../../utils/workspace';\nimport { saveWorkspaceToRecent } from '../../utils/local-storage';\nimport DBotStore from '../dbot-store';\nimport { log_types } from '../../constants/messages';\n\nexport const updateWorkspaceName = () => {\n    const { save_modal } = DBotStore.instance;\n\n    const file_name = save_modal.bot_name ?? config.default_file_name;\n\n    if (document.title.indexOf('-') > -1) {\n        const string_to_replace = document.title.substr(document.title.indexOf('-'));\n        const new_document_title = document.title.replace(string_to_replace, `- ${file_name}`);\n\n        document.title = new_document_title;\n    } else {\n        document.title += ` - ${file_name}`;\n    }\n};\n\nexport const isMainBlock = block_type => config.mainBlocks.indexOf(block_type) >= 0;\n\nexport const oppositesToDropdownOptions = opposite_name => {\n    return opposite_name.map(contract_type => {\n        // i.e. [['CALL', localize('Rise')]] becomes [[localize('Rise'), 'CALL']];\n        return Object.entries(contract_type)[0].reverse();\n    });\n};\n\nexport const cleanUpOnLoad = (blocks_to_clean, drop_event, workspace) => {\n    const { clientX = 0, clientY = 0 } = drop_event || {};\n    const toolbar_height = 76;\n    const blockly_metrics = workspace.getMetrics();\n    const scale_cancellation = 1 / workspace.scale;\n    const blockly_left = blockly_metrics.absoluteLeft - blockly_metrics.viewLeft;\n    const blockly_top = document.body.offsetHeight - blockly_metrics.viewHeight - blockly_metrics.viewTop;\n    const cursor_x = clientX ? (clientX - blockly_left) * scale_cancellation : 0;\n    const cursor_y = clientY ? (clientY - blockly_top - toolbar_height) * scale_cancellation : 0;\n\n    workspace.cleanUp(cursor_x, cursor_y, blocks_to_clean);\n};\n\nexport const save = (filename = '@deriv/bot', collection = false, xmlDom) => {\n    xmlDom.setAttribute('is_dbot', 'true');\n    xmlDom.setAttribute('collection', collection ? 'true' : 'false');\n\n    const data = Blockly.Xml.domToPrettyText(xmlDom);\n    saveAs({ data, type: 'text/xml;charset=utf-8', filename: `${filename}.xml` });\n};\n\nexport const load = ({\n    block_string,\n    drop_event,\n    file_name,\n    strategy_id,\n    from,\n    workspace,\n    showIncompatibleStrategyDialog,\n}) => {\n    const { setLoading } = DBotStore.instance;\n    setLoading(true);\n\n    setTimeout(async () => {\n        const showInvalidStrategyError = () => {\n            setLoading(false);\n            const error_message = localize('XML file contains unsupported elements. Please check or modify file.');\n            globalObserver.emit('ui.log.error', error_message);\n        };\n\n        // Check if XML can be parsed correctly.\n        try {\n            const xmlDoc = new DOMParser().parseFromString(block_string, 'application/xml');\n\n            if (xmlDoc.getElementsByTagName('parsererror').length) {\n                return showInvalidStrategyError();\n            }\n        } catch (e) {\n            return showInvalidStrategyError();\n        }\n\n        let xml;\n\n        // Check if XML can be parsed into a strategy.\n        try {\n            xml = Blockly.Xml.textToDom(block_string);\n        } catch (e) {\n            return showInvalidStrategyError();\n        }\n\n        const blockConversion = new BlockConversion();\n        xml = blockConversion.convertStrategy(xml, showIncompatibleStrategyDialog);\n\n        const blockly_xml = xml.querySelectorAll('block');\n\n        // Check if there are any blocks in this strategy.\n        if (!blockly_xml.length) {\n            return showInvalidStrategyError();\n        }\n\n        // Check if all block types in XML are allowed.\n        const has_invalid_blocks = Array.from(blockly_xml).some(block => {\n            const block_type = block.getAttribute('type');\n            return !Object.keys(Blockly.Blocks).includes(block_type);\n        });\n\n        if (has_invalid_blocks) {\n            return showInvalidStrategyError();\n        }\n\n        try {\n            const is_collection = xml.hasAttribute('collection') && xml.getAttribute('collection') === 'true';\n            const event_group = is_collection ? `load_collection${Date.now()}` : `dbot-load${Date.now()}`;\n\n            Blockly.Events.setGroup(event_group);\n            removeLimitedBlocks(\n                workspace,\n                Array.from(blockly_xml).map(xml_block => xml_block.getAttribute('type'))\n            );\n\n            if (is_collection) {\n                loadBlocks(xml, drop_event, event_group, workspace);\n            } else {\n                await loadWorkspace(xml, event_group, workspace);\n\n                const is_main_workspace = workspace === Blockly.derivWorkspace;\n                if (is_main_workspace) {\n                    const { save_modal } = DBotStore.instance;\n\n                    save_modal.updateBotName(file_name);\n                    workspace.clearUndo();\n                    workspace.current_strategy_id = strategy_id || Blockly.utils.genUid();\n                    await saveWorkspaceToRecent(xml, from);\n                }\n            }\n\n            // Set user disabled state on all disabled blocks. This ensures we don't change the disabled\n            // state through code, which was implemented for user experience.\n            workspace.getAllBlocks().forEach(block => {\n                if (block.disabled) {\n                    block.is_user_disabled_state = true;\n                }\n            });\n\n            if (workspace === Blockly.derivWorkspace) {\n                globalObserver.emit('ui.log.success', { log_type: log_types.LOAD_BLOCK });\n            }\n        } catch (e) {\n            console.error(e); // eslint-disable-line\n            return showInvalidStrategyError();\n        } finally {\n            setLoading(false);\n        }\n\n        return true;\n    }, 500);\n};\n\nexport const loadBlocks = (xml, drop_event, event_group, workspace) => {\n    Blockly.Events.setGroup(event_group);\n\n    const block_ids = Blockly.Xml.domToWorkspace(xml, workspace);\n    const added_blocks = block_ids.map(block_id => workspace.getBlockById(block_id));\n\n    if (drop_event && Object.keys(drop_event).length !== 0) {\n        cleanUpOnLoad(added_blocks, drop_event, workspace);\n    } else {\n        workspace.cleanUp();\n    }\n};\n\nexport const loadWorkspace = async (xml, event_group, workspace) => {\n    Blockly.Events.setGroup(event_group);\n    await workspace.asyncClear();\n    Blockly.Xml.domToWorkspace(xml, workspace);\n};\n\nconst loadBlocksFromHeader = (xml_string, block) => {\n    // eslint-disable-next-line consistent-return\n    return new Promise((resolve, reject) => {\n        let xml;\n\n        try {\n            xml = Blockly.Xml.textToDom(xml_string);\n        } catch (error) {\n            return reject(localize('Unrecognized file format'));\n        }\n\n        try {\n            const is_collection = xml.hasAttribute('collection') && xml.getAttribute('collection') === 'true';\n\n            if (!is_collection) {\n                reject(localize('Remote blocks to load must be a collection.'));\n            }\n\n            addLoaderBlocksFirst(xml)\n                .then(() => {\n                    Array.from(xml.children).forEach(el_block => addDomAsBlock(el_block, block));\n                    resolve();\n                })\n                .catch(() => {\n                    reject();\n                });\n        } catch (e) {\n            reject(localize('Unable to load the block file.'));\n        }\n    });\n};\n\nexport const loadBlocksFromRemote = block => {\n    // eslint-disable-next-line consistent-return\n    return new Promise((resolve, reject) => {\n        let url = block.getFieldValue('URL');\n\n        if (url.indexOf('http') === -1) {\n            url = `http://${url}`;\n        }\n\n        const url_pattern = /[^/]*\\.[a-zA-Z]{3}$/;\n        const has_possible_missing_index_xml = url.slice(-1)[0] === '/';\n\n        if (!url.match(url_pattern) && !has_possible_missing_index_xml) {\n            return reject(localize('Target must be an XML file'));\n        }\n\n        if (has_possible_missing_index_xml) {\n            url += 'index.xml';\n        }\n\n        if (block.isKnownUrl(url)) {\n            block.setDisabled(true);\n            return reject(localize('This URL is already loaded'));\n        }\n\n        const onFetchError = () => reject(localize('An error occured while trying to load the URL'));\n\n        fetch(url)\n            .then(response => {\n                if (response.ok) {\n                    response.text().then(xml_string => {\n                        loadBlocksFromHeader(xml_string, block)\n                            .then(() => resolve(block))\n                            .catch(onFetchError);\n                    });\n                } else {\n                    onFetchError();\n                }\n            })\n            .catch(onFetchError);\n    });\n};\n\nexport const addLoaderBlocksFirst = xml => {\n    return new Promise((resolve, reject) => {\n        const promises = [];\n\n        Array.from(xml.children).forEach(el_block => {\n            const block_type = el_block.getAttribute('type');\n\n            if (block_type === 'loader') {\n                el_block.remove();\n                const loader = Blockly.Xml.domToBlock(el_block, Blockly.derivWorkspace);\n                promises.push(loadBlocksFromRemote(loader)); // eslint-disable-line no-use-before-define\n            }\n        });\n\n        if (promises.length) {\n            Promise.all(promises).then(resolve, reject);\n        } else {\n            resolve([]);\n        }\n    });\n};\n\nexport const addDomAsBlock = (el_block, parent_block = null) => {\n    if (el_block.tagName.toLowerCase() === 'variables') {\n        return Blockly.Xml.domToVariables(el_block, Blockly.derivWorkspace);\n    }\n\n    const block_type = el_block.getAttribute('type');\n    const block_conversion = new BlockConversion();\n    const block_xml = Blockly.Xml.blockToDom(block_conversion.convertBlockNode(el_block));\n\n    // Fix legacy Blockly `varid` attribute.\n    Array.from(block_xml.getElementsByTagName('arg')).forEach(el => {\n        if (el.hasAttribute('varid')) {\n            el.setAttribute('varId', el.getAttribute('varid'));\n        }\n    });\n\n    removeLimitedBlocks(Blockly.derivWorkspace, block_type);\n\n    const block = Blockly.Xml.domToBlock(block_xml, Blockly.derivWorkspace);\n\n    if (parent_block) {\n        parent_block.blocks_added_by_me.push(block);\n    }\n\n    return block;\n};\n\nexport const hasAllRequiredBlocks = workspace => {\n    const blocks_in_workspace = workspace.getAllBlocks();\n    const trade_type_block = workspace.getAllBlocks(true).find(block => block.type === 'trade_definition_tradetype');\n    if (!trade_type_block) return false;\n    const selected_trade_type = trade_type_block.getFieldValue('TRADETYPE_LIST');\n    const mandatory_tradeoptions_block =\n        selected_trade_type === 'multiplier' ? 'trade_definition_multiplier' : 'trade_definition_tradeoptions';\n    const { mandatoryMainBlocks } = config;\n    const required_block_types = [mandatory_tradeoptions_block, ...mandatoryMainBlocks];\n    const all_block_types = blocks_in_workspace.map(block => block.type);\n    const has_all_required_blocks = required_block_types.every(block_type => all_block_types.includes(block_type));\n\n    return has_all_required_blocks;\n};\n\nexport const isAllRequiredBlocksEnabled = workspace => {\n    const trade_type_block = workspace.getAllBlocks(true).find(block => block.type === 'trade_definition_tradetype');\n    const selected_trade_type = trade_type_block.getFieldValue('TRADETYPE_LIST');\n    const mandatory_tradeoptions_block =\n        selected_trade_type === 'multiplier' ? 'trade_definition_multiplier' : 'trade_definition_tradeoptions';\n    const { mandatoryMainBlocks } = config;\n    const required_block_types = [mandatory_tradeoptions_block, ...mandatoryMainBlocks];\n\n    const enabled_blocks_types = workspace\n        .getAllBlocks()\n        .filter(block => !block.disabled)\n        .map(block => block.type);\n\n    return required_block_types.every(required_type => enabled_blocks_types.includes(required_type));\n};\n\nexport const scrollWorkspace = (workspace, scroll_amount, is_horizontal, is_chronological) => {\n    const ws_metrics = workspace.getMetrics();\n\n    let scroll_x = ws_metrics.viewLeft - ws_metrics.contentLeft;\n    let scroll_y = ws_metrics.viewTop - ws_metrics.contentTop;\n\n    if (is_horizontal) {\n        scroll_x += is_chronological ? scroll_amount : -scroll_amount;\n        scroll_y += -20;\n    } else {\n        scroll_x += -20;\n        scroll_y += is_chronological ? scroll_amount : -scroll_amount;\n    }\n\n    workspace.scrollbar.set(scroll_x, scroll_y);\n};\n\n/**\n * Sets the Blockly.Events.group_ and executes the passed callBackFn. Mainly\n * used to ensure undo/redo actions are executed correctly.\n * @param {Boolean} use_existing_group Uses the existing event group if true.\n * @param {Function} callbackFn Logic to execute as part of this event group.\n */\nexport const runGroupedEvents = (use_existing_group, callbackFn, opt_group_name) => {\n    const group = (use_existing_group && Blockly.Events.getGroup()) || opt_group_name || true;\n\n    Blockly.Events.setGroup(group);\n    callbackFn();\n\n    if (!use_existing_group) {\n        Blockly.Events.setGroup(false);\n    }\n};\n\n/**\n * Sets the recordUndo flag to \"false\" globally, this will ensure any events\n * happening as part of the callbackFn logic cannot be undone.\n * @param {*} callbackFn Logic to execute as part of this event group.\n */\nexport const runIrreversibleEvents = callbackFn => {\n    const { recordUndo } = Blockly.Events;\n    Blockly.Events.recordUndo = false;\n\n    callbackFn();\n\n    Blockly.Events.recordUndo = recordUndo;\n};\n\n/**\n * Disables Blockly Events globally and runs the passed callbackFn.\n * (Preference should be given to runIrreversibleEvents).\n * @param {*} callbackFn Logic to completely hide from Blockly\n */\nexport const runInvisibleEvents = callbackFn => {\n    Blockly.Events.disable();\n    callbackFn();\n    Blockly.Events.enable();\n};\n\nexport const updateDisabledBlocks = (workspace, event) => {\n    if (event.type === Blockly.Events.END_DRAG) {\n        workspace.getAllBlocks().forEach(block => {\n            if (!block.getParent() || block.is_user_disabled_state) {\n                return;\n            }\n\n            const restricted_parents = block.restricted_parents || [];\n            if (restricted_parents.length === 0) {\n                return;\n            }\n\n            const should_disable = !restricted_parents.some(restricted_parent =>\n                block.isDescendantOf(restricted_parent)\n            );\n\n            runGroupedEvents(\n                true,\n                () => {\n                    block.setDisabled(should_disable);\n                },\n                event.group\n            );\n\n            Blockly.Events.setGroup(false);\n        });\n    }\n};\n\nexport const emptyTextValidator = input => {\n    return !input || input === \"''\";\n};\n\n/* eslint-disable no-bitwise */\nexport const isDarkRgbColour = string_rgb => {\n    const values = string_rgb.substring(1);\n    const rgb = parseInt(values, 16);\n    const red = (rgb >> 16) & 0xff;\n    const green = (rgb >> 8) & 0xff;\n    const blue = (rgb >> 0) & 0xff;\n    const luma = 0.2126 * red + 0.7152 * green + 0.0722 * blue;\n    return luma < 160;\n};\n/* eslint-enable */\n","import { localize } from '@deriv/translations';\nimport PendingPromise from '../../utils/pending-promise';\nimport { config } from '../../constants/config';\n\nexport default class ActiveSymbols {\n    constructor(ws, trading_times) {\n        this.active_symbols = [];\n        this.disabled_markets = [];\n        this.disabled_symbols = ['frxGBPNOK', 'frxUSDNOK', 'frxUSDNEK', 'frxUSDSEK']; // These are only forward-starting.\n        this.disabled_submarkets = ['energy', 'step_index'];\n        this.init_promise = new PendingPromise();\n        this.is_initialised = false;\n        this.processed_symbols = {};\n        this.trading_times = trading_times;\n        this.ws = ws;\n    }\n\n    async retrieveActiveSymbols(is_forced_update = false) {\n        await this.trading_times.initialise();\n\n        if (!is_forced_update && this.is_initialised) {\n            await this.init_promise;\n            return this.active_symbols;\n        }\n\n        this.is_initialised = true;\n\n        const { active_symbols } = await this.ws.authorized.activeSymbols();\n\n        this.active_symbols = active_symbols;\n        this.processed_symbols = this.processActiveSymbols();\n        this.trading_times.onMarketOpenCloseChanged = changes => {\n            Object.keys(changes).forEach(symbol_name => {\n                const symbol_obj = this.active_symbols[symbol_name];\n\n                if (symbol_obj) {\n                    symbol_obj.exchange_is_open = changes[symbol_name];\n                }\n            });\n\n            this.changes = changes;\n            this.processActiveSymbols();\n        };\n\n        this.init_promise.resolve();\n\n        return this.active_symbols;\n    }\n\n    processActiveSymbols() {\n        return this.active_symbols.reduce((processed_symbols, symbol) => {\n            if (\n                this.disabled_markets.includes(symbol.market) ||\n                this.disabled_symbols.includes(symbol.symbol) ||\n                this.disabled_submarkets.includes(symbol.submarket)\n            ) {\n                return processed_symbols;\n            }\n\n            const isExistingValue = (object, prop) => Object.keys(object).findIndex(a => a === symbol[prop]) !== -1;\n\n            if (!isExistingValue(processed_symbols, 'market')) {\n                processed_symbols[symbol.market] = {\n                    display_name: symbol.market_display_name,\n                    submarkets: {},\n                };\n            }\n\n            const { submarkets } = processed_symbols[symbol.market];\n\n            if (!isExistingValue(submarkets, 'submarket')) {\n                submarkets[symbol.submarket] = {\n                    display_name: symbol.submarket_display_name,\n                    symbols: {},\n                };\n            }\n\n            const { symbols } = submarkets[symbol.submarket];\n\n            if (!isExistingValue(symbols, 'symbol')) {\n                symbols[symbol.symbol] = {\n                    display_name: symbol.display_name,\n                    pip_size: `${symbol.pip}`.length - 2,\n                    is_active: !symbol.is_trading_suspended && symbol.exchange_is_open,\n                };\n            }\n\n            return processed_symbols;\n        }, {});\n    }\n\n    /**\n     * Retrieves all symbols and returns an array of symbol objects consisting of symbol and their linked market + submarket.\n     * @returns {Array} Symbols and their submarkets + markets.\n     */\n    getAllSymbols(should_be_open = false) {\n        const all_symbols = [];\n\n        Object.keys(this.processed_symbols).forEach(market_name => {\n            if (should_be_open && this.isMarketClosed(market_name)) {\n                return;\n            }\n\n            const market = this.processed_symbols[market_name];\n            const { submarkets } = market;\n\n            Object.keys(submarkets).forEach(submarket_name => {\n                const submarket = submarkets[submarket_name];\n                const { symbols } = submarket;\n\n                Object.keys(symbols).forEach(symbol_name => {\n                    const symbol = symbols[symbol_name];\n\n                    all_symbols.push({\n                        market: market_name,\n                        market_display: market.display_name,\n                        submarket: submarket_name,\n                        submarket_display: submarket.display_name,\n                        symbol: symbol_name,\n                        symbol_display: symbol.display_name,\n                    });\n                });\n            });\n        });\n\n        return all_symbols;\n    }\n\n    getMarketDropdownOptions() {\n        const market_options = [];\n\n        Object.keys(this.processed_symbols).forEach(market_name => {\n            const { display_name } = this.processed_symbols[market_name];\n            const market_display_name =\n                display_name + (this.isMarketClosed(market_name) ? ` ${localize('(Closed)')}` : '');\n            market_options.push([market_display_name, market_name]);\n        });\n\n        if (market_options.length === 0) {\n            return config.NOT_AVAILABLE_DROPDOWN_OPTIONS;\n        }\n        market_options.sort(a => (a[1] === 'synthetic_index' ? -1 : 1));\n\n        const has_closed_markets = market_options.some(market_option => this.isMarketClosed(market_option[1]));\n\n        if (has_closed_markets) {\n            const sorted_options = this.sortDropdownOptions(market_options, this.isMarketClosed);\n\n            if (this.isMarketClosed('forex')) {\n                return sorted_options.sort(a => (a[1] === 'synthetic_index' ? -1 : 1));\n            }\n\n            return sorted_options;\n        }\n\n        return market_options;\n    }\n\n    getSubmarketDropdownOptions(market) {\n        const submarket_options = [];\n        const market_obj = this.processed_symbols[market];\n\n        if (market_obj) {\n            const { submarkets } = market_obj;\n\n            Object.keys(submarkets).forEach(submarket_name => {\n                const { display_name } = submarkets[submarket_name];\n                const submarket_display_name =\n                    display_name + (this.isSubmarketClosed(submarket_name) ? ` ${localize('(Closed)')}` : '');\n                submarket_options.push([submarket_display_name, submarket_name]);\n            });\n        }\n\n        if (submarket_options.length === 0) {\n            return config.NOT_AVAILABLE_DROPDOWN_OPTIONS;\n        }\n        if (market === 'synthetic_index') {\n            submarket_options.sort(a => (a[1] === 'random_index' ? -1 : 1));\n        }\n\n        return this.sortDropdownOptions(submarket_options, this.isSubmarketClosed);\n    }\n\n    getSymbolDropdownOptions(submarket) {\n        const symbol_options = Object.keys(this.processed_symbols).reduce((accumulator, market_name) => {\n            const { submarkets } = this.processed_symbols[market_name];\n\n            Object.keys(submarkets).forEach(submarket_name => {\n                if (submarket_name === submarket) {\n                    const { symbols } = submarkets[submarket_name];\n                    Object.keys(symbols).forEach(symbol_name => {\n                        const { display_name } = symbols[symbol_name];\n                        const symbol_display_name =\n                            display_name + (this.isSymbolClosed(symbol_name) ? ` ${localize('(Closed)')}` : '');\n                        accumulator.push([symbol_display_name, symbol_name]);\n                    });\n                }\n            });\n\n            return accumulator;\n        }, []);\n\n        if (symbol_options.length === 0) {\n            return config.NOT_AVAILABLE_DROPDOWN_OPTIONS;\n        }\n\n        return this.sortDropdownOptions(symbol_options, this.isSymbolClosed);\n    }\n\n    isMarketClosed(market_name) {\n        const market = this.processed_symbols[market_name];\n\n        if (!market) {\n            return true;\n        }\n\n        return Object.keys(market.submarkets).every(submarket_name => this.isSubmarketClosed(submarket_name));\n    }\n\n    isSubmarketClosed(submarket_name) {\n        const market_name = Object.keys(this.processed_symbols).find(name => {\n            const market = this.processed_symbols[name];\n            return Object.keys(market.submarkets).includes(submarket_name);\n        });\n\n        if (!market_name) {\n            return true;\n        }\n\n        const market = this.processed_symbols[market_name];\n        const submarket = market.submarkets[submarket_name];\n\n        if (!submarket) {\n            return true;\n        }\n\n        const { symbols } = submarket;\n        return Object.keys(symbols).every(symbol_name => this.isSymbolClosed(symbol_name));\n    }\n\n    isSymbolClosed(symbol_name) {\n        return this.active_symbols.some(\n            active_symbol =>\n                active_symbol.symbol === symbol_name &&\n                (!active_symbol.exchange_is_open || active_symbol.is_trading_suspended)\n        );\n    }\n\n    sortDropdownOptions = (dropdown_options, closedFunc) => {\n        const options = [...dropdown_options];\n\n        options.sort((a, b) => {\n            const is_a_closed = closedFunc.call(this, a[1]);\n            const is_b_closed = closedFunc.call(this, b[1]);\n\n            if (is_a_closed && !is_b_closed) {\n                return 1;\n            } else if (is_a_closed === is_b_closed) {\n                return 0;\n            }\n            return -1;\n        });\n\n        return options;\n    };\n}\n","import { datadogLogs } from '@datadog/browser-logs';\nimport { formatDate, formatTime } from '@deriv/shared';\n\nconst DATADOG_CLIENT_TOKEN_LOGS = process.env.DATADOG_CLIENT_TOKEN_LOGS ?? '';\nconst isProduction = process.env.CIRCLE_JOB === 'release_production';\nconst isStaging = process.env.CIRCLE_JOB === 'release_staging';\nlet dataDogSessionSampleRate = 0;\n\ndataDogSessionSampleRate = +process.env.DATADOG_SESSION_SAMPLE_RATE_LOGS ?? 1;\nlet dataDogVersion = '';\nlet dataDogEnv = '';\n\nif (isProduction) {\n    dataDogVersion = `deriv-app-${process.env.CIRCLE_TAG}`;\n    dataDogEnv = 'production';\n} else if (isStaging) {\n    dataDogVersion = `deriv-app-staging-v${formatDate(new Date(), 'YYYYMMDD')}-${formatTime(Date.now(), 'HH:mm')}`;\n    dataDogEnv = 'staging';\n}\n\nif (DATADOG_CLIENT_TOKEN_LOGS) {\n    datadogLogs.init({\n        clientToken: DATADOG_CLIENT_TOKEN_LOGS,\n        site: 'datadoghq.com',\n        forwardErrorsToLogs: false,\n        service: 'Dbot',\n        sessionSampleRate: dataDogSessionSampleRate,\n        version: dataDogVersion,\n        env: dataDogEnv,\n    });\n}\n\nexport const REQUESTS = [\n    'active_symbols',\n    'authorize',\n    'balance',\n    'buy',\n    'proposal',\n    'proposal_open_contract',\n    'run-proposal',\n    'transaction',\n    'ticks_history',\n    'history',\n];\n\nclass APIMiddleware {\n    constructor(config) {\n        this.config = config;\n        this.debounced_calls = {};\n        this.addGlobalMethod();\n    }\n\n    getRequestType = request => {\n        let req_type;\n        REQUESTS.forEach(type => {\n            if (type in request && !req_type) req_type = type;\n        });\n\n        return req_type;\n    };\n\n    log = (measures = [], is_bot_running) => {\n        if (measures && measures.length) {\n            measures.forEach(measure => {\n                datadogLogs.logger.info(measure.name, {\n                    name: measure.name,\n                    startTime: measure.startTimeDate,\n                    duration: measure.duration,\n                    detail: measure.detail,\n                    isBotRunning: is_bot_running,\n                });\n            });\n        }\n    };\n\n    defineMeasure = res_type => {\n        if (res_type) {\n            let measure;\n            if (res_type === 'proposal') {\n                performance.mark('first_proposal_end');\n                if (performance.getEntriesByName('bot-start', 'mark').length) {\n                    measure = performance.measure('run-proposal', 'bot-start', 'first_proposal_end');\n                    performance.clearMarks('bot-start');\n                }\n            }\n            if (res_type === 'history') {\n                performance.mark('ticks_history_end');\n                measure = performance.measure('ticks_history', 'ticks_history_start', 'ticks_history_end');\n            } else {\n                performance.mark(`${res_type}_end`);\n                measure = performance.measure(`${res_type}`, `${res_type}_start`, `${res_type}_end`);\n            }\n            return (measure.startTimeDate = new Date(Date.now() - measure.startTime));\n        }\n        return false;\n    };\n\n    sendIsCalled = ({ response_promise, args: [request] }) => {\n        const req_type = this.getRequestType(request);\n        if (req_type) performance.mark(`${req_type}_start`);\n        response_promise.then(res => {\n            const res_type = this.getRequestType(res);\n            if (res_type) {\n                this.defineMeasure(res_type);\n            }\n        });\n        return response_promise;\n    };\n\n    sendRequestsStatistic = is_bot_running => {\n        REQUESTS.forEach(req_type => {\n            const measure = performance.getEntriesByName(req_type);\n            if (measure && measure.length) {\n                if (process.env.DATADOG_CLIENT_TOKEN_LOGS) {\n                    this.log(measure, is_bot_running, req_type);\n                }\n            }\n        });\n        performance.clearMeasures();\n    };\n\n    addGlobalMethod() {\n        if (window) window.sendRequestsStatistic = this.sendRequestsStatistic;\n    }\n}\n\nexport default APIMiddleware;\n","import DerivAPIBasic from '@deriv/deriv-api/dist/DerivAPIBasic';\nimport { getAppId, getSocketURL, website_name } from '@deriv/shared';\nimport { getLanguage } from '@deriv/translations';\nimport APIMiddleware from './api-middleware';\n\nexport const generateDerivApiInstance = () => {\n    const socket_url = `wss://${getSocketURL()}/websockets/v3?app_id=${getAppId()}&l=${getLanguage()}&brand=${website_name.toLowerCase()}`;\n    const deriv_socket = new WebSocket(socket_url);\n    const deriv_api = new DerivAPIBasic({\n        connection: deriv_socket,\n        middleware: new APIMiddleware({}),\n    });\n    return deriv_api;\n};\n\nexport const getLoginId = () => {\n    const login_id = localStorage.getItem('active_loginid');\n    if (login_id && login_id !== 'null') return login_id;\n    return null;\n};\n\nexport const getToken = () => {\n    const active_loginid = getLoginId();\n    const client_accounts = JSON.parse(localStorage.getItem('client.accounts')) || undefined;\n    const active_account = (client_accounts && client_accounts[active_loginid]) || {};\n    return {\n        token: active_account?.token || undefined,\n        account_id: active_loginid || undefined,\n    };\n};\n","import { observer as globalObserver } from '../../utils/observer';\nimport { doUntilDone } from '../tradeEngine/utils/helpers';\nimport { generateDerivApiInstance, getLoginId, getToken } from './appId';\n\nclass APIBase {\n    api;\n    token;\n    account_id;\n    pip_sizes = {};\n    account_info = {};\n    is_running = false;\n    subscriptions = [];\n    time_interval = null;\n    has_activeSymbols = false;\n\n    init(force_update = false) {\n        if (getLoginId()) {\n            this.toggleRunButton(true);\n            if (force_update) this.terminate();\n            this.api = generateDerivApiInstance();\n            this.initEventListeners();\n            this.authorizeAndSubscribe();\n            if (this.time_interval) clearInterval(this.time_interval);\n            this.time_interval = null;\n            this.getTime();\n        }\n    }\n\n    terminate() {\n        // eslint-disable-next-line no-console\n        console.log('connection terminated');\n        if (this.api) this.api.disconnect();\n    }\n\n    initEventListeners() {\n        if (window) {\n            window.addEventListener('online', this.reconnectIfNotConnected);\n            window.addEventListener('focus', this.reconnectIfNotConnected);\n        }\n    }\n\n    createNewInstance(account_id) {\n        if (this.account_id !== account_id) {\n            this.init(true);\n        }\n    }\n\n    reconnectIfNotConnected = () => {\n        // eslint-disable-next-line no-console\n        console.log('connection state: ', this.api.connection.readyState);\n        if (this.api.connection.readyState !== 1) {\n            // eslint-disable-next-line no-console\n            console.log('Info: Connection to the server was closed, trying to reconnect.');\n            this.init();\n        }\n    };\n\n    authorizeAndSubscribe() {\n        const { token, account_id } = getToken();\n        if (token) {\n            this.token = token;\n            this.account_id = account_id;\n            this.api.authorize(this.token);\n            this.api\n                .expectResponse('authorize')\n                .then(({ authorize }) => {\n                    if (this.has_activeSymbols) {\n                        this.toggleRunButton(false);\n                    } else {\n                        this.getActiveSymbols();\n                    }\n                    this.subscribe();\n                    this.account_info = authorize;\n                })\n                .catch(e => {\n                    globalObserver.emit('Error', e);\n                });\n        }\n    }\n\n    subscribe() {\n        doUntilDone(() => this.api.send({ balance: 1, subscribe: 1 }));\n        doUntilDone(() => this.api.send({ transaction: 1, subscribe: 1 }));\n        doUntilDone(() => this.api.send({ proposal_open_contract: 1, subscribe: 1 }));\n    }\n\n    getActiveSymbols = async () => {\n        doUntilDone(() => this.api.send({ active_symbols: 'brief' })).then(({ active_symbols = [] }) => {\n            const pip_sizes = {};\n            if (active_symbols.length) this.has_activeSymbols = true;\n            active_symbols.forEach(({ symbol, pip }) => {\n                pip_sizes[symbol] = +(+pip).toExponential().substring(3);\n            });\n            this.pip_sizes = pip_sizes;\n            this.toggleRunButton(false);\n        });\n    };\n\n    toggleRunButton = toggle => {\n        const run_button = document.querySelector('#db-animation__run-button');\n        if (!run_button) return;\n        run_button.disabled = toggle;\n    };\n\n    setIsRunning(toggle = false) {\n        this.is_running = toggle;\n    }\n\n    pushSubscription(subscription) {\n        this.subscriptions.push(subscription);\n    }\n\n    clearSubscriptions() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n        this.subscriptions = [];\n\n        // Resetting timeout resolvers\n        const global_timeouts = globalObserver.getState('global_timeouts') ?? [];\n\n        global_timeouts.forEach((_, i) => {\n            clearTimeout(i);\n        });\n    }\n\n    getTime() {\n        if (!this.time_interval) {\n            this.time_interval = setInterval(() => {\n                this.api.send({ time: 1 });\n            }, 30000);\n        }\n    }\n}\n\nexport const api_base = new APIBase();\n","export default class AccountLimits {\n    constructor(store) {\n        this.ws = store.ws;\n    }\n    getStakePayoutLimits(currency = 'AUD', landing_company_shortcode = 'svg', selected_market) {\n        return this.ws\n            .send({\n                landing_company_details: landing_company_shortcode,\n            })\n            .then(landing_company => {\n                const currency_config = landing_company?.landing_company_details?.currency_config[selected_market];\n                return currency_config ? currency_config[currency] : {};\n            });\n    }\n}\n","import TradingTimes from './trading-times';\nimport ContractsFor from './contracts-for';\nimport ActiveSymbols from './active-symbols';\nimport AccountLimits from './account-limits';\n\nclass ApiHelpers {\n    static singleton = null;\n\n    constructor(api_helpers_store) {\n        this.trading_times = new TradingTimes(api_helpers_store);\n        this.contracts_for = new ContractsFor(api_helpers_store);\n        this.active_symbols = new ActiveSymbols(api_helpers_store.ws, this.trading_times);\n        this.account_limits = new AccountLimits(api_helpers_store);\n    }\n\n    static setInstance(api_helpers_store) {\n        if (!this.singleton) {\n            this.singleton = new ApiHelpers(api_helpers_store);\n        }\n\n        return this.instance;\n    }\n\n    static get instance() {\n        return this.singleton;\n    }\n}\n\nexport default ApiHelpers;\n","import { config } from '../../constants/config';\nimport PendingPromise from '../../utils/pending-promise';\n\nexport default class ContractsFor {\n    constructor({ ws, server_time }) {\n        this.cache_age_in_min = 10;\n        this.contracts_for = {};\n        this.ws = ws;\n        this.server_time = server_time;\n        // Below you can disable specific trade types and trade type categories, you may specify\n        // market, submarket, symbol, trade_type, and trade_type_category. If one of\n        // the props is left omitted, the rule applies to each of the values of the omitted prop.\n        // e.g. if market omitted, rule will apply to all markets.\n        this.disabled_options = [\n            {\n                submarket: 'forex_basket',\n                trade_type: 'higherlower',\n            },\n            {\n                submarket: 'minor_pairs',\n                trade_type: 'higherlower',\n            },\n            {\n                submarket: 'metals',\n                trade_type: 'callputequal',\n            },\n            {\n                market: 'indices',\n                trade_type: 'callputequal',\n            },\n            {\n                symbol: 'OTC_AS51',\n                trade_type_category: 'inout',\n            },\n            { trade_type_category: 'lookback' },\n            { trade_type_category: 'callputspread' },\n        ];\n        this.retrieving_contracts_for = {};\n    }\n\n    async getBarriers(symbol, trade_type, duration, barrier_types) {\n        const barriers = { values: [] };\n\n        if (!config.BARRIER_TRADE_TYPES.includes(trade_type)) {\n            return barriers;\n        }\n\n        const barrier_props = ['high_barrier', 'low_barrier'];\n        const contracts_for_category = await this.getContractsByTradeType(symbol, trade_type);\n        const durations = await this.getDurations(symbol, trade_type, false);\n        const offset_regexp = new RegExp('^[-|+]([0-9]+.[0-9]+)$');\n        const isOffset = input => input && offset_regexp.test(input.toString());\n\n        let has_absolute_default_value = true;\n\n        if (contracts_for_category.length > 0) {\n            barrier_types.forEach((barrier_type, index) => {\n                const has_selected_offset_type = ['+', '-'].includes(barrier_type);\n                const real_trade_type = this.getContractCategoryByTradeType(trade_type);\n\n                let contract = contracts_for_category.find(c => {\n                    const { BARRIER_CATEGORIES } = config;\n                    const barrier_category = Object.keys(BARRIER_CATEGORIES).find(b =>\n                        BARRIER_CATEGORIES[b].includes(trade_type)\n                    );\n\n                    const has_matching_category = c.contract_category === real_trade_type;\n                    const has_matching_duration = durations.findIndex(d => d.unit === duration) !== -1;\n                    const has_matching_barrier_category = c.barrier_category === barrier_category;\n                    const has_matching_barrier_type =\n                        // Match offset type barriers.\n                        (has_selected_offset_type && isOffset(c.barrier || c[barrier_props[index]])) ||\n                        // Match absolute type barriers.\n                        (!has_selected_offset_type && !isOffset(c.barrier || c[barrier_props[index]]));\n\n                    return (\n                        has_matching_category &&\n                        has_matching_duration &&\n                        has_matching_barrier_category &&\n                        has_matching_barrier_type\n                    );\n                });\n\n                // Fallback to smallest available barriers if no contract could be found.\n                if (!contract) {\n                    contract = contracts_for_category\n                        // Retrieve contracts with barriers.\n                        .filter(c => c.barrier || c.high_barrier)\n                        // Get contract with smallest barriers.\n                        .sort((a, b) => {\n                            const c = a.barrier || a.high_barrier;\n                            const d = b.barrier || b.high_barrier;\n                            return parseFloat(c) - parseFloat(d);\n                        })\n                        .shift();\n\n                    if (contract && !has_selected_offset_type) {\n                        has_absolute_default_value = false;\n                    }\n                }\n\n                if (contract) {\n                    const barrier_prop_name = contract.barriers === 1 ? 'barrier' : barrier_props[index];\n\n                    if (contract[barrier_prop_name]) {\n                        const barrier_match = `${contract[barrier_prop_name]}`.match(offset_regexp);\n                        barriers.values[index] = barrier_match ? barrier_match[1] : contract[barrier_prop_name];\n                    }\n\n                    Object.assign(barriers, {\n                        allow_both_types:\n                            ['intraday', 'tick'].includes(contract.expiry_type) &&\n                            isOffset(contract[barrier_prop_name]),\n                        allow_absolute_type: barrier_type === 'absolute' && !isOffset(contract[barrier_prop_name]),\n                    });\n\n                    // Finish this loop prematurely if we only have a single barrier.\n                    if (contract.barriers === 1) {\n                        barrier_types.splice(index + 1, 1);\n                    }\n                }\n            });\n\n            if (!has_absolute_default_value) {\n                barriers.values = barriers.values.map(() => false);\n            } else if (\n                barriers.values.length === 2 &&\n                barrier_types.every(barrier_type => barrier_type === barrier_types[0]) &&\n                barriers.values.every(barrier => barrier === barriers.values[0])\n            ) {\n                barriers.values[1] = (barriers.values[0] * 0.95).toFixed(1);\n            }\n        }\n\n        return barriers;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getContractCategoryByTradeType(trade_type) {\n        const { TRADE_TYPE_TO_CONTRACT_CATEGORY_MAPPING } = config;\n\n        return (\n            Object.keys(TRADE_TYPE_TO_CONTRACT_CATEGORY_MAPPING).find(category =>\n                TRADE_TYPE_TO_CONTRACT_CATEGORY_MAPPING[category].includes(trade_type)\n            ) || trade_type\n        );\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getTradeTypeCategoryByTradeType(trade_type) {\n        const { TRADE_TYPE_CATEGORIES } = config;\n        const trade_type_category = Object.keys(TRADE_TYPE_CATEGORIES).find(t =>\n            TRADE_TYPE_CATEGORIES[t].includes(trade_type)\n        );\n\n        return trade_type_category || trade_type;\n    }\n\n    getTradeTypeCategoryNameByTradeType(trade_type) {\n        const { TRADE_TYPE_CATEGORY_NAMES } = config;\n        const trade_type_category = this.getTradeTypeCategoryByTradeType(trade_type);\n\n        return TRADE_TYPE_CATEGORY_NAMES[trade_type_category];\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getBarrierCategoryByTradeType(trade_type) {\n        const { BARRIER_CATEGORIES } = config;\n        return Object.keys(BARRIER_CATEGORIES).find(barrier_category =>\n            BARRIER_CATEGORIES[barrier_category].includes(trade_type)\n        );\n    }\n\n    async getContractsByTradeType(symbol, trade_type) {\n        const contracts = await this.getContractsFor(symbol);\n        const contract_category = this.getContractCategoryByTradeType(trade_type);\n        const barrier_category = this.getBarrierCategoryByTradeType(trade_type);\n\n        return contracts.filter(contract => {\n            const has_matching_category = contract.contract_category === contract_category;\n            const has_matching_barrier = contract.barrier_category === barrier_category;\n\n            return has_matching_category && has_matching_barrier;\n        });\n    }\n\n    async getContractsFor(symbol) {\n        if (!symbol || symbol === 'na') {\n            return [];\n        }\n\n        const getContractsForFromApi = async () => {\n            if (this.retrieving_contracts_for[symbol]) {\n                await this.retrieving_contracts_for[symbol];\n                return this.contracts_for[symbol].contracts;\n            }\n\n            this.retrieving_contracts_for[symbol] = new PendingPromise();\n            const response = await this.ws.send({ contracts_for: symbol });\n\n            if (response.error) {\n                return [];\n            }\n\n            const {\n                contracts_for: { available: contracts },\n            } = response;\n\n            // We don't offer forward-starting contracts in bot.\n            const filtered_contracts = contracts.filter(c => c.start_type !== 'forward');\n\n            this.contracts_for[symbol] = {\n                contracts: filtered_contracts,\n                timestamp: this.server_time.unix(),\n            };\n\n            this.retrieving_contracts_for[symbol].resolve();\n            delete this.retrieving_contracts_for[symbol];\n\n            return filtered_contracts;\n        };\n\n        if (this.contracts_for[symbol]) {\n            const { contracts, timestamp } = this.contracts_for[symbol];\n            const is_expired = this.server_time.unix() - timestamp > this.cache_age_in_min * 60;\n\n            if (is_expired) {\n                getContractsForFromApi();\n            }\n\n            return contracts;\n        }\n\n        return getContractsForFromApi();\n    }\n\n    async getDurations(symbol, trade_type, convert_day_to_hours = true) {\n        if (trade_type === 'multiplier') {\n            return [];\n        }\n\n        const contracts = await this.getContractsFor(symbol);\n        const { NOT_AVAILABLE_DURATIONS, DEFAULT_DURATION_DROPDOWN_OPTIONS } = config;\n\n        if (contracts.length === 0) {\n            return NOT_AVAILABLE_DURATIONS;\n        }\n\n        const contracts_for_category = await this.getContractsByTradeType(symbol, trade_type);\n        const durations = [];\n        const getDurationIndex = input =>\n            DEFAULT_DURATION_DROPDOWN_OPTIONS.findIndex(d => d[1] === input.replace(/\\d+/g, ''));\n        // convert 'duration' to 'unit_to_convert' e.g : convertDuration('10h', 's') will return 10*60*60s\n        const convertDuration = (duration, unit_to_convert) => {\n            const duration_value = duration.replace(/\\D/g, '');\n            const duration_index = getDurationIndex(duration);\n            const target_index = DEFAULT_DURATION_DROPDOWN_OPTIONS.findIndex(\n                default_duration => default_duration[1] === unit_to_convert\n            );\n\n            let converted_duration = parseInt(duration_value);\n\n            DEFAULT_DURATION_DROPDOWN_OPTIONS.slice(target_index + 1, duration_index + 1)\n                .reverse()\n                .forEach(default_duration => {\n                    switch (default_duration[1]) {\n                        case 'm':\n                        case 'h':\n                            converted_duration *= 60;\n                            break;\n                        case 'd':\n                            converted_duration *= 24;\n                            break;\n                        default:\n                            break;\n                    }\n                });\n\n            return converted_duration;\n        };\n\n        contracts_for_category.forEach(contract => {\n            if (!contract.min_contract_duration || !contract.max_contract_duration) {\n                return;\n            }\n\n            const start_index = getDurationIndex(contract.min_contract_duration);\n            const end_index = getDurationIndex(\n                contract.max_contract_duration === '1d' && convert_day_to_hours ? '24h' : contract.max_contract_duration\n            );\n\n            DEFAULT_DURATION_DROPDOWN_OPTIONS.slice(start_index, end_index + 1).forEach((default_duration, index) => {\n                const is_existing_duration = durations.findIndex(d => d.unit === default_duration[1]) !== -1;\n\n                if (!is_existing_duration) {\n                    durations.push({\n                        display: default_duration[0],\n                        unit: default_duration[1],\n                        min: index === 0 ? parseInt(contract.min_contract_duration.replace(/\\D/g, '')) : 1,\n                        max: convertDuration(contract.max_contract_duration, default_duration[1]),\n                    });\n                }\n            });\n        });\n\n        // If only intraday contracts available, remove day durations\n        if (contracts_for_category.every(contract => contract.expiry_type === 'intraday')) {\n            const day_duration_index = durations.findIndex(d => d[1] === 'd');\n\n            if (day_duration_index !== -1) {\n                durations.splice(day_duration_index, 1);\n            }\n        }\n\n        if (durations.length === 0) {\n            return NOT_AVAILABLE_DURATIONS;\n        }\n\n        // Maintain order based on duration unit\n        return durations.sort((a, b) => getDurationIndex(a.unit) - getDurationIndex(b.unit));\n    }\n\n    async getPredictionRange(symbol, trade_type) {\n        const contracts = await this.getContractsByTradeType(symbol, trade_type);\n        const contract_category = this.getContractCategoryByTradeType(trade_type);\n        const prediction_range = [];\n        const { DIGIT_CATEGORIES, opposites } = config;\n\n        if (DIGIT_CATEGORIES.includes(contract_category) && trade_type !== 'evenodd') {\n            const contract = contracts.find(c => {\n                const categories = Object.keys(opposites);\n\n                return categories.some(category =>\n                    opposites[category].map(subcategory => Object.keys(subcategory)[0]).includes(c.contract_type)\n                );\n            });\n\n            if (contract && contract.last_digit_range) {\n                prediction_range.push(...contract.last_digit_range);\n            } else {\n                prediction_range.push(1, 2, 3, 4, 5, 6, 7, 8);\n            }\n        }\n\n        return prediction_range;\n    }\n\n    async getMultiplierRange(symbol, trade_type) {\n        const contracts = await this.getContractsByTradeType(symbol, trade_type);\n        const multiplier_range = [];\n        const { opposites } = config;\n\n        const contract = contracts.find(c => {\n            return Object.keys(opposites).some(category => {\n                return opposites[category].map(subcategory => Object.keys(subcategory)[0]).includes(c.contract_type);\n            });\n        });\n\n        if (contract?.multiplier_range) {\n            multiplier_range.push(...contract.multiplier_range);\n        }\n\n        return multiplier_range;\n    }\n\n    async getMarketBySymbol(symbol) {\n        const contracts = await this.getContractsFor(symbol);\n\n        if (!contracts.length) {\n            return 'na';\n        }\n\n        return contracts[0].market;\n    }\n\n    async getSubmarketBySymbol(symbol) {\n        const contracts = await this.getContractsFor(symbol);\n\n        if (!contracts.length) {\n            return 'na';\n        }\n\n        return contracts[0].submarket;\n    }\n\n    async getGroupedTradeTypes(symbol) {\n        const contracts = await this.getContractsFor(symbol);\n        const trade_type_options = {};\n\n        for (let i = 0; i < contracts.length; i++) {\n            const market = contracts[i].market;\n            const submarket = contracts[i].submarket;\n            const trade_type_category = this.getTradeTypeCategoryByTradeType(contracts[i].contract_category);\n            const trade_type_category_name = this.getTradeTypeCategoryNameByTradeType(contracts[i].contract_category);\n            // eslint-disable-next-line no-await-in-loop\n            const trade_types = await this.getTradeTypeByTradeCategory(market, submarket, symbol, trade_type_category);\n\n            if (trade_type_category_name) {\n                const is_disabled = this.isDisabledOption({\n                    market,\n                    submarket,\n                    symbol,\n                    trade_type_category,\n                });\n\n                if (!is_disabled) {\n                    trade_type_options[trade_type_category_name] = trade_types;\n                }\n            }\n        }\n\n        return trade_type_options;\n    }\n\n    async getTradeTypeByTradeCategory(market, submarket, symbol, trade_type_category) {\n        const { NOT_AVAILABLE_DURATIONS, TRADE_TYPE_CATEGORIES, opposites } = config;\n        const subcategories = TRADE_TYPE_CATEGORIES[trade_type_category];\n        const dropdown_options = [];\n\n        if (subcategories && subcategories.length) {\n            for (let i = 0; i < subcategories.length; i++) {\n                const trade_type = subcategories[i];\n                const durations = await this.getDurations(symbol, trade_type); // eslint-disable-line no-await-in-loop\n                const has_durations = JSON.stringify(durations) !== JSON.stringify(NOT_AVAILABLE_DURATIONS);\n                const is_disabled = this.isDisabledOption({\n                    market,\n                    submarket,\n                    symbol,\n                    trade_type_category,\n                    trade_type,\n                });\n\n                if (!is_disabled && has_durations) {\n                    const types = opposites[trade_type.toUpperCase()];\n                    dropdown_options.push({\n                        name: types.map(type => type[Object.keys(type)[0]]).join('/'),\n                        value: trade_type,\n                        icon: [Object.keys(types[0])[0], Object.keys(types[1])[0]],\n                    });\n                }\n            }\n        }\n\n        return dropdown_options;\n    }\n\n    async getTradeTypeCategories(market, submarket, symbol) {\n        const { TRADE_TYPE_CATEGORY_NAMES, NOT_AVAILABLE_DROPDOWN_OPTIONS } = config;\n        const contracts = await this.getContractsFor(symbol);\n        const trade_type_categories = [];\n\n        contracts.forEach(contract => {\n            const trade_type_category = this.getTradeTypeCategoryByTradeType(contract.contract_category);\n            const trade_type_category_name = this.getTradeTypeCategoryNameByTradeType(contract.contract_category);\n\n            if (trade_type_category_name) {\n                const is_disabled = this.isDisabledOption({\n                    market,\n                    submarket,\n                    symbol,\n                    trade_type_category,\n                });\n\n                if (!is_disabled) {\n                    const is_existing_category =\n                        trade_type_categories.findIndex(c => c[1] === trade_type_category) !== -1;\n\n                    if (!is_existing_category) {\n                        trade_type_categories.push([trade_type_category_name, trade_type_category]);\n                    }\n                }\n            }\n        });\n\n        if (trade_type_categories.length > 0) {\n            const category_names = Object.keys(TRADE_TYPE_CATEGORY_NAMES);\n\n            return trade_type_categories.sort((a, b) => {\n                const index_a = category_names.findIndex(c => c === a[1]);\n                const index_b = category_names.findIndex(c => c === b[1]);\n                return index_a - index_b;\n            });\n        }\n\n        return NOT_AVAILABLE_DROPDOWN_OPTIONS;\n    }\n\n    async getTradeTypes(market, submarket, symbol, trade_type_category) {\n        const { NOT_AVAILABLE_DURATIONS, TRADE_TYPE_CATEGORIES, opposites } = config;\n        const trade_types = [];\n        const subcategories = TRADE_TYPE_CATEGORIES[trade_type_category];\n\n        if (subcategories) {\n            for (let i = 0; i < subcategories.length; i++) {\n                const trade_type = subcategories[i];\n                const durations = await this.getDurations(symbol, trade_type); // eslint-disable-line no-await-in-loop\n                const has_durations = JSON.stringify(durations) !== JSON.stringify(NOT_AVAILABLE_DURATIONS);\n                const is_disabled = this.isDisabledOption({\n                    market,\n                    submarket,\n                    symbol,\n                    trade_type_category,\n                    trade_type,\n                });\n\n                if (!is_disabled && has_durations) {\n                    const types = opposites[trade_type.toUpperCase()];\n                    // e.g. [['Rise/Fall', 'callput']]\n                    trade_types.push([types.map(type => type[Object.keys(type)[0]]).join('/'), trade_type]);\n                }\n            }\n        }\n\n        return trade_types.length > 0 ? trade_types : config.NOT_AVAILABLE_DROPDOWN_OPTIONS;\n    }\n\n    isDisabledOption(compare_obj) {\n        return this.disabled_options.some(disabled_obj =>\n            Object.keys(disabled_obj).every(prop => compare_obj[prop] === disabled_obj[prop])\n        );\n    }\n\n    disposeCache() {\n        this.contracts_for = {};\n    }\n}\n","import PendingPromise from '../../utils/pending-promise';\n\nexport default class TradingTimes {\n    constructor({ ws, server_time }) {\n        this.init_promise = new PendingPromise();\n        this.is_initialised = false;\n        this.trading_times = {};\n        this.ws = ws;\n        this.server_time = server_time.clone();\n    }\n\n    async initialise() {\n        if (this.is_initialised) {\n            return this.init_promise;\n        }\n\n        this.is_initialised = true;\n        this.last_update_moment = this.server_time.local();\n\n        if (!Object.keys(this.trading_times).length) {\n            await this.updateTradingTimes();\n            this.init_promise.resolve();\n\n            const periodicUpdate = async () => {\n                const changes = this.updateMarketOpenClosed();\n\n                if (Object.keys(changes).length > 0 && this.onMarketOpenCloseChanged) {\n                    this.onMarketOpenCloseChanged(changes);\n                }\n\n                let next_update_date = this.nextUpdateDate();\n\n                if (!next_update_date) {\n                    const now_moment = this.server_time.local();\n                    const next_update_moment = this.last_update_moment.clone().add(1, 'days');\n\n                    if (now_moment.isAfter(next_update_moment)) {\n                        this.last_update_moment = now_moment.clone();\n                    } else {\n                        this.last_update_moment = next_update_moment.clone();\n                    }\n\n                    // Retain the current market open close status, because the trade times\n                    // will now be the following day:\n                    const is_open_map = {};\n\n                    Object.keys(this.trading_times).forEach(symbol_name => {\n                        is_open_map[symbol_name] = this.trading_times[symbol_name].is_opened;\n                    });\n\n                    await this.updateTradingTimes();\n\n                    Object.keys(this.trading_times).forEach(symbol_name => {\n                        this.trading_times[symbol_name].is_opened = is_open_map[symbol_name];\n                    });\n\n                    // next update date will be 00:00 hours (UTC) of the following day:\n                    next_update_moment.set({ hour: 0, minute: 0, second: 0 });\n                    next_update_date = next_update_moment.toDate();\n                }\n\n                const wait_period = next_update_date - this.server_time.local().toDate();\n                this.update_timer = setTimeout(periodicUpdate, wait_period);\n            };\n\n            await periodicUpdate();\n        }\n\n        return this.init_promise;\n    }\n\n    async updateTradingTimes() {\n        const last_update_date = this.last_update_moment.format('YYYY-MM-DD');\n        const response = await this.ws.tradingTimes(last_update_date);\n\n        if (response.error) {\n            return;\n        }\n\n        this.trading_times = {};\n\n        const now = this.server_time.local().toDate();\n        const date_str = now.toISOString().substring(0, 11);\n        const getUTCDate = hour => new Date(`${date_str}${hour}Z`);\n        const {\n            trading_times: { markets },\n        } = response;\n\n        if (!markets) {\n            return;\n        }\n\n        markets.forEach(market => {\n            const { submarkets } = market;\n\n            submarkets.forEach(submarket => {\n                const { symbols } = submarket;\n\n                symbols.forEach(symbol_obj => {\n                    const { times, symbol } = symbol_obj;\n                    const { open, close } = times;\n                    const is_open_all_day = open.length === 1 && open[0] === '00:00:00' && close[0] === '23:59:59';\n                    const is_closed_all_day = open.length === 1 && open[0] === '--' && close[0] === '--';\n\n                    let processed_times;\n\n                    if (!is_open_all_day && !is_closed_all_day) {\n                        processed_times = open.map((open_time, index) => ({\n                            open: getUTCDate(open_time),\n                            close: getUTCDate(close[index]),\n                        }));\n                    }\n\n                    this.trading_times[symbol] = {\n                        is_open_all_day,\n                        is_closed_all_day,\n                        times: processed_times,\n                    };\n                });\n            });\n        });\n    }\n\n    updateMarketOpenClosed() {\n        const changes = {};\n\n        Object.keys(this.trading_times).forEach(symbol_name => {\n            const is_opened = this.calcIsMarketOpened(symbol_name);\n            const symbol_obj = this.trading_times[symbol_name];\n\n            if (symbol_obj.is_opened !== is_opened) {\n                symbol_obj.is_opened = is_opened;\n                changes[symbol_name] = is_opened;\n            }\n        });\n\n        return changes;\n    }\n\n    calcIsMarketOpened(symbol_name) {\n        const now = this.server_time.local().unix();\n        const { times, is_open_all_day, is_closed_all_day } = this.trading_times[symbol_name];\n\n        if (is_closed_all_day) {\n            return false;\n        }\n\n        if (is_open_all_day) {\n            return true;\n        }\n\n        return times.some(session => {\n            const { open, close } = session;\n            return now >= open && now < close;\n        });\n    }\n\n    nextUpdateDate() {\n        const now = this.server_time.local().toDate();\n\n        let nextDate;\n\n        Object.keys(this.trading_times).forEach(symbol_name => {\n            const { times, is_open_all_day, is_closed_all_day } = this.trading_times[symbol_name];\n\n            if (is_open_all_day || is_closed_all_day) {\n                return;\n            }\n\n            times.forEach(session => {\n                const { open, close } = session;\n\n                if (open > now && (!nextDate || open < nextDate)) {\n                    nextDate = open;\n                }\n                if (close > now && (!nextDate || close < nextDate)) {\n                    nextDate = close;\n                }\n            });\n        });\n\n        return nextDate;\n    }\n\n    isMarketOpened(symbol_name) {\n        const symbol_names = Object.keys(this.trading_times);\n\n        if (!symbol_names.length || !symbol_names.includes(symbol_name)) {\n            return false;\n        }\n\n        return this.trading_times[symbol_name].is_opened;\n    }\n}\n","import { observer as globalObserver } from '../../../utils/observer';\nimport { config } from '../../../constants/config';\n\nexport const contract = c => globalObserver.emit('bot.contract', c);\n\nexport const contractStatus = c => globalObserver.emit('contract.status', c);\n\nexport const info = i => globalObserver.emit('bot.info', i);\n\nexport const notify = (className, message) =>\n    globalObserver.emit('ui.log.notify', { className, message, sound: config.lists.NOTIFICATION_SOUND[0][1] });\n\nexport const log = (log_type, extra) => globalObserver.emit('ui.log.success', { log_type, extra });\n\nexport const error = message => globalObserver.emit('ui.log.error', message);\n","import { formatTime, findValueByKeyRecursively, getRoundedNumber, isEmptyObject } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { error as logError } from './broadcast';\nimport { observer as globalObserver } from '../../../utils/observer';\n\nexport const tradeOptionToProposal = (trade_option, purchase_reference) =>\n    trade_option.contractTypes.map(type => {\n        const proposal = {\n            amount: trade_option.amount,\n            basis: trade_option.basis,\n            contract_type: type,\n            currency: trade_option.currency,\n            duration: trade_option.duration,\n            duration_unit: trade_option.duration_unit,\n            multiplier: trade_option.multiplier,\n            passthrough: {\n                contract_type: type,\n                purchase_reference,\n            },\n            proposal: 1,\n            symbol: trade_option.symbol,\n        };\n        if (trade_option.prediction !== undefined) {\n            proposal.selected_tick = trade_option.prediction;\n        }\n        if (!['TICKLOW', 'TICKHIGH'].includes(type) && trade_option.prediction !== undefined) {\n            proposal.barrier = trade_option.prediction;\n        } else if (trade_option.barrierOffset !== undefined) {\n            proposal.barrier = trade_option.barrierOffset;\n        }\n        if (trade_option.secondBarrierOffset !== undefined) {\n            proposal.barrier2 = trade_option.secondBarrierOffset;\n        }\n        if (['MULTUP', 'MULTDOWN'].includes(type)) {\n            proposal.duration = undefined;\n            proposal.duration_unit = undefined;\n        }\n        if (!isEmptyObject(trade_option.limit_order)) {\n            proposal.limit_order = trade_option.limit_order;\n        }\n        return proposal;\n    });\n\nexport const getDirection = ticks => {\n    const { length } = ticks;\n    const [tickOld, tickNew] = ticks.slice(-2);\n\n    let direction = '';\n    if (length >= 2) {\n        direction = tickOld.quote < tickNew.quote ? 'rise' : direction;\n        direction = tickOld.quote > tickNew.quote ? 'fall' : direction;\n    }\n\n    return direction;\n};\n\nexport const getLastDigit = tick => {\n    let number_string = tick;\n    if (typeof number_string === 'number') {\n        number_string = String(number_string);\n    }\n    return Number(number_string[number_string.length - 1]);\n};\n\nexport const getLastDigitForList = (tick, pip_size = 0) => {\n    const value = Number(tick).toFixed(pip_size);\n    return value[value.length - 1];\n};\n\nconst getBackoffDelayInMs = (error, delay_index) => {\n    const base_delay = 2.5;\n    const max_delay = 15;\n    const next_delay_in_seconds = Math.min(base_delay * delay_index, max_delay);\n\n    if (error.error.code === 'RateLimit') {\n        logError(\n            localize('You are rate limited for: {{ message_type }}, retrying in {{ delay }}s (ID: {{ request }})', {\n                message_type: error.msg_type,\n                delay: next_delay_in_seconds,\n                request: error.echo_req.req_id,\n            })\n        );\n    } else if (error.error.code === 'DisconnectError') {\n        logError(\n            localize('You are disconnected, retrying in {{ delay }}s', {\n                delay: next_delay_in_seconds,\n            })\n        );\n    } else if (error.error.code === 'MarketIsClosed') {\n        logError(localize('This market is presently closed.'));\n    } else {\n        logError(\n            localize('Request failed for: {{ message_type }}, retrying in {{ delay }}s', {\n                message_type: error.msg_type || localize('unknown'),\n                delay: next_delay_in_seconds,\n            })\n        );\n    }\n\n    return next_delay_in_seconds * 1000;\n};\n\nexport const updateErrorMessage = error => {\n    if (error.error?.code === 'InputValidationFailed') {\n        if (error.error.details?.duration) {\n            error.error.message = localize('Duration must be a positive integer');\n        }\n        if (error.error.details?.amount) {\n            error.error.message = localize('Amount must be a positive number.');\n        }\n    }\n};\n\nexport const shouldThrowError = (error, errors_to_ignore = []) => {\n    if (!error.error) {\n        return false;\n    }\n\n    const default_errors_to_ignore = [\n        'CallError',\n        'WrongResponse',\n        'GetProposalFailure',\n        'RateLimit',\n        'DisconnectError',\n        'MarketIsClosed',\n    ];\n    updateErrorMessage(error);\n    const is_ignorable_error = errors_to_ignore.concat(default_errors_to_ignore).includes(error.error.code);\n\n    return !is_ignorable_error;\n};\n\nexport const recoverFromError = (promiseFn, recoverFn, errors_to_ignore, delay_index, api_base) => {\n    return new Promise((resolve, reject) => {\n        const promise = promiseFn();\n\n        if (promise) {\n            promise.then(resolve).catch(error => {\n                /**\n                 * if bot is not running there is no point of recovering from error\n                 * `!api_base.is_running` will check the bot status if it is not running it will kick out the control from loop\n                 */\n                if (shouldThrowError(error, errors_to_ignore) || (api_base && !api_base.is_running)) {\n                    reject(error);\n                    return;\n                }\n                recoverFn(\n                    error.error.code,\n                    () =>\n                        new Promise(recoverResolve => {\n                            const getGlobalTimeouts = () => globalObserver.getState('global_timeouts') ?? [];\n\n                            const timeout = setTimeout(() => {\n                                const global_timeouts = getGlobalTimeouts();\n                                delete global_timeouts[timeout];\n                                globalObserver.setState(global_timeouts);\n                                recoverResolve();\n                            }, getBackoffDelayInMs(error, delay_index));\n\n                            const global_timeouts = getGlobalTimeouts();\n                            const cancellable_timeouts = ['buy'];\n                            const msg_type = findValueByKeyRecursively(error, 'msg_type');\n\n                            global_timeouts[timeout] = {\n                                is_cancellable: cancellable_timeouts.includes(msg_type),\n                                msg_type,\n                            };\n\n                            globalObserver.setState({ global_timeouts });\n                        })\n                );\n            });\n        } else {\n            resolve();\n        }\n    });\n};\n\n/**\n * @param {*} promiseFn api call - it could be api call or subscription\n * @param {*} errors_to_ignore list of errors to ignore\n * @param {*} api_base instance of APIBase class to check if the bot is running or not\n * @returns a new promise\n */\nexport const doUntilDone = (promiseFn, errors_to_ignore, api_base) => {\n    let delay_index = 1;\n\n    return new Promise((resolve, reject) => {\n        const recoverFn = (error_code, makeDelay) => {\n            delay_index++;\n            makeDelay().then(repeatFn);\n        };\n\n        const repeatFn = () => {\n            recoverFromError(promiseFn, recoverFn, errors_to_ignore, delay_index, api_base).then(resolve).catch(reject);\n        };\n\n        repeatFn();\n    });\n};\n\nexport const createDetails = contract => {\n    const { sell_price: sellPrice, buy_price: buyPrice, currency } = contract;\n    const profit = getRoundedNumber(sellPrice - buyPrice, currency);\n    const result = profit < 0 ? 'loss' : 'win';\n\n    return [\n        contract.transaction_ids.buy,\n        +contract.buy_price,\n        +contract.sell_price,\n        profit,\n        contract.contract_type,\n        formatTime(parseInt(`${contract.entry_tick_time}000`), 'HH:mm:ss'),\n        +contract.entry_tick,\n        formatTime(parseInt(`${contract.exit_tick_time}000`), 'HH:mm:ss'),\n        +contract.exit_tick,\n        +(contract.barrier ? contract.barrier : 0),\n        result,\n    ];\n};\n\nexport const getUUID = () => `${new Date().getTime() * Math.random()}`;\n","import LZString from 'lz-string';\nimport localForage from 'localforage';\nimport DBotStore from '../scratch/dbot-store';\nimport { save_types } from '../constants/save-type';\n\n\n/**\n * Save workspace to localStorage\n * @param {String} save_type // constants/save_types.js (unsaved, local, googledrive)\n * @param {Blockly.Events} event // Blockly event object\n */\nexport const saveWorkspaceToRecent = async (xmlOrFolderPath, save_type = save_types.UNSAVED, isApolloBots = false) => {\n    try {\n        // If isFolderBot is false, treat xmlOrFolderPath as an XML object\n        let xml = xmlOrFolderPath;\n        \n        console.log('new bot being saved', xml);\n        if (!xml) {\n            throw new Error('Invalid XML or folder path provided.');\n        }\n\n        // Process and save the workspace\n        xml.setAttribute('is_dbot', 'true');\n\n        const {\n            load_modal: { updateListStrategies },\n            save_modal,\n        } = DBotStore.instance;\n\n        const workspace_id = Blockly.derivWorkspace.current_strategy_id || Blockly.utils.genUid();\n        const workspaces = isApolloBots ? await getSavedWorkspaces(true) : await getSavedWorkspaces();\n        const current_xml = Blockly.Xml.domToText(xml);\n        const current_timestamp = Date.now();\n        const current_workspace_index = workspaces.findIndex(workspace => workspace.id === workspace_id);\n\n        if (current_workspace_index >= 0) {\n            const current_workspace = workspaces[current_workspace_index];\n            current_workspace.xml = current_xml;\n            current_workspace.name = save_modal.bot_name;\n            current_workspace.timestamp = current_timestamp;\n            current_workspace.save_type = save_type;\n        } else {\n            workspaces.push({\n                id: workspace_id,\n                timestamp: current_timestamp,\n                name: !isApolloBots ? save_modal.bot_name : 'apollo v1',\n                xml: current_xml,\n                save_type,\n            });\n        }\n\n        workspaces\n            .sort((a, b) => {\n                return new Date(a.timestamp) - new Date(b.timestamp);\n            })\n            .reverse();\n\n        if (workspaces.length > 10) {\n            workspaces.pop();\n        }\n        updateListStrategies(workspaces);\n        if (isApolloBots) {\n            localForage.setItem('apollo_workspaces', LZString.compress(JSON.stringify(workspaces)));\n            console.log('apollo bot saved succefully');\n        } else {\n            localForage.setItem('saved_workspaces', LZString.compress(JSON.stringify(workspaces)));\n        }\n    } catch (error) {\n        // Handle any errors that occur during the saving process\n        console.error('Error while saving workspace:', error);\n    }\n};\n\nexport const getSavedWorkspaces = async (isApolloBots = false) => {\n    try {\n        if (isApolloBots) {\n            return JSON.parse(LZString.decompress(await localForage.getItem('apollo_workspaces'))) || [];\n        } else {\n            return JSON.parse(LZString.decompress(await localForage.getItem('saved_workspaces'))) || [];\n        }\n    } catch (e) {\n        return [];\n    }\n};\n\nexport const removeExistingWorkspace = async workspace_id => {\n    const workspaces = await getSavedWorkspaces();\n    const current_workspace_index = workspaces.findIndex(workspace => workspace.id === workspace_id);\n\n    if (current_workspace_index >= 0) {\n        workspaces.splice(current_workspace_index, 1);\n    }\n\n    await localForage.setItem('saved_workspaces', LZString.compress(JSON.stringify(workspaces)));\n};\n","import { Map, List } from 'immutable';\n/**\nBelow are the list of events we can register to listen to :\n \n-bot.running : Emitted in trade/index.js, in old Binary Bot this is only used\nto set the label to is running.\n\n-bot.stop: Bot was stopped by the user\n\n-bot.contract: Called in OpenContract.js, object consisting of\naccountID and a proposal_open_contract response, this will\nbe emitted on each POC message from the server.\n\n-bot.info: Emitted in trade/Balance.js, it announces account ID and balance,\nwe don't need this in DerivBot. Can also be emitted during running\ncontract, it then announces an object consisting of accountID,\ntotal_runs, transaction_ids, contract_type, and buy_price.\n\n-contract.status:  First emitted in trade/Purchase.js with an idea that's more\nof a flag e.g. contract_purchase_sent (when buy was sent to\nAPI, or contract_purchase_recieved (when buy was acknowledged\nby API), or contract.sold (when a contract was sold/expired).\n\n-contract.settled: this event was emitted to initiate a\nsettlement of a contract, i.e. it would call proposal_open_contract to retrieve\nlatest values for contract, not required atm by DerivBot\n\n-googledrive.authorise : event to start auturize google flow\n\n-ui.log.success: UI Notifications\n\n-ui.log.error: UI errors\n\n-ui.log.warn: UI warning\n\n-Notify: Server Notifications\n\n-Error : Server errors\n\n */\n\nexport default class Observer {\n    constructor() {\n        this.eam = new Map(); // event action map\n    }\n\n    register(event, _action, once, unregisterIfError, unregisterAllBefore) {\n        if (unregisterAllBefore) {\n            this.unregisterAll(event);\n        }\n        const apiError = error => {\n            if (error.type === unregisterIfError.type) {\n                this.unregister('api.error', apiError);\n                unregisterIfError.unregister.forEach(unreg => {\n                    if (unreg instanceof Array) {\n                        this.unregister(...unreg);\n                    } else {\n                        this.unregisterAll(unreg);\n                    }\n                });\n            }\n        };\n        if (unregisterIfError) {\n            this.register('api.error', apiError);\n        }\n        const action = (...args) => {\n            if (once) {\n                this.unregister(event, _action);\n            }\n            if (unregisterIfError) {\n                this.unregister('api.error', apiError);\n            }\n            _action(...args);\n        };\n\n        const actionList = this.eam.get(event);\n\n        this.eam = actionList\n            ? this.eam.set(event, actionList.push({ action, searchBy: _action }))\n            : this.eam.set(event, new List().push({ action, searchBy: _action }));\n    }\n\n    unregister(event, f) {\n        this.eam = this.eam.set(\n            event,\n            this.eam.get(event).filter(r => r.searchBy !== f)\n        );\n    }\n\n    isRegistered(event) {\n        return this.eam.has(event);\n    }\n\n    unregisterAll(event) {\n        this.eam = this.eam.delete(event);\n    }\n\n    emit(event, data) {\n        if (this.eam.has(event)) {\n            this.eam.get(event).forEach(action => action.action(data));\n        }\n    }\n    setState(state = {}) {\n        this.state = { ...this.state, ...state };\n    }\n    getState(key) {\n        return this.state?.[key];\n    }\n}\n\nexport const observer = new Observer();\n","export default function PendingPromise() {\n    let resolve, reject;\n\n    const promise = new Promise((_resolve, _reject) => {\n        resolve = _resolve;\n        reject = _reject;\n    });\n\n    promise.isPending = true;\n\n    promise.resolve = res => {\n        promise.isPending = false;\n        resolve(res);\n    };\n\n    promise.reject = error => {\n        promise.isPending = false;\n        reject(error);\n    };\n\n    return promise;\n}\n","import { config } from '../constants/config';\n\nexport const hasAllRequiredBlocks = () => {\n    const blocks_in_workspace = Blockly.derivWorkspace.getAllBlocks();\n    const { mandatoryMainBlocks } = config;\n    const required_block_types = ['trade_definition_tradeoptions', ...mandatoryMainBlocks];\n    const all_block_types = blocks_in_workspace.map(block => block.type);\n    const has_all_required_blocks = required_block_types.every(required_block_type =>\n        all_block_types.includes(required_block_type)\n    );\n\n    return has_all_required_blocks;\n};\n\nexport const onWorkspaceResize = () => {\n    const workspace = Blockly.derivWorkspace;\n    if (workspace) {\n        workspace.getAllFields().forEach(field => field.forceRerender());\n\n        const el_scratch_div = document.getElementById('scratch_div');\n        if (el_scratch_div) {\n            el_scratch_div.style.width = 'calc(100vw - 3.2rem)';\n            el_scratch_div.style.height = 'var(--bot-content-height)';\n            Blockly.svgResize(workspace);\n        }\n    }\n};\n\nexport const removeLimitedBlocks = (workspace, block_types) => {\n    const types = Array.isArray(block_types) ? block_types : [block_types];\n\n    types.forEach(block_type => {\n        if (config.single_instance_blocks.includes(block_type)) {\n            workspace.getAllBlocks().forEach(ws_block => {\n                if (ws_block.type === block_type) {\n                    ws_block.dispose();\n                }\n            });\n        }\n    });\n};\n","import { setSmartChartsPublicPath } from '@deriv/deriv-charts';\n\nconst getUrlBase = (path = '') => {\n    const l = window.location;\n\n    if (!/^\\/(br_)/.test(l.pathname)) return path;\n\n    const get_path = /^\\//.test(path) ? path : `/${path}`;\n\n    return `/${l.pathname.split('/')[1]}${get_path}`;\n};\n\nexport function setBotPublicPath(path: string) {\n    __webpack_public_path__ = path; // eslint-disable-line no-global-assign\n}\n\nexport const getImageLocation = (image_name: string) => getUrlBase(`/public/images/common/${image_name}`);\n\nsetBotPublicPath(getUrlBase('/'));\nsetSmartChartsPublicPath(getUrlBase('/js/smartcharts/'));\n","import { createContext } from 'react';\nimport type { TStores } from '../types';\n\nconst StoreContext = createContext<TStores | null>(null);\n\nexport default StoreContext;\n","import React, { PropsWithChildren } from 'react';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools';\n\nconst queryClient = new QueryClient();\n\nconst APIProvider = ({ children }: PropsWithChildren<unknown>) => (\n    <QueryClientProvider client={queryClient}>\n        {children}\n        <ReactQueryDevtools />\n    </QueryClientProvider>\n);\n\nexport default APIProvider;\n","import { useCallback, useEffect, useRef, useState } from 'react';\nimport { useWS } from '@deriv/shared';\nimport type {\n    TSocketAcceptableProps,\n    TSocketRequestPayload,\n    TSocketResponseData,\n    TSocketSubscribableEndpointNames,\n} from '../types';\n\nconst useSubscription = <T extends TSocketSubscribableEndpointNames>(name: T) => {\n    const [is_loading, setIsLoading] = useState(false);\n    const [is_subscribed, setSubscribed] = useState(false);\n    const [error, setError] = useState<unknown>();\n    const [data, setData] = useState<TSocketResponseData<T>>();\n    const subscriber = useRef<{ unsubscribe?: VoidFunction }>();\n    const WS = useWS();\n\n    const subscribe = useCallback(\n        (...props: TSocketAcceptableProps<T>) => {\n            const prop = props?.[0];\n            const payload = prop && 'payload' in prop ? (prop.payload as TSocketRequestPayload<T>) : undefined;\n\n            setIsLoading(true);\n            setSubscribed(true);\n\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const onData = (response: any) => {\n                setData(response);\n                setIsLoading(false);\n            };\n\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const onError = (response: any) => {\n                setError(response.error);\n                setIsLoading(false);\n            };\n\n            try {\n                subscriber.current = WS.subscribe({ [name]: 1, subscribe: 1, ...(payload || {}) }).subscribe(\n                    onData,\n                    onError\n                );\n            } catch (e) {\n                setError(e);\n            }\n        },\n        [WS, name]\n    );\n\n    const unsubscribe = useCallback(() => {\n        subscriber.current?.unsubscribe?.();\n        setSubscribed(false);\n    }, []);\n\n    useEffect(() => {\n        return () => {\n            unsubscribe();\n        };\n    }, [unsubscribe]);\n\n    return { subscribe, unsubscribe, is_loading, is_subscribed, error, data };\n};\n\nexport default useSubscription;\n","import { useContext } from 'react';\nimport StoreContext from './storeContext';\n\nconst useStore = () => {\n    const store = useContext(StoreContext);\n\n    if (!store) {\n        throw new Error('useStore must be used within StoreProvider');\n    }\n\n    return store;\n};\n\nexport default useStore;\n","import React, { useEffect } from 'react';\nimport { useSubscription } from '@deriv/api';\nimport merge from 'lodash.merge';\nimport { observer } from 'mobx-react-lite';\nimport useStore from '../useStore';\n\nconst ExchangeRatesProvider = observer(({ children }: React.PropsWithChildren<unknown>) => {\n    const { data, subscribe } = useSubscription('exchange_rates');\n    const {\n        exchange_rates: { update },\n    } = useStore();\n\n    useEffect(() => {\n        subscribe({ payload: { base_currency: 'USD' } });\n    }, [subscribe]);\n\n    useEffect(() => {\n        if (data) {\n            const { exchange_rates } = data;\n\n            if (exchange_rates) update(prev => merge(prev, exchange_rates));\n        }\n    }, [update, data]);\n\n    return <>{children}</>;\n});\n\nexport default ExchangeRatesProvider;\n","import { action, makeObservable, observable } from 'mobx';\nimport { makePersistable, stopPersisting } from 'mobx-persist-store';\n\nexport default class BaseStore<T> {\n    data: T | undefined = undefined;\n\n    constructor(name: string, onHydrationDone?: VoidFunction) {\n        makeObservable(this, {\n            data: observable,\n            update: action.bound,\n            unmount: action.bound,\n        });\n\n        makePersistable(this, { name, properties: ['data'], storage: window.localStorage }).then(() =>\n            onHydrationDone?.()\n        );\n    }\n\n    update(data: NonNullable<T> | ((previous?: T) => NonNullable<T>)) {\n        this.data = data instanceof Function ? data(this.data) : data;\n    }\n\n    unmount() {\n        stopPersisting(this);\n    }\n}\n","import BaseStore from './BaseStore';\nimport type { ExchangeRatesResponse } from '@deriv/api-types';\n\nexport default class ExchangeRatesStore extends BaseStore<ExchangeRatesResponse['exchange_rates']> {\n    constructor() {\n        super('ExchangeRatesStore');\n    }\n}\n","import BaseStore from './BaseStore';\n\nconst FLAGS = {\n    foo: false,\n    bar: false,\n    baz: false,\n    // Add your flag here \n} satisfies Record<string, boolean>;\n\nexport default class FeatureFlagsStore extends BaseStore<{ [k in keyof typeof FLAGS]: boolean }> {\n    constructor() {\n        super('FeatureFlagsStore', () => {\n            // Set the default values for the first time.\n            if (!this.data) this.update(FLAGS);\n\n            // Update the store data if a new flag was added or removed.\n            if (this.data && Object.keys(this.data).length !== Object.keys(FLAGS).length) {\n                this.update(old => {\n                    const data = FLAGS;\n\n                    Object.keys(FLAGS).forEach(flag => {\n                        // @ts-expect-error flag key is always present in the object, Hence can ignore the TS error.\n                        if (old[flag] !== undefined) data[flag] = old[flag];\n                    });\n\n                    return data;\n                });\n            }\n        });\n    }\n}\n","import React, { useEffect, useMemo } from 'react';\nimport { ExchangeRatesProvider } from './providers';\nimport StoreContext from './storeContext';\nimport { ExchangeRatesStore, FeatureFlagsStore } from './stores';\nimport type { TCoreStores, TStores } from '../types';\n\nconst StoreProvider = ({ children, store }: React.PropsWithChildren<{ store: TCoreStores }>) => {\n    const memoizedValue: TStores = useMemo(() => {\n        // If the store is mocked for testing purposes, then return the mocked value.\n        if ('is_mock' in store && store.is_mock) return store as unknown as TStores;\n\n        // Otherwise, instantiate store and return it.\n        return {\n            ...store,\n            exchange_rates: new ExchangeRatesStore(),\n            feature_flags: new FeatureFlagsStore(),\n        };\n    }, [store]);\n\n    useEffect(() => {\n        return () => {\n            Object.values(memoizedValue).forEach(value => {\n                if (typeof value === 'object' && 'unmount' in value) value.unmount();\n            });\n        };\n    }, [memoizedValue]);\n\n    return (\n        <StoreContext.Provider value={memoizedValue}>\n            <ExchangeRatesProvider>{children}</ExchangeRatesProvider>\n        </StoreContext.Provider>\n    );\n};\n\nexport default StoreProvider;\n","import Audio from './audio';\n\nexport default Audio;\n","import React from 'react';\n\nconst Audio = () => (\n    <>\n        <audio id='announcement' aria-label='audio' src={`${__webpack_public_path__}media/announcement.mp3`} />\n        <audio id='earned-money' aria-label='audio' src={`${__webpack_public_path__}media/coins.mp3`} />\n        <audio id='job-done' aria-label='audio' src={`${__webpack_public_path__}media/job-done.mp3`} />\n        <audio id='error' aria-label='audio' src={`${__webpack_public_path__}media/out-of-bounds.mp3`} />\n        <audio id='severe-error' aria-label='audio' src={`${__webpack_public_path__}media/i-am-being-serious.mp3`} />\n    </>\n);\n\nexport default Audio;\n","type TTabsTitleProps = {\n    [key: string]: string | number;\n};\n\ntype TDashboardTabsProps = {\n    [key: string]: number;\n};\n\nexport const tabs_title: TTabsTitleProps = Object.freeze({\n    WORKSPACE: 'Workspace',\n    CHART: 'Chart',\n});\n\nexport const DBOT_TABS: TDashboardTabsProps = Object.freeze({\n    DASHBOARD: 0,\n    BOT_BUILDER: 1,\n    CHART: 2,\n    TUTORIAL: 3,\n    APOLLO_BOTS: 4,\n});\n\nexport const MAX_STRATEGIES = 10;\n\nexport const TAB_IDS = ['id-dbot-dashboard', 'id-bot-builder', 'id-charts', 'id-tutorials', 'id-apollo-bots'];\n","import { action, makeObservable, reaction, when } from 'mobx';\nimport { ApiHelpers, DBot, runIrreversibleEvents } from '@deriv/bot-skeleton';\nimport { ContentFlag, isEuResidenceWithOnlyVRTC, routes, showDigitalOptionsUnavailableError } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\n\nexport default class AppStore {\n    constructor(root_store, core) {\n        makeObservable(this, {\n            onMount: action.bound,\n            onUnmount: action.bound,\n            onBeforeUnload: action.bound,\n            registerReloadOnLanguageChange: action.bound,\n            registerCurrencyReaction: action.bound,\n            registerOnAccountSwitch: action.bound,\n            registerLandingCompanyChangeReaction: action.bound,\n            registerResidenceChangeReaction: action.bound,\n            setDBotEngineStores: action.bound,\n            onClickOutsideBlockly: action.bound,\n            showDigitalOptionsMaltainvestError: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n        this.dbot_store = null;\n        this.api_helpers_store = null;\n        this.timer = null;\n    }\n\n    getErrorForNonEuClients = () => ({\n        text: localize(\n            'Unfortunately, this trading platform is not available for EU Deriv account. Please switch to a non-EU account to continue trading.'\n        ),\n        title: localize('Deriv Bot is unavailable for this account'),\n        link: localize('Switch to another account'),\n    });\n\n    getErrorForEuClients = (is_logged_in = false) => {\n        return {\n            text: ' ',\n            title: is_logged_in\n                ? localize('Deriv Bot is not available for EU clients')\n                : localize('Deriv Bot is unavailable in the EU'),\n            link: is_logged_in && localize(\"Back to Trader's Hub\"),\n            route: routes.traders_hub,\n        };\n    };\n\n    handleErrorForEu = (show_default_error = false) => {\n        const { client, common, ui, traders_hub } = this.core;\n        const toggleAccountsDialog = ui?.toggleAccountsDialog;\n\n        if (!client?.is_logged_in && client?.is_eu_country) {\n            return showDigitalOptionsUnavailableError(common.showError, this.getErrorForEuClients());\n        }\n\n        if (!client.is_landing_company_loaded) {\n            return false;\n        }\n\n        if (window.location.pathname === routes.bot) {\n            if (client.should_show_eu_error) {\n                return showDigitalOptionsUnavailableError(\n                    common.showError,\n                    this.getErrorForEuClients(client.is_logged_in)\n                );\n            }\n\n            if (traders_hub.content_flag === ContentFlag.HIGH_RISK_CR) {\n                return false;\n            }\n\n            if (traders_hub.content_flag === ContentFlag.LOW_RISK_CR_EU && toggleAccountsDialog) {\n                return showDigitalOptionsUnavailableError(\n                    common.showError,\n                    this.getErrorForNonEuClients(),\n                    toggleAccountsDialog,\n                    false,\n                    false\n                );\n            }\n\n            if (\n                ((!client.is_bot_allowed && client.is_eu && client.should_show_eu_error) ||\n                    isEuResidenceWithOnlyVRTC(client.active_accounts) ||\n                    client.is_options_blocked) &&\n                toggleAccountsDialog\n            ) {\n                return showDigitalOptionsUnavailableError(\n                    common.showError,\n                    this.getErrorForNonEuClients(),\n                    toggleAccountsDialog,\n                    false,\n                    false\n                );\n            }\n        }\n\n        if (show_default_error && common.has_error) {\n            common.setError(false, null);\n        }\n        return false;\n    };\n\n    onMount() {\n        const { blockly_store, run_panel } = this.root_store;\n        const { client, ui, traders_hub } = this.core;\n        this.showDigitalOptionsMaltainvestError();\n\n        let timer_counter = 1;\n\n        this.timer = setInterval(() => {\n            if (window.sendRequestsStatistic) {\n                window.sendRequestsStatistic(false);\n                performance.clearMeasures();\n                if (timer_counter === 6 || run_panel?.is_running) {\n                    clearInterval(this.timer);\n                } else {\n                    timer_counter++;\n                }\n            }\n        }, 10000);\n\n        blockly_store.setLoading(true);\n        DBot.initWorkspace(__webpack_public_path__, this.dbot_store, this.api_helpers_store, ui.is_mobile).then(() => {\n            blockly_store.setContainerSize();\n            blockly_store.setLoading(false);\n        });\n        this.registerReloadOnLanguageChange(this);\n        this.registerCurrencyReaction.call(this);\n        this.registerOnAccountSwitch.call(this);\n        this.registerLandingCompanyChangeReaction.call(this);\n        this.registerResidenceChangeReaction.call(this);\n\n        window.addEventListener('click', this.onClickOutsideBlockly);\n        window.addEventListener('beforeunload', this.onBeforeUnload);\n\n        blockly_store.getCachedActiveTab();\n\n        when(\n            () => [client?.should_show_eu_error, client?.is_landing_company_loaded],\n            () => this.showDigitalOptionsMaltainvestError()\n        );\n\n        reaction(\n            () => traders_hub?.content_flag,\n            () => this.showDigitalOptionsMaltainvestError()\n        );\n    }\n\n    onUnmount() {\n        DBot.terminateBot();\n        DBot.terminateConnection();\n        if (Blockly.derivWorkspace) {\n            clearInterval(Blockly.derivWorkspace.save_workspace_interval);\n            Blockly.derivWorkspace.dispose();\n        }\n        if (typeof this.disposeReloadOnLanguageChangeReaction === 'function') {\n            this.disposeReloadOnLanguageChangeReaction();\n        }\n        if (typeof this.disposeCurrencyReaction === 'function') {\n            this.disposeCurrencyReaction();\n        }\n        if (typeof this.disposeSwitchAccountListener === 'function') {\n            this.disposeSwitchAccountListener();\n        }\n        if (typeof this.disposeLandingCompanyChangeReaction === 'function') {\n            this.disposeLandingCompanyChangeReaction();\n        }\n        if (typeof this.disposeResidenceChangeReaction === 'function') {\n            this.disposeResidenceChangeReaction();\n        }\n\n        window.removeEventListener('click', this.onClickOutsideBlockly);\n        window.removeEventListener('beforeunload', this.onBeforeUnload);\n\n        // Ensure account switch is re-enabled.\n        const { ui } = this.core;\n\n        ui.setAccountSwitcherDisabledMessage(false);\n        ui.setPromptHandler(false);\n\n        if (this.timer) clearInterval(this.timer);\n        performance.clearMeasures();\n    }\n\n    onBeforeUnload = event => {\n        const { is_stop_button_visible } = this.root_store.run_panel;\n\n        if (is_stop_button_visible) {\n            event.returnValue = true;\n        }\n    };\n    registerReloadOnLanguageChange() {\n        this.disposeReloadOnLanguageChangeReaction = reaction(\n            () => this.core.common.current_language,\n            () => {\n                // temporarily added this to refresh just dbot in case of changing language,\n                // otherwise it should change language without refresh.\n                const { pathname } = window.location;\n                const is_bot =\n                    /^\\/bot/.test(pathname) || (/^\\/(br_)/.test(pathname) && pathname.split('/')[2] === 'bot');\n                if (is_bot) window.location.reload();\n            }\n        );\n    }\n    registerCurrencyReaction() {\n        // Syncs all trade options blocks' currency with the client's active currency.\n        this.disposeCurrencyReaction = reaction(\n            () => this.core.client.currency,\n            currency => {\n                if (!Blockly.derivWorkspace) return;\n\n                const trade_options_blocks = Blockly.derivWorkspace\n                    .getAllBlocks()\n                    .filter(\n                        b =>\n                            b.type === 'trade_definition_tradeoptions' ||\n                            b.type === 'trade_definition_multiplier' ||\n                            (b.isDescendantOf('trade_definition_multiplier') && b.category_ === 'trade_parameters')\n                    );\n\n                trade_options_blocks.forEach(trade_options_block => trade_options_block.setCurrency(currency));\n            }\n        );\n    }\n\n    registerOnAccountSwitch() {\n        const { client } = this.core;\n\n        this.disposeSwitchAccountListener = reaction(\n            () => client.switch_broadcast,\n            switch_broadcast => {\n                if (!switch_broadcast) return;\n                this.showDigitalOptionsMaltainvestError();\n\n                const { active_symbols, contracts_for } = ApiHelpers.instance;\n\n                if (Blockly.derivWorkspace) {\n                    active_symbols.retrieveActiveSymbols(true).then(() => {\n                        contracts_for.disposeCache();\n                        Blockly.derivWorkspace\n                            .getAllBlocks()\n                            .filter(block => block.type === 'trade_definition_market')\n                            .forEach(block => {\n                                runIrreversibleEvents(() => {\n                                    const fake_create_event = new Blockly.Events.Create(block);\n                                    Blockly.Events.fire(fake_create_event);\n                                });\n                            });\n                    });\n                }\n            }\n        );\n    }\n\n    registerLandingCompanyChangeReaction() {\n        const { client } = this.core;\n\n        this.disposeLandingCompanyChangeReaction = reaction(\n            () => client.landing_company_shortcode,\n            () => this.handleErrorForEu()\n        );\n    }\n\n    registerResidenceChangeReaction() {\n        const { client } = this.core;\n\n        this.disposeResidenceChangeReaction = reaction(\n            () => client.account_settings.country_code,\n            () => this.handleErrorForEu()\n        );\n    }\n\n    setDBotEngineStores() {\n        // DO NOT pass the rootstore in, if you need a prop define it in dbot-skeleton-store ans pass it through.\n        const { flyout, toolbar, save_modal, dashboard, quick_strategy, load_modal, blockly_store, summary_card } =\n            this.root_store;\n        const { client } = this.core;\n        const { handleFileChange } = load_modal;\n        const { loadDataStrategy } = quick_strategy;\n        const { setLoading } = blockly_store;\n        const { setContractUpdateConfig } = summary_card;\n\n        this.dbot_store = {\n            client,\n            flyout,\n            toolbar,\n            save_modal,\n            dashboard,\n            load_modal,\n            setLoading,\n            setContractUpdateConfig,\n            loadDataStrategy,\n            handleFileChange,\n        };\n\n        this.api_helpers_store = {\n            server_time: this.core.common.server_time,\n            ws: this.root_store.ws,\n        };\n    }\n\n    onClickOutsideBlockly = event => {\n        if (document.querySelector('.injectionDiv')) {\n            const path = event.path || (event.composedPath && event.composedPath());\n            const is_click_outside_blockly = !path.some(el => el.classList && el.classList.contains('injectionDiv'));\n\n            if (is_click_outside_blockly) {\n                Blockly?.hideChaff(/* allowToolbox */ false);\n            }\n        }\n    };\n\n    showDigitalOptionsMaltainvestError = () => {\n        this.handleErrorForEu(true);\n    };\n}\n","const getSettingsFromLocal = () => {\n    return JSON.parse(localStorage.getItem('dbot_settings'));\n};\n\nexport const getSetting = key => {\n    const settings = getSettingsFromLocal();\n\n    if (!settings) {\n        return null;\n    }\n\n    return settings[key];\n};\n\nexport const storeSetting = (key, value) => {\n    const settings = getSettingsFromLocal() || {};\n\n    settings[key] = value;\n    localStorage.setItem('dbot_settings', JSON.stringify(settings));\n};\n\nexport const removeKeyValue = key => {\n    const settings = getSettingsFromLocal() || {};\n    delete settings[key];\n\n    localStorage.setItem('dbot_settings', JSON.stringify(settings));\n};\n","import { action, makeObservable, observable } from 'mobx';\nimport { onWorkspaceResize } from '@deriv/bot-skeleton';\nimport { tabs_title } from 'Constants/bot-contents';\nimport { getSetting, storeSetting } from 'Utils/settings';\nimport RootStore from './root-store';\n\nexport interface IBlocklyStore {\n    is_loading: boolean;\n    active_tab: string;\n    setActiveTab: (tab: string) => void;\n    setContainerSize: () => void;\n    onMount: () => void;\n    onUnmount: () => void;\n    setLoading: () => void;\n    getCachedActiveTab: () => void;\n}\n\nexport default class BlocklyStore implements IBlocklyStore {\n    root_store: RootStore;\n\n    constructor(root_store: RootStore) {\n        makeObservable(this, {\n            is_loading: observable,\n            active_tab: observable,\n            setActiveTab: action.bound,\n            setContainerSize: action.bound,\n            onMount: action.bound,\n            getCachedActiveTab: action.bound,\n            onUnmount: action.bound,\n            setLoading: action.bound,\n        });\n        this.root_store = root_store;\n    }\n\n    is_loading = false;\n\n    active_tab = tabs_title.WORKSPACE;\n\n    setActiveTab(tab: string): void {\n        this.active_tab = tab;\n        storeSetting('active_tab', this.active_tab);\n    }\n\n    setContainerSize(): void {\n        if (this.active_tab === tabs_title.WORKSPACE) {\n            onWorkspaceResize();\n        }\n    }\n\n    onMount(): void {\n        window.addEventListener('resize', this.setContainerSize);\n    }\n\n    getCachedActiveTab(): void {\n        if (getSetting('active_tab')) {\n            this.active_tab = getSetting('active_tab');\n        }\n    }\n\n    onUnmount(): void {\n        window.removeEventListener('resize', this.setContainerSize);\n    }\n\n    setLoading(is_loading: boolean): void {\n        this.is_loading = is_loading;\n    }\n}\n","import { action, computed, makeObservable, observable, reaction } from 'mobx';\n// import { tabs_title } from '../constants/bot-contents';\nimport { ServerTime } from '@deriv/bot-skeleton';\n\nconst g_subscribers_map = {};\nlet WS;\n\nexport default class ChartStore {\n    constructor(root_store) {\n        makeObservable(this, {\n            symbol: observable,\n            is_chart_loading: observable,\n            chart_type: observable,\n            granularity: observable,\n            is_contract_ended: computed,\n            onStartBot: action.bound,\n            onStopBot: action.bound,\n            updateSymbol: action.bound,\n            onSymbolChange: action.bound,\n            updateGranularity: action.bound,\n            updateChartType: action.bound,\n            setChartStatus: action.bound,\n            wsSubscribe: action.bound,\n            wsForget: action.bound,\n            wsForgetStream: action.bound,\n            wsSendRequest: action.bound,\n            getMarketsOrder: action.bound,\n        });\n\n        this.root_store = root_store;\n        WS = root_store.ws;\n        const { run_panel } = root_store;\n\n        reaction(\n            () => run_panel.is_running,\n            () => (run_panel.is_running ? this.onStartBot() : this.onStopBot())\n        );\n    }\n\n    symbol;\n    is_chart_loading;\n    chart_type;\n    granularity;\n\n    get is_contract_ended() {\n        const { transactions } = this.root_store;\n\n        return transactions.contracts.length > 0 && transactions.contracts[0].is_ended;\n    }\n\n    onStartBot() {\n        this.updateSymbol();\n\n        // const { main_content } = this.root_store;\n        // main_content.setActiveTab(tabs_title.CHART);\n    }\n\n    // eslint-disable-next-line\n    onStopBot() {\n        // const { main_content } = this.root_store;\n        // main_content.setActiveTab(tabs_title.WORKSPACE);\n    }\n\n    updateSymbol() {\n        const workspace = Blockly.derivWorkspace;\n        const market_block = workspace.getAllBlocks().find(block => {\n            return block.type === 'trade_definition_market';\n        });\n\n        if (market_block && market_block !== 'na') {\n            const symbol = market_block.getFieldValue('SYMBOL_LIST');\n            this.symbol = symbol;\n        }\n    }\n\n    onSymbolChange(symbol) {\n        this.symbol = symbol;\n    }\n\n    updateGranularity(granularity) {\n        this.granularity = granularity;\n    }\n\n    updateChartType(chart_type) {\n        this.chart_type = chart_type;\n    }\n\n    setChartStatus(status) {\n        this.is_chart_loading = status;\n    }\n\n    // #region WS\n    wsSubscribe = (req, callback) => {\n        if (req.subscribe === 1) {\n            const key = JSON.stringify(req);\n            const subscriber = WS.subscribeTicksHistory(req, callback);\n            g_subscribers_map[key] = subscriber;\n        }\n    };\n\n    wsForget = req => {\n        const key = JSON.stringify(req);\n        if (g_subscribers_map[key]) {\n            g_subscribers_map[key].unsubscribe();\n            delete g_subscribers_map[key];\n        }\n    };\n\n    wsForgetStream = stream_id => {\n        WS.forgetStream(stream_id);\n    };\n\n    wsSendRequest = req => {\n        if (req.time) {\n            return ServerTime.timePromise().then(() => {\n                return {\n                    msg_type: 'time',\n                    time: ServerTime.get().unix(),\n                };\n            });\n        }\n        if (req.active_symbols) {\n            return WS.activeSymbols();\n        }\n        return WS.storage.send(req);\n    };\n\n    getMarketsOrder = active_symbols => {\n        const synthetic_index = 'synthetic_index';\n\n        const has_synthetic_index = !!active_symbols.find(s => s.market === synthetic_index);\n        return active_symbols\n            .slice()\n            .sort((a, b) => (a.display_name < b.display_name ? -1 : 1))\n            .map(s => s.market)\n            .reduce(\n                (arr, market) => {\n                    if (arr.indexOf(market) === -1) arr.push(market);\n                    return arr;\n                },\n                has_synthetic_index ? [synthetic_index] : []\n            );\n    };\n    // #endregion\n}\n","export const tabs_title = Object.freeze({\n    TAB_LOCAL: 'local_tab',\n    TAB_GOOGLE: 'google_tab',\n    TAB_RECENT: 'recent_tab',\n});\n\nexport const clearInjectionDiv = (type, el_ref) => {\n    if (type === 'store') {\n        if (el_ref && el_ref.getElementsByClassName('injectionDiv').length > 1) {\n            el_ref.removeChild(el_ref.getElementsByClassName('injectionDiv')[0]);\n        }\n    } else {\n        el_ref?.current?.removeChild(el_ref?.current?.children[0]);\n    }\n};\n","import React from 'react';\nimport { Loading, Text } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\ntype TTourGuide = {\n    content: string[];\n    img?: string;\n    label: string | boolean;\n    onCloseTour: () => void;\n    step_index: number;\n};\n\nconst TourGuide = observer(({ content, img, label, step_index }: TTourGuide) => {\n    const { dashboard } = useDBotStore();\n    const { onCloseTour } = dashboard;\n\n    const [has_image_loaded, setImageLoaded] = React.useState(false);\n\n    React.useEffect(() => {\n        if (img) {\n            const tour_image = new Image();\n            tour_image.onload = () => {\n                setImageLoaded(true);\n            };\n            tour_image.src = img;\n        }\n    }, [step_index]);\n\n    return (\n        <React.Fragment>\n            <div className='onboard'>\n                <div className='onboard__header'>\n                    <Text color='less-prominent' line_height='l'>\n                        {step_index}/6\n                    </Text>\n                    <Text className='onboard__header--close' line_height='l' onClick={onCloseTour}>\n                        {localize('Exit tour')}\n                    </Text>\n                </div>\n                <div className='onboard__label'>\n                    <Text as='h' line_height='l' weight='bold'>\n                        {label}\n                    </Text>\n                </div>\n\n                {img && (\n                    <div className='onboard__container'>\n                        {has_image_loaded ? <img src={img} loading='eager' /> : <Loading />}\n                    </div>\n                )}\n\n                <div className='onboard__content'>\n                    {content.map(content_text => {\n                        return (\n                            <div className='onboard__content__block' key={content_text}>\n                                <Text align='left' as='h' size='xs' line_height='l'>\n                                    {content_text}\n                                </Text>\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n        </React.Fragment>\n    );\n});\n\nexport default TourGuide;\n","import { getImageLocation } from '../../public-path';\nimport React from 'react';\nimport { CallBackProps } from 'react-joyride';\nimport { Icon, Text } from '@deriv/components';\nimport { Localize, localize } from '@deriv/translations';\nimport { getSetting, storeSetting } from '../../utils/settings';\nimport TourGuide from './tour-guide';\n\ntype TJoyrideConfig = Record<\n    'showProgress' | 'spotlightClicks' | 'disableBeacon' | 'disableOverlay' | 'disableCloseOnEsc',\n    boolean\n>;\n\ntype TStep = {\n    label?: string;\n    content: Array<string | React.ReactElement>;\n    type?: 'list' | 'text';\n};\n\ntype TTourStatus = {\n    key: string;\n    toggle: string;\n    type: string;\n};\n\nexport type TTourType = Pick<TTourStatus, 'key'>;\n\nexport const setTourSettings = (param: number | { [key: string]: string }, type: string) => {\n    if (type === `${tour_type.key}_token`) {\n        return storeSetting(`${tour_type.key}_token`, param);\n    }\n    return storeSetting(`${tour_type.key}_status`, param);\n};\n\nexport const getTourSettings = (type: string) => {\n    if (type === 'token') {\n        return getSetting(`${tour_type.key}_token`);\n    }\n    return getSetting(`${tour_type.key}_status`);\n};\n\nexport const Step = ({ label, content }: TStep) => {\n    return (\n        <div className='db-tour'>\n            <Text line_height='xl' as='p' weight='bold'>\n                {label}\n            </Text>\n            {content.map(item => item)}\n        </div>\n    );\n};\n\nexport const tour_type: TTourType = {\n    key: 'onboard_tour',\n};\n\nexport const setTourType = (param: string) => {\n    tour_type.key = param;\n};\n\nexport const tour_status_ended: TTourStatus = {\n    key: '',\n    toggle: '',\n    type: `${tour_type.key}_status`,\n};\n\nlet tour: { [key: string]: string } = {};\nlet current_target: number | undefined;\nexport const handleJoyrideCallback = (data: CallBackProps) => {\n    const { action, index, status } = data;\n    if (status === 'finished') {\n        tour_status_ended.key = status;\n    }\n    if (action === 'close') {\n        tour_status_ended.toggle = action;\n    }\n    if (current_target !== index) {\n        tour = {};\n        tour.status = status;\n        tour.action = action;\n    }\n    current_target = index;\n    setTourSettings(tour, 'tour');\n    //added trigger to create new listner on local storage\n    window.dispatchEvent(new Event('storage'));\n    setTourSettings(new Date().getTime(), `${tour_type.key}_token`);\n};\n\nconst joyride_props: TJoyrideConfig = {\n    showProgress: false,\n    spotlightClicks: false,\n    disableBeacon: true,\n    disableOverlay: true,\n    disableCloseOnEsc: true,\n};\n\nexport const DBOT_ONBOARDING = [\n    {\n        target: '#id-bot-builder',\n        content: (\n            <TourGuide\n                label={localize('Build from scratch')}\n                content={[\n                    localize(\n                        'Create your bot easily using our drag-and-drop blocks to match your desired trading strategy, or choose from our pre-made Quick Strategies.'\n                    ),\n                    localize(\n                        'We also provide a tutorial on this tab to show you how you can build and execute a simple strategy.'\n                    ),\n                ]}\n                img={getImageLocation('dbot-onboarding-tour-step-1.gif')}\n                dashboard_tab_index={0}\n                step_index={1}\n            />\n        ),\n        ...joyride_props,\n        disableOverlay: false,\n    },\n    {\n        target: '#id-charts',\n        content: (\n            <TourGuide\n                label={localize('Monitor the market')}\n                content={[localize('View the market price of your favourite assets.')]}\n                img={getImageLocation('dbot-onboarding-tour-step-2.gif')}\n                dashboard_tab_index={0}\n                step_index={2}\n            />\n        ),\n        ...joyride_props,\n        disableOverlay: false,\n    },\n    {\n        target: '#id-tutorials',\n        content: (\n            <TourGuide\n                label={localize('Guides and FAQs to help you')}\n                content={[localize('Start with a video guide and the FAQs.')]}\n                img={getImageLocation('dbot-onboarding-tour-step-3.gif')}\n                dashboard_tab_index={0}\n                step_index={3}\n            />\n        ),\n        ...joyride_props,\n        disableOverlay: false,\n    },\n    {\n        target: '#tab__dashboard__table__tiles',\n        content: (\n            <TourGuide\n                label={localize('Shortcuts')}\n                content={[localize('You can also use these shortcuts to import or build your bot.')]}\n                dashboard_tab_index={0}\n                step_index={4}\n            />\n        ),\n        placement: 'right',\n        ...joyride_props,\n        disableOverlay: false,\n    },\n    {\n        target: '.dc-drawer__container',\n        content: (\n            <TourGuide\n                label={localize('How is my bot doing?')}\n                content={[localize(\"See your bot's performance in real-time.\")]}\n                img={getImageLocation('dbot-onboarding-tour-step-5.gif')}\n                dashboard_tab_index={0}\n                step_index={5}\n            />\n        ),\n        placement: 'left',\n        ...joyride_props,\n        disableOverlay: false,\n    },\n    {\n        target: '.animation__wrapper',\n        content: (\n            <TourGuide\n                label={localize('Run or stop your bot')}\n                content={[localize('Click Run when you want to start trading, and click Stop when you want to stop.')]}\n                img={getImageLocation('dbot-onboarding-tour-step-6.gif')}\n                dashboard_tab_index={0}\n                step_index={6}\n            />\n        ),\n        ...joyride_props,\n        disableOverlay: false,\n    },\n];\n\nconst Step1 = ({ show_label = false }) => (\n    <div className='joyride-content'>\n        {show_label && (\n            <div className='joyride-content__left'>\n                <Localize i18n_default_text='Step 1 :' />\n            </div>\n        )}\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text={'First, set the <0>Trade parameters</0> block.'}\n                components={[<strong key={0} />]}\n            />\n        </div>\n        <div className='joyride-content__left joyride-content__sub-title'>\n            <Localize i18n_default_text='<0>1. Trade parameters:<0>' components={[<strong key={0} />]} />\n        </div>\n        <div className='joyride-content__left'>\n            <ul>\n                <li>\n                    <Localize\n                        i18n_default_text='First, set <0>Market</0> to Derived > Continuous Indices > Volatility 100 (1s) Index.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='Then, set <0>Trade type</0> to Up/Down > Rise/Fall.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='For <0>Contract type,</0> set it to Both.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='For <0>Default candle interval,</0> set it to 1 minute'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n            </ul>\n        </div>\n    </div>\n);\n\nconst Step1A = () => (\n    <div className='joyride-content'>\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text='For <0>Trade options</0>, set it as below:'\n                components={[<strong key={0} />]}\n            />\n        </div>\n        <div className='joyride-content__left'>\n            <ul>\n                <li>\n                    <Localize i18n_default_text='<0>Duration</0>: Ticks 1' components={[<strong key={0} />]} />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='<0>Stake: USD</0> 10 (min: 0.35 - max: 50000)'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n            </ul>\n        </div>\n    </div>\n);\n\nconst Step2 = ({ show_label = false }) => (\n    <div className='joyride-content'>\n        {show_label && (\n            <div className='joyride-content__left'>\n                <Localize i18n_default_text='Step 2 :' />\n            </div>\n        )}\n\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text='Then, set the <0>Purchase conditions</0> block.'\n                components={[<strong key={0} />]}\n            />\n        </div>\n        <div className='joyride-content__left joyride-content__sub-title'>\n            <Localize i18n_default_text='<0>2. Purchase conditions</0>:' components={[<strong key={0} />]} />\n        </div>\n        <div className='joyride-content__left'>\n            <ul>\n                <li>\n                    <Localize i18n_default_text='<0>Purchase</0>: Rise' components={[<strong key={0} />]} />\n                </li>\n            </ul>\n        </div>\n    </div>\n);\n\nconst Step3 = ({ show_label = false }) => (\n    <div className='joyride-content'>\n        {show_label && (\n            <div className='joyride-content__left joyride-content__left__step-three'>\n                <Localize i18n_default_text='Step 3 :' />\n            </div>\n        )}\n\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text='The third block is <0>optional</0>. You may use this block if you want to sell your contract before it expires. For now, leave the block as it is. '\n                components={[<strong key={0} />]}\n            />\n        </div>\n    </div>\n);\n\nconst Step4 = ({ show_label = false }) => (\n    <div className='joyride-content'>\n        {show_label && (\n            <div className='joyride-content__left'>\n                <Localize i18n_default_text='Step 4 :' />\n            </div>\n        )}\n\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text='Next, go to <0>Utility tab</0> under the Blocks menu. Tap the drop-down arrow and hit <0>Loops</0>.'\n                components={[<strong key={0} />]}\n            />\n        </div>\n        <div className='joyride-content__left'>\n            <ul>\n                <li>\n                    <Localize\n                        i18n_default_text='Look for the <0>Repeat While/Until</0>, and click the + icon to add the block to the workspace area.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='Choose <0>until</0> as the repeat option.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n            </ul>\n            <div className='joyride-content__left joyride-content__with-icon'>\n                <div className='joyride-content__with-icon__left'>\n                    <Icon icon='IcCheckmarkCircle' className='db-contract-card__result-icon' color='green' />\n                </div>\n                <div className='joyride-content__with-icon__right'>\n                    <Localize\n                        i18n_default_text='Pro tip: You can also click and drag out the desired block'\n                        components={[<strong key={0} />]}\n                    />\n                </div>\n            </div>\n        </div>\n        <div>\n            <img src={getImageLocation('bot-builder-tour-step-4.gif')} alt='step4' />\n        </div>\n    </div>\n);\n\nconst Step5 = ({ show_label = false }) => (\n    <div className='joyride-content'>\n        {show_label && (\n            <div className='joyride-content__left'>\n                <Localize i18n_default_text='Step 5 :' />\n            </div>\n        )}\n\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text='Now, tap the <0>Analysis</0> drop-down arrow and hit <0>Contract</0>.'\n                components={[<strong key={0} />]}\n            />\n        </div>\n        <div className='joyride-content__left'>\n            <ul>\n                <li>\n                    <Localize\n                        i18n_default_text='Go to the <0>Last trade result</0> block and click + icon to add the <0>Result is Win</0> block to the workspace.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='Then, drag the <0>Result is win</0> into the empty slot next to <0>repeat until</0> block.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='Now, go to the <0>Restart trading conditions</0> block.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='Drag the <0>Trade again</0> block and add it into the <0>do</0> part of the <0>Repeat until</0> block.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n            </ul>\n        </div>\n        <div>\n            <img src={getImageLocation('bot-builder-tour-step-5.gif')} alt='step5' />\n        </div>\n    </div>\n);\n\nconst Step6 = ({ show_label = false }) => (\n    <div className='joyride-content'>\n        {show_label && (\n            <div className='joyride-content__left'>\n                <Localize i18n_default_text='Step 6 :' />\n            </div>\n        )}\n\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text='Finally, drag and add the whole <0>Repeat</0> block to the <0>Restart trading conditions</0> block.'\n                components={[<strong key={0} />]}\n            />\n        </div>\n    </div>\n);\n\nexport const BOT_BUILDER_TOUR = [\n    {\n        target: '.animation__wrapper',\n        content: <Step1 show_label />,\n        placement: 'right',\n        ...joyride_props,\n    },\n    {\n        target: '.animation__wrapper',\n        content: <Step1A />,\n        placement: 'bottom',\n        ...joyride_props,\n    },\n    {\n        target: '.animation__wrapper',\n        content: <Step2 show_label />,\n        placement: 'right',\n        ...joyride_props,\n    },\n    {\n        target: '.animation__wrapper',\n        content: <Step3 show_label />,\n        placement: 'right',\n        ...joyride_props,\n    },\n    {\n        target: '.animation__wrapper',\n        content: <Step4 show_label />,\n        placement: 'right',\n        ...joyride_props,\n    },\n    {\n        target: '.animation__wrapper',\n        content: <Step5 show_label />,\n        placement: 'right',\n        ...joyride_props,\n    },\n    {\n        target: '.animation__wrapper',\n        content: <Step6 show_label />,\n        ...joyride_props,\n    },\n];\n\nexport type TStepMobile = {\n    header: string;\n    content: React.ReactElement;\n    key: number;\n};\n\nexport const BOT_BUILDER_MOBILE: TStepMobile[] = [\n    {\n        header: localize('Step 1'),\n        content: <Localize i18n_default_text={`First, click the Import icon on the tool bar.`} />,\n        key: 1,\n    },\n    {\n        header: localize('Step 2'),\n        content: (\n            <Localize\n                i18n_default_text={`Next, import your bot directly from your mobile device or from Google Drive.`}\n            />\n        ),\n        key: 2,\n    },\n    {\n        header: localize('Step 3'),\n        content: (\n            <Localize\n                i18n_default_text={`Once imported, you will see a preview of the bot on the workspace. Click run to start trading with this bot.`}\n            />\n        ),\n        key: 3,\n    },\n];\n\nexport const DBOT_ONBOARDING_MOBILE = [\n    {\n        header: localize('Get started on Deriv Bot'),\n        content: [\n            <Localize\n                key='get-started=mobile'\n                i18n_default_text='Hi! Hit <0>Start</0> for a quick tour to help you get started.'\n                components={[<strong key={0} />]}\n            />,\n        ],\n        key: 1,\n        step_key: 0,\n    },\n    {\n        header: localize('Build from scratch'),\n        img: getImageLocation('dbot-mobile-onboarding-step-1.gif'),\n        content: [\n            localize(\n                'Import a bot from your mobile device or from Google drive, see a preview in the bot builder, and start trading by running the bot, or choose from our pre-made Quick Strategies. '\n            ),\n        ],\n        key: 2,\n        step_key: 1,\n    },\n    {\n        header: localize('Monitor the market'),\n        img: getImageLocation('dbot-mobile-onboarding-step-2.png'),\n        content: [localize('View the market price of your favourite assets.')],\n        key: 3,\n        step_key: 2,\n    },\n    {\n        header: localize('Guides and FAQs to help you'),\n        img: getImageLocation('dbot-mobile-onboarding-step-3.gif'),\n        content: [localize('Start with a video guide and the FAQs.')],\n        key: 4,\n        step_key: 3,\n    },\n    {\n        header: localize('Shortcuts'),\n        img: getImageLocation('dbot-mobile-onboarding-step-4.png'),\n        content: [localize('You can also use these shortcuts to import or build your bot.')],\n        key: 5,\n        step_key: 4,\n    },\n    {\n        header: localize('How is my bot doing?'),\n        img: getImageLocation('dbot-mobile-onboarding-step-5.gif'),\n        content: [localize(\"See your bot's performance in real-time.\")],\n        key: 6,\n        step_key: 5,\n    },\n    {\n        header: localize('Run or stop your bot'),\n        img: getImageLocation('dbot-mobile-onboarding-step-6.gif'),\n        content: [localize('Click Run when you want to start trading, and click Stop when you want to stop.')],\n        key: 7,\n        step_key: 6,\n    },\n];\n","import { action, computed, makeObservable, observable, reaction } from 'mobx';\nimport { blocksCoordinate, setColors } from '@deriv/bot-skeleton';\nimport { isMobile } from '@deriv/shared';\nimport { clearInjectionDiv } from 'Constants/load-modal';\nimport { setTourSettings, tour_type, TTourType } from '../components/dashboard/joyride-config';\nimport RootStore from './root-store';\n\nexport interface IDashboardStore {\n    active_tab: number;\n    dialog_options: { [key: string]: string };\n    faq_search_value: string | null;\n    has_builder_token: string | number;\n    has_mobile_preview_loaded: boolean;\n    has_onboarding_token: string | number;\n    has_started_bot_builder_tour: boolean;\n    has_started_onboarding_tour: boolean;\n    has_tour_ended: boolean;\n    initInfoPanel: () => void;\n    is_dialog_open: boolean;\n    is_file_supported: boolean;\n    is_info_panel_visible: boolean;\n    is_preview_on_popup: boolean;\n    onCloseDialog: () => void;\n    onCloseTour: (param: Partial<string>) => void;\n    onTourEnd: (step: number, has_started_onboarding_tour: boolean) => void;\n    setActiveTab: (active_tab: number) => void;\n    setActiveTabTutorial: (active_tab_tutorials: number) => void;\n    setFAQSearchValue: (faq_search_value: string) => void;\n    setHasTourEnded: (has_tour_ended: boolean) => void;\n    setInfoPanelVisibility: (visibility: boolean) => void;\n    setIsFileSupported: (is_file_supported: boolean) => void;\n    setOnBoardTourRunState: (has_started_onboarding_tour: boolean) => void;\n    setOpenSettings: (toast_message: string, show_toast: boolean) => void;\n    setPreviewOnDialog: (has_mobile_preview_loaded: boolean) => void;\n    setStrategySaveType: (param: string) => void;\n    show_toast: boolean;\n    showVideoDialog: (param: { [key: string]: string }) => void;\n    strategy_save_type: string;\n    toast_message: string;\n}\n\nexport default class DashboardStore implements IDashboardStore {\n    root_store: RootStore;\n\n    constructor(root_store: RootStore) {\n        makeObservable(this, {\n            active_tab_tutorials: observable,\n            active_tab: observable,\n            dialog_options: observable,\n            faq_search_value: observable,\n            getFileArray: observable,\n            has_builder_token: observable,\n            has_file_loaded: observable,\n            has_mobile_preview_loaded: observable,\n            has_onboarding_token: observable,\n            has_started_bot_builder_tour: observable,\n            has_started_onboarding_tour: observable,\n            has_tour_ended: observable,\n            has_tour_started: observable,\n            initInfoPanel: action.bound,\n            is_dialog_open: observable,\n            is_file_supported: observable,\n            is_info_panel_visible: observable,\n            is_preview_on_popup: observable,\n            is_tour_dialog_visible: observable,\n            is_dark_mode: computed,\n            onCloseDialog: action.bound,\n            onCloseTour: action.bound,\n            onTourEnd: action.bound,\n            setActiveTab: action.bound,\n            setActiveTabTutorial: action.bound,\n            setBotBuilderTokenCheck: action.bound,\n            setBotBuilderTourState: action.bound,\n            setFAQSearchValue: action.bound,\n            setFileLoaded: action.bound,\n            setHasTourEnded: action.bound,\n            setInfoPanelVisibility: action.bound,\n            setIsFileSupported: action.bound,\n            setOnBoardingTokenCheck: action.bound,\n            setOnBoardTourRunState: action.bound,\n            setPreviewOnDialog: action.bound,\n            setPreviewOnPopup: action.bound,\n            setTourActive: action.bound,\n            setTourDialogVisibility: action.bound,\n            setOpenSettings: action.bound,\n            show_toast: observable,\n            showVideoDialog: action.bound,\n            strategy_save_type: observable,\n            toggleOnConfirm: action.bound,\n            toast_message: observable,\n            setStrategySaveType: action.bound,\n        });\n        this.root_store = root_store;\n        const {\n            load_modal: { previewRecentStrategy, current_workspace_id },\n        } = this.root_store;\n\n        const refreshBotBuilderTheme = () => {\n            Blockly.derivWorkspace.asyncClear();\n            Blockly.Xml.domToWorkspace(\n                Blockly.Xml.textToDom(Blockly.derivWorkspace.strategy_to_load),\n                Blockly.derivWorkspace\n            );\n        };\n\n        reaction(\n            () => this.is_dark_mode,\n            () => {\n                setColors(this.is_dark_mode);\n                if (this.active_tab === 1) {\n                    refreshBotBuilderTheme();\n                } else {\n                    refreshBotBuilderTheme();\n                    previewRecentStrategy(current_workspace_id);\n                }\n            }\n        );\n        reaction(\n            () => this.is_preview_on_popup,\n            async is_preview_on_popup => {\n                if (is_preview_on_popup) {\n                    this.setPreviewOnPopup(false);\n                }\n            }\n        );\n        this.initInfoPanel();\n    }\n\n    active_tab = 0;\n    active_tab_tutorials = 0;\n    active_tour_step_number = 0;\n    dialog_options = {};\n    faq_search_value = null || '';\n    getFileArray = [];\n    has_builder_token = '';\n    has_file_loaded = false;\n    has_mobile_preview_loaded = false;\n    has_onboarding_token = '';\n    has_started_bot_builder_tour = false;\n    has_started_onboarding_tour = false;\n    has_tour_ended = false;\n    has_tour_started = false;\n    is_dialog_open = false;\n    is_file_supported = false;\n    is_info_panel_visible = false;\n    is_preview_on_popup = false;\n    is_tour_dialog_visible = false;\n    show_toast = false;\n    strategy_save_type = 'unsaved';\n    toast_message = '';\n\n    get is_dark_mode() {\n        const {\n            app: {\n                core: {\n                    ui: { is_dark_mode_on },\n                },\n            },\n        } = this.root_store;\n        return is_dark_mode_on;\n    }\n\n    setOpenSettings = (toast_message: string, show_toast = true) => {\n        this.toast_message = toast_message;\n        this.show_toast = show_toast;\n    };\n\n    setIsFileSupported = (is_file_supported: boolean) => {\n        this.is_file_supported = is_file_supported;\n    };\n\n    initInfoPanel() {\n        if (!localStorage.getItem('dbot_should_show_info')) this.is_info_panel_visible = true;\n    }\n\n    setTourActiveStep = (active_tour_step_number: number) => {\n        this.active_tour_step_number = active_tour_step_number;\n    };\n\n    setPreviewOnDialog = (has_mobile_preview_loaded: boolean) => {\n        this.has_mobile_preview_loaded = has_mobile_preview_loaded;\n        const {\n            load_modal: { onLoadModalClose },\n        } = this.root_store;\n        onLoadModalClose();\n    };\n\n    setStrategySaveType = (strategy_save_type: string) => {\n        this.strategy_save_type = strategy_save_type;\n    };\n\n    setHasTourEnded = (has_tour_ended: boolean): void => {\n        this.has_tour_ended = has_tour_ended;\n    };\n\n    setBotBuilderTokenCheck = (has_builder_token: string | number): void => {\n        this.has_builder_token = has_builder_token;\n    };\n\n    setOnBoardingTokenCheck = (has_onboarding_token: string | number): void => {\n        this.has_onboarding_token = has_onboarding_token;\n    };\n\n    setBotBuilderTourState = (has_started_bot_builder_tour: boolean): void => {\n        this.has_started_bot_builder_tour = has_started_bot_builder_tour;\n    };\n\n    setPreviewOnPopup = (is_preview_on_popup: boolean): void => {\n        this.is_preview_on_popup = is_preview_on_popup;\n    };\n\n    setOnBoardTourRunState = (has_started_onboarding_tour: boolean): void => {\n        this.has_started_onboarding_tour = has_started_onboarding_tour;\n    };\n\n    setTourDialogVisibility = (is_tour_dialog_visible: boolean): void => {\n        this.is_tour_dialog_visible = is_tour_dialog_visible;\n    };\n\n    setTourActive = (has_tour_started: boolean): void => {\n        this.has_tour_started = has_tour_started;\n    };\n\n    setFileLoaded = (has_file_loaded: boolean): void => {\n        this.has_file_loaded = has_file_loaded;\n        clearInjectionDiv('store', document.getElementById('load-strategy__blockly-container'));\n    };\n\n    onCloseDialog = (): void => {\n        this.is_dialog_open = false;\n    };\n\n    setActiveTab = (active_tab: number): void => {\n        this.active_tab = active_tab;\n        if (this.has_started_bot_builder_tour) {\n            this.setTourActive(false);\n            this.setBotBuilderTourState(false);\n        }\n        if (this.active_tab === 1) {\n            blocksCoordinate();\n        }\n    };\n\n    setActiveTabTutorial = (active_tab_tutorials: number): void => {\n        this.active_tab_tutorials = active_tab_tutorials;\n    };\n\n    setFAQSearchValue = (faq_search_value: string): void => {\n        this.faq_search_value = faq_search_value;\n    };\n\n    showVideoDialog = (param: { [key: string]: string }): void => {\n        const { url, type } = param;\n        const dialog_type = ['google', 'url'];\n        if (dialog_type.includes(type)) {\n            if (type === 'url') {\n                this.dialog_options = {\n                    url,\n                };\n            }\n            this.is_dialog_open = true;\n        } else {\n            this.is_dialog_open = false;\n        }\n    };\n\n    setInfoPanelVisibility = (is_info_panel_visible: boolean): void => {\n        this.is_info_panel_visible = is_info_panel_visible;\n    };\n\n    onZoomInOutClick = (is_zoom_in: boolean): void => {\n        const workspace = Blockly.mainWorkspace;\n        const metrics = workspace.getMetrics();\n        const addition = is_zoom_in ? 1 : -1;\n\n        workspace.zoom(metrics.viewWidth / 2, metrics.viewHeight / 2, addition);\n    };\n\n    toggleOnConfirm = (active_tab: number, value: boolean): void => {\n        if (active_tab === 0) {\n            this.setTourActive(value);\n            this.setOnBoardTourRunState(value);\n        } else {\n            this.setBotBuilderTourState(value);\n        }\n        this.setHasTourEnded(value);\n    };\n\n    onCloseTour = (): void => {\n        this.setOnBoardTourRunState(false);\n        this.setBotBuilderTourState(false);\n        setTourSettings(new Date().getTime(), `${tour_type.key}_token`);\n        this.setTourActive(false);\n    };\n    setTourEnd = (param: TTourType): void => {\n        const { key } = param;\n        this.setHasTourEnded(true);\n        if (!isMobile()) this.setTourDialogVisibility(true);\n        this.setTourActive(false);\n        setTourSettings(new Date().getTime(), `${key}_token`);\n    };\n\n    onTourEnd = (step: number, has_started_onboarding_tour: boolean): void => {\n        if (step === 7) {\n            this.onCloseTour();\n            this.setTourEnd(tour_type);\n            this.setTourDialogVisibility(true);\n        }\n        if (!has_started_onboarding_tour && step === 3) {\n            this.onCloseTour();\n            this.setTourEnd(tour_type);\n        }\n    };\n}\n","import crc32 from 'crc-32/crc32';\nimport { action, makeObservable, observable, reaction } from 'mobx';\nimport { DBot } from '@deriv/bot-skeleton';\nimport { cloneObject, isProduction } from '@deriv/shared';\n\nexport default class DataCollectionStore {\n    constructor(root_store, core) {\n        makeObservable(this, {\n            IS_PENDING: observable,\n            IS_PROCESSED: observable,\n            endpoint: observable,\n            run_id: observable,\n            run_start: observable,\n            should_post_xml: observable,\n            strategy_content: observable,\n            transaction_ids: observable,\n            trackRun: action.bound,\n            trackTransaction: action.bound,\n            setRunId: action.bound,\n            setRunStart: action.bound,\n            setStrategyContent: action.bound,\n            cleanXmlDom: action.bound,\n            getHash: action.bound,\n        });\n        this.root_store = root_store;\n        this.core = core;\n        if (isProduction() || /(.*?)\\.binary.sx$/.test(window.location.hostname)) {\n            this.root_store = root_store;\n\n            reaction(\n                () => this.root_store.run_panel.is_running,\n                () => (this.root_store.run_panel.is_running ? this.trackRun() : undefined)\n            );\n            reaction(\n                () => this.root_store.transactions.transactions,\n                transactions => {\n                    if (this.run_id) this.trackTransaction(transactions);\n                }\n            );\n        }\n    }\n\n    // Constants\n    IS_PENDING = false;\n    IS_PROCESSED = true;\n\n    endpoint = 'https://dbot-conf-dot-deriv-bi-reporting.as.r.appspot.com/dbotconf';\n    run_id = '';\n    run_start = 0;\n    should_post_xml = true;\n    strategy_content = '';\n    transaction_ids = {};\n\n    async trackRun() {\n        const xml_dom = this.cleanXmlDom(Blockly.Xml.workspaceToDom(DBot.workspace, /* opt_noId */ true));\n        const xml_string = Blockly.Xml.domToText(xml_dom);\n        const xml_hash = this.getHash(xml_string);\n\n        if (this.getHash(this.strategy_content) !== xml_hash) {\n            this.should_post_xml = true;\n            this.setStrategyContent(xml_string);\n        }\n\n        this.setRunId(this.getHash(xml_hash + this.core.client.loginid + Math.random()));\n        this.setRunStart(this.core.common.server_time.unix());\n    }\n\n    async trackTransaction(contracts) {\n        const pako = await import(/* webpackChunkName: \"dbot-collection\" */ 'pako');\n        const contract = contracts[0]; // Most recent contract.\n\n        if (!contract) {\n            return;\n        }\n\n        const { buy: transaction_id } = contract.data.transaction_ids;\n        const is_known_transaction = Object.keys(this.transaction_ids).includes(transaction_id.toString());\n\n        if (!is_known_transaction) {\n            this.transaction_ids[transaction_id] = this.IS_PENDING;\n\n            const getPayload = () => {\n                const content = pako.gzip(this.strategy_content);\n                return {\n                    body: content,\n                    headers: {\n                        'Content-Encoding': 'gzip',\n                        'Content-Type': 'application/xml',\n                        Referer: window.location.hostname,\n                    },\n                };\n            };\n\n            fetch(\n                `${this.endpoint}/${this.run_id}/${transaction_id}/${this.run_start}/${this.getHash(\n                    this.strategy_content\n                )}`,\n                {\n                    ...(this.should_post_xml ? getPayload() : {}),\n                    method: 'POST',\n                    mode: 'cors',\n                }\n            )\n                .then(() => {\n                    this.should_post_xml = false;\n                    this.transaction_ids[transaction_id] = this.IS_PROCESSED;\n                })\n                .catch(() => {\n                    delete this.transaction_ids[transaction_id];\n                });\n        }\n    }\n\n    setRunId(run_id) {\n        this.run_id = run_id;\n    }\n\n    setRunStart(timestamp) {\n        this.run_start = timestamp;\n    }\n\n    setStrategyContent(strategy_content) {\n        this.strategy_content = strategy_content;\n    }\n\n    cleanXmlDom = xml_dom => {\n        const useless_attributes = ['x', 'y', 'id'];\n        const updated_dom = cloneObject(xml_dom);\n        const removeAttributesRecursively = element => {\n            useless_attributes.forEach(useless_attribute => element.removeAttribute(useless_attribute));\n            Array.from(element.children).forEach(child => removeAttributesRecursively(child));\n        };\n\n        removeAttributesRecursively(updated_dom);\n        return updated_dom;\n    };\n\n    getHash = string => btoa(crc32.str(string));\n}\n","import { action, makeObservable } from 'mobx';\nimport { log_types } from '@deriv/bot-skeleton';\nimport { localize } from '@deriv/translations';\n\nexport default class DownloadStore {\n    constructor(root_store) {\n        makeObservable(this, {\n            onClickDownloadTransaction: action.bound,\n            onClickDownloadJournal: action.bound,\n            getSuccessJournalMessage: action.bound,\n        });\n\n        this.root_store = root_store;\n    }\n\n    getSuccessJournalMessage = (message, extra) => {\n        const { profit, sold_for, longcode, transaction_id } = extra;\n        switch (message) {\n            case log_types.LOAD_BLOCK: {\n                return localize('Blocks are loaded successfully');\n            }\n            case log_types.NOT_OFFERED: {\n                return localize('Resale of this contract is not offered.');\n            }\n            case log_types.PURCHASE: {\n                return localize('Bought: {{longcode}} (ID: {{transaction_id}})', { longcode, transaction_id });\n            }\n            case log_types.SELL: {\n                return localize('Sold for: {{sold_for}}', { sold_for });\n            }\n            case log_types.PROFIT: {\n                return localize('Profit amount: {{profit}}', { profit });\n            }\n            case log_types.LOST: {\n                return localize('Loss amount: {{profit}}', { profit });\n            }\n            case log_types.WELCOME_BACK: {\n                return localize('Welcome back! Your messages have been restored.');\n            }\n            default:\n                return null;\n        }\n    };\n\n    onClickDownloadTransaction = () => {\n        // Transaction Array\n        const transaction_csv_titles = [\n            [\n                localize('Market'),\n                localize('Reference ID (buy)'),\n                localize('Reference ID (sell)'),\n                localize('Barrier'),\n                localize('Start Time'),\n                localize('Entry Spot'),\n                localize('Entry Spot Time'),\n                localize('Exit Spot'),\n                localize('Exit Spot Time'),\n                localize('Buy Price'),\n                localize('Profit/Loss'),\n            ],\n        ];\n        this.root_store.transactions.transactions.forEach(item =>\n            transaction_csv_titles.push([\n                item.data.display_name,\n                item.data.transaction_ids.buy,\n                item.data.transaction_ids.sell,\n                item.data.barrier,\n                item.data.date_start,\n                item.data.entry_tick,\n                item.data.entry_tick_time,\n                item.data.exit_tick,\n                item.data.exit_tick_time,\n                item.data.buy_price,\n                item.data.profit,\n            ])\n        );\n\n        // Push Transaction array to CSV\n        const transaction_csv_content = `data:text/csv;charset=utf-8, ${transaction_csv_titles\n            .map(e => e.join(','))\n            .join('\\n')}`;\n        const transaction_encoded_uri = encodeURI(transaction_csv_content);\n        const transaction_link = document.createElement('a');\n        transaction_link.setAttribute('href', transaction_encoded_uri);\n        transaction_link.setAttribute('download', localize('Transactions.csv'));\n        document.body.appendChild(transaction_link);\n\n        transaction_link.click();\n\n        transaction_link.parentNode.removeChild(transaction_link);\n    };\n\n    onClickDownloadJournal = () => {\n        // Journal Array\n        const journal_csv_titles = [[localize('Date'), localize('Time'), localize('Message')]];\n\n        const journal_messages = this.root_store.journal.filtered_messages;\n\n        journal_messages.map(item => {\n            let array_message;\n            if (item.message_type !== 'success') {\n                array_message = JSON.stringify(item.message);\n            } else {\n                array_message = this.getSuccessJournalMessage(item.message.toString(), item.extra);\n            }\n            const arr = [item.date, item.time, array_message.replace('&#x2F;', '/')];\n            journal_csv_titles.push(arr);\n        });\n\n        // Push Journal array to CSV\n        const journal_csv_content = `data:text/csv;charset=utf-8, ${journal_csv_titles\n            .map(e => e.join(','))\n            .join('\\n')}`;\n        const journal_encoded_uri = encodeURI(journal_csv_content);\n        const journal_link = document.createElement('a');\n        journal_link.setAttribute('href', journal_encoded_uri);\n        journal_link.setAttribute('download', localize('Journal.csv'));\n        document.body.appendChild(journal_link);\n\n        journal_link.click();\n\n        journal_link.parentNode.removeChild(journal_link);\n    };\n}\n","export const help_content_types = {\n    TEXT: 'text',\n    VIDEO: 'video',\n    IMAGE: 'image',\n    BLOCK: 'block',\n    EXAMPLE: 'example',\n};\n\nconst { TEXT, IMAGE, BLOCK, EXAMPLE } = help_content_types;\n\nexport const help_content_config = public_path => {\n    __webpack_public_path__ = public_path; // eslint-disable-line no-global-assign\n    return {\n        //= ================= Functions ==================\n        procedures_ifreturn: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'if-return' },\n        ],\n        //= ================= Math ==================\n        math_arithmetic: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        math_single: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        math_constrain: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'constrain' },\n        ],\n        // math_number: [\n        //     { type: VIDEO, url: 'https://www.youtube.com/embed/Bb0HnaYNUx4' },\n        //     { type: TEXT },\n        //     { type: IMAGE, url: 'https://d2.alternativeto.net/dist/s/scratch_830736_full.png?format=jpg&width=1600&height=1600&mode=min&upscale=false' },\n        //     { type: VIDEO, url: 'https://www.youtube.com/embed/mi18spqE7R4?controls=0' },\n        //     { type: BLOCK },\n        //     { type: TEXT },\n        //     { type: IMAGE, url: 'https://d2.alternativeto.net/dist/s/scratch_830736_full.png?format=jpg&width=1600&height=1600&mode=min&upscale=false' },\n        // ],\n        //= ================= Text ==================\n        text_print: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }],\n        text_prompt_ext: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }],\n        //= ================= Tick analysis ==================\n        tick_analysis: [{ type: TEXT }, { type: BLOCK }],\n        read_details: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        last_digit: [{ type: TEXT }, { type: BLOCK }],\n        read_ohlc: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'in_candle_list_read' },\n        ],\n        read_ohlc_obj: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'read_candle_value' },\n        ],\n        check_direction: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }, { type: TEXT }, { type: TEXT }],\n        get_ohlc: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'get_candle' },\n            { type: TEXT },\n        ],\n        ohlc: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }, { type: EXAMPLE, example_id: 'candle_list_1' }],\n        ohlc_values: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }, { type: EXAMPLE, example_id: 'candle_list' }],\n        is_candle_black: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${__webpack_public_path__}media/is_candle_black.jpeg` },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${__webpack_public_path__}media/is_candle_black_1.jpeg` },\n            { type: TEXT },\n        ],\n        ohlc_values_in_list: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'candle_list_1' },\n        ],\n        //= ================= Variables ==================\n        variables_gets: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        variables_set: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${__webpack_public_path__}media/create_variable.jpg` },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${__webpack_public_path__}media/set_variable.png` },\n        ],\n        // =============== Time blocks ============\n        epoch: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'epoch' },\n        ],\n        todatetime: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'todatetime' },\n            { type: TEXT },\n        ],\n        totimestamp: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'totimestamp' },\n            { type: TEXT },\n        ],\n        // =============== Notifications blocks ============\n        notify_telegram: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'notify_telegram' },\n        ],\n        // =============== Misc blocks ============\n        console: [{ type: TEXT }, { type: TEXT }, { type: TEXT }, { type: TEXT }, { type: TEXT }, { type: TEXT }],\n        balance: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        // =============== Indicators blocks ============\n        sma_statement: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: IMAGE, width: '60%', url: `${__webpack_public_path__}media/sma_formula.png` },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${__webpack_public_path__}media/sma_chart_1.png` },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${__webpack_public_path__}media/sma_chart_2.png` },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'sma_block_example' },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'sma_block_example_1' },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'sma_array' },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${__webpack_public_path__}media/sma_array_explanation.jpeg` },\n        ],\n        // =============== Root blocks ============\n        trade_definition: [\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: BLOCK },\n        ],\n        trade_definition_tradeoptions: [{ type: TEXT }, { type: BLOCK }],\n        trade_definition_multiplier: [{ type: TEXT }, { type: TEXT }, { type: TEXT }, { type: TEXT }],\n        before_purchase: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }],\n        during_purchase: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'sell_available' },\n        ],\n        sell_at_market: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'sell_available' },\n        ],\n        after_purchase: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }],\n        trade_again: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }, { type: EXAMPLE, example_id: 'trade_again' }],\n        // =============== Contract ============\n        contract_check_result: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'check_result' },\n        ],\n        sell_price: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }, { type: EXAMPLE, example_id: 'sell_pl' }],\n        // =============== Logic ============\n        controls_if: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'controls_if' },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'compare_logic' },\n            { type: EXAMPLE, example_id: 'compare_logic_1' },\n        ],\n        logic_operation: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: IMAGE, width: '40%', url: `${__webpack_public_path__}media/logic.png` },\n        ],\n        // =============== Loops ============\n        controls_whileUntil: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'repeat_while' },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'repeat_until' },\n        ],\n        controls_for: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'controls_for' },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        controls_forEach: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'controls_forEach' },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        controls_flow_statements: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'break_out' },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'continue' },\n        ],\n    };\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block is mandatory. Here is where you can decide if your bot should continue trading. Only one copy of this block is allowed.'\n        ),\n        localize(\n            'This block is commonly used to adjust the parameters of your next trade and to implement stop loss/take profit logic.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block returns current account balance.'),\n        localize(\n            'The only input parameter determines how block output is going to be formatted. In case if the input parameter is \"string\" then the account currency will be added.'\n        ),\n        localize('Example output of the below example will be:'),\n        localize('1. for \"string\": 1325.68 USD'),\n        localize('2. for \"number\": 1325.68'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block is mandatory. Only one copy of this block is allowed. It is added to the canvas by default when you open Deriv Bot.'\n        ),\n        localize(\n            'After defining trade parameters and trade options, you may want to instruct your bot to purchase contracts when specific conditions are met. To do that you can use conditional blocks and indicators blocks to help your bot to make decisions.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block is used to determine if the market price moves in the selected direction or not. It gives you a value of \"True\" or \"False\".'\n        ),\n        localize('Examples:'),\n        localize(\n            '1. If the selected direction is \"Rise\", and the previous tick value is less than the current tick value, the output will be \"True\". Otherwise, the output will be an empty string.'\n        ),\n        localize(\n            '2. If the selected direction is \"Fall\", and the previous tick value is more than the current tick value, the output will be \"True\". Otherwise, the output will be an empty string.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block displays messages in the developers console with an input that can be either a string of text, a number, boolean, or an array of data.'\n        ),\n        localize('There are 4 message types:'),\n        localize(\"1. 'Log' displays a regular message.\"),\n        localize(\"2. 'Warn' displays a message in yellow to highlight something that needs attention.\"),\n        localize(\"3. 'Error' displays a message in red to highlight something that needs to be resolved immediately.\"),\n        localize(\"4. 'Table' takes an array of data, such as a list of candles, and displays it in a table format.\"),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'You can check the result of the last trade with this block. It can only be placed within the \"Restart trading conditions\" root block.'\n        ),\n        localize(\n            'If \"Win\" is selected, it will return \"True\" if your last trade was successful. Otherwise, it will return an empty string.'\n        ),\n        localize(\n            'If \"Loss\" is selected, it will return \"True\" if your last trade was unsuccessful. Otherwise, it will return an empty string.'\n        ),\n        localize('Example:'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block is used to either terminate or continue a loop, and can be placed anywhere within a loop block.'\n        ),\n        localize('Examples:'),\n        localize(\n            '1. In the below example the loop is terminated in case \"x\" is \"False\" even though only one iteration is complete'\n        ),\n        localize(\n            '2. In the below example the loop jumps to the next iteration without executing below block in case if \"x\" is \"False\"'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block uses the variable \"i\" to control the iterations. With each iteration, the value of \"i\" is determined by the items in a given list.'\n        ),\n        localize('Example:'),\n        localize(\n            '\"i\" starts with the value of 1, and it will be increased by 2 at every iteration. The loop will repeat until \"i\" reaches the value of 12, and then the loop is terminated.'\n        ),\n        localize('You can use \"i\" inside the loop, for example to access list items'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block uses the variable \"i\" to control the iterations. With each iteration, the value of \"i\" is determined by the items in a given list.'\n        ),\n        localize('Example:'),\n        localize(\n            'In this example, the loop will repeat three times, as that is the number of items in the given list. During each iteration, the variable \"i\" will be assigned a value from the list. '\n        ),\n        localize('Please note that changing the value of \"i\" won\\'t change the value of the original item in the list'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block evaluates a statement and will perform an action only when the statement is true.'),\n        localize('Click the plus icon to extend the functionality of this block.'),\n        localize('You can also use \"Compare\" and \"Logic operation\" blocks to make test variables.'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block repeats instructions as long as a given condition is true.'),\n        localize('Examples:'),\n        localize(\n            '1. In the example below, the instructions are repeated as long as the value of x is less than or equal to 10. Once the value of x exceeds 10, the loop is terminated.'\n        ),\n        localize(\n            '2. In this example, the instructions are repeated as long as the value of x is greater than or equal to 10. Once the value of x drops below 10, the loop is terminated.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'Here is where you can decide to sell your contract before it expires. Only one copy of this block is allowed.'\n        ),\n        localize('Example:'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('\"Seconds Since Epoch\" block returns the number of seconds since January 1st, 1970.'),\n        localize('Example:'),\n        localize('1551661986 seconds since Jan 01 1970 (UTC) translates to 03/04/2019 @ 1:13am (UTC).'),\n        localize('You might need it when you want to repeat an actions after certain amount of time.'),\n        localize('The example below restarts trading after 30 or more seconds after 1 minute candle was started.'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block gives you a specific candle from within the selected time interval.'),\n        localize('In this example, the open price of a candle is assigned to the variable \"candle_open_price\".'),\n        localize(\n            'In the above example it is assumed that variable candle_open_price is processed somewhere within other blocks.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block returns \"True\" if the last candle is black. It can be placed anywhere on the canvas except within the Trade parameters root block.'\n        ),\n        localize(\n            'The term \"candle\" refers to each bar on the candlestick chart. Each candle represents four market prices for the selected time interval:'\n        ),\n        localize('Each candlestick on the chart represents 4 market prices for the selected time interval:'),\n        localize('- Open price: the opening price'),\n        localize('- High price: the highest price'),\n        localize('- Low price: the lowest price'),\n        localize('- Close price: the closing price'),\n        localize(\n            'A black (or red) candle indicates that the open price is higher than the close price. This represents a downward movement of the market price.'\n        ),\n        localize(\n            'A white (or green) candle indicates that the open price is lower than the close price. This represents an upward movement of the market price.'\n        ),\n        localize('The time interval for each candle can be set from one minute to one day.'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block gives you the last digit of the latest tick value of the selected market. If the latest tick value is 1410.90, this block will return 0. Its useful for digit-based contracts such as Even/Odd, Matches/Differs, or Higher/Lower.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block performs the \"AND\" or the \"OR\" logic operation with the given values.'),\n        localize(\n            'In case if the \"AND\" operation is selected, the block returns \"True\" only if both given values are \"True\"'\n        ),\n        localize(\n            'In case if the \"OR\" operation is selected, the block returns \"True\" in case if one or both given values are \"True\"'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block performs arithmetic operations between two numbers.'),\n        localize('Available operations:'),\n        localize('- Addition'),\n        localize('- Subtraction'),\n        localize('- Multiplication'),\n        localize('- Division'),\n        localize('- Raise the first number to the power of the second number'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block constrains a given number within a set range.'),\n        localize(\n            'In case if the given number is less than the lower boundary of the range, the block returns the lower boundary value. Similarly, if the given number is greater than the higher boundary, the block will return the higher boundary value. In case if the given value is between boundaries, the block will return the given value unchanged.'\n        ),\n        localize(\n            'In the below example the block returns the value of 10 as the given value (5) is less than the lower boundary (10)'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block performs the following operations to a given number'),\n        localize('Available operations are:'),\n        localize('- Square root'),\n        localize('- Absolute'),\n        localize('- Negation'),\n        localize('- Natural log'),\n        localize('- Eulers number (2.71) to the power of a given number'),\n        localize('- 10 to the power of a given number'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block sends a message to a Telegram channel. You will need to create your own Telegram bot to use this block.'\n        ),\n        localize('Heres how:'),\n        localize(\n            '1. Create a Telegram bot and get your Telegram API token. Read more on how to create bots in Telegram here: https://core.telegram.org/bots#6-botfather'\n        ),\n        localize(\n            '2. Start a chat with your newly created Telegram bot and make sure to send it some messages before proceeding to the next step. (e.g. Hello Bot!)'\n        ),\n        localize(\n            '3. Get the chat ID using the Telegram REST API (read more: https://core.telegram.org/bots/api#getupdates)'\n        ),\n        localize(\n            '- Visit the following URL, make sure to replace <access_token> with the Telegram API token you created in Step 1: https://api.telegram.org/bot<access_token>/getUpdates'\n        ),\n        localize('- Find the chat ID property in the response, and copy the value of the id property'),\n        localize(\n            '4. Come back to Deriv Bot and add the Notify Telegram block to the workspace. Paste the Telegram API token and chat ID into the block fields accordingly.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block gives you a list of candles within a selected time interval.'),\n        localize(\n            'In this example, this block is used with another block to get the open prices from a list of candles. The open prices are then assigned to the variable called \"cl\".'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block gives you the selected candle value from a list of candles within the selected time interval. You can choose from open price, close price, high price, low price, and open time.'\n        ),\n        localize(\n            'In this example, the open prices from a list of candles are assigned to a variable called \"candle_list\".'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block gives you the selected candle value from a list of candles. You can choose from open price, close price, high price, low price, and open time.'\n        ),\n        localize('This block requires a list of candles as an input parameter.'),\n        localize('In this example, the open prices from a list of candles are assigned to a variable called \"cl\".'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('Used within a function block, this block returns a value when a specific condition is true.'),\n        localize('Example:'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block gives you information about your last contract.'),\n        localize('You can choose to see one of the following:'),\n        localize('- Deal reference ID: the reference ID of the contract'),\n        localize('- Purchase price: the purchase price (stake) of the contract'),\n        localize('- Payout: the payout of the contract'),\n        localize('- Profit: the profit youve earned'),\n        localize('- Contract type: the name of the contract type such as Rise, Fall, Touch, No Touch, et.'),\n        localize('- Entry time: the starting time of the contract'),\n        localize('- Entry value: the value of the first tick of the contract'),\n        localize('- Exit time: the contract expiration time'),\n        localize('- Exit value: the value of the last tick of the contract'),\n        localize(\n            '- Barrier: the barrier value of the contract (applicable to barrier-based trade types such as stays in/out, touch/no touch, etc.)'\n        ),\n        localize('- Result: the result of the last contract: \"win\" or \"loss\"'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block gives you the specified candle value for a selected time interval. You can choose which value you want:'\n        ),\n        localize('- Open: the opening price'),\n        localize('- High: the highest price'),\n        localize('- Low: the lowest price'),\n        localize('- Close: the closing price'),\n        localize('- Open time: the opening time stamp'),\n        localize(\n            'In the example below, the opening price is selected, which is then assigned to a variable called \"op\".'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block gives you the selected candle value such as open price, close price, high price, low price, and open time. It requires a candle as an input parameter.'\n        ),\n        localize('In the example below, the open price is assigned to the variable \"op\".'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'Use this block to sell your contract at the market price. Selling your contract is optional. You may choose to sell if the market trend is unfavourable.'\n        ),\n        localize('Example:'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block gives you the potential profit or loss if you decide to sell your contract. It can only be used within the \"Sell conditions\" root block.'\n        ),\n        localize(\n            'In the example below, the contract will only be sold if the potential profit or loss is more than the stake.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'SMA adds the market price in a list of ticks or candles for a number of time periods, and divides the sum by that number of time periods.'\n        ),\n        localize('The formula for SMA is:'),\n        localize('where n is the number of periods.'),\n        '',\n        localize('What SMA tells you'),\n        localize(\n            'SMA serves as an indicator of the trend. If the SMA points up then the market price is increasing and vice versa. The larger the period number, the smoother SMA line is.'\n        ),\n        localize(\n            'In this example, each point of the SMA line is an arithmetic average of close prices for the last 10 days.'\n        ),\n        localize(\n            'In this example, each point of the SMA line is an arithmetic average of close prices for the last 50 days.'\n        ),\n        '',\n        localize('How to use the SMA block'),\n        localize('Input list accepts a list of ticks or candles, while period is the specified time period.'),\n        localize('Example:'),\n        localize('This will display the SMA for the specified period, using a candle list.'),\n        localize('SMA places equal weight to the entire distribution of values.'),\n        localize('This is the same as the above example, using a tick list.'),\n        localize(\n            'You may compare SMA values calculated on every bot run to identify the market trend direction. Alternatively, you may also use a variation of the SMA block, the Simple Moving Average Array block. '\n        ),\n        localize('This block returns the entire SMA line, containing a list of all values for a given period.'),\n        localize(\n            'If a period of 10 is entered, the Simple Moving Average Array block will return a list of SMA values calculated based on period of 10.'\n        ),\n        localize('The below image illustrates how Simple Moving Average Array block works:'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block displays a dialog box with a customised message. When the dialog box is displayed, your strategy is paused and will only resume after you click \"OK\".'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block displays a dialog box that uses a customised message to prompt for an input. The input can be either a string of text or a number and can be assigned to a variable. When the dialog box is displayed, your strategy is paused and will only resume after you enter a response and click \"OK\".'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'Any blocks placed within this block will be executed at every tick. If the default candle interval is set to 1 minute in the Trade Parameters root block, the instructions in this block will be executed once every minute. Place this block outside of any root block.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block converts the number of seconds since the Unix Epoch to a date and time format such as 2019-08-01 00:00:00.'\n        ),\n        localize('Example:'),\n        localize('In this example, the date and time will be displayed in a green notification box.'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block converts the date and time to the number of seconds since the Unix Epoch (1970-01-01 00:00:00).'\n        ),\n        localize('Example:'),\n        localize('In this example, a Rise contract will be purchased at midnight on 1 August 2019.'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block will transfer the control back to the Purchase conditions block, enabling you to purchase another contract without manually stopping and restarting your bot.'\n        ),\n        localize('Example:'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            \"This block is mandatory. It's added to your strategy by default when you create new strategy. You can not add more than one copy of this block to the canvas.\"\n        ),\n        localize('1. Market'),\n        localize('Select your desired market and asset type. For example, Forex > Major pairs > AUD/JPY'),\n        localize('2. Trade Type'),\n        localize('Select your desired trade type. For example, Up/Down > Rise/Fall'),\n        localize('3. Contract Type'),\n        localize(\n            'Choose what type of contract you want to trade. For example, for the Rise/Fall trade type you can choose one of three options: Rise, Fall, or Both. Selected option will determine available options for the Purchase block.'\n        ),\n        localize('4. Default Candle Interval'),\n        localize('Sets the default time interval for blocks that read list of candles.'),\n        localize('5. Restart buy/sell on error'),\n        localize('Restarts the bot when an error is encountered.'),\n        localize('6. Restart last trade on error'),\n        localize('Repeats the previous trade when an error is encountered.'),\n        localize('7. Run Once at Start'),\n        localize('Place blocks here to perform tasks once when your bot starts running.'),\n        localize('8. Trade Options'),\n        localize('The desired duration, stake, prediction, and/or barrier(s) for the contract is defined here.'),\n    ],\n};\n","import React from 'react';\nimport { StaticUrl } from '@deriv/components';\nimport { Localize, localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('Use this block when you want to use multipliers as your trade type.'),\n        localize('Click the multiplier drop-down menu and choose the multiplier value you want to trade with.'),\n        localize('Your potential profit will be multiplied by the multiplier value youve chosen.'),\n        <Localize\n            key={0}\n            i18n_default_text='To learn more about multipliers, please go to the <0>Multipliers</0> page.'\n            components={[<StaticUrl key={0} className='link' href='trade-types/multiplier' />]}\n        />,\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block is used to define trade options within the Trade parameters root block. Some options are only applicable for certain trade types. Parameters such as duration and stake are common among most trade types. Prediction is used for trade types such as Digits, while barrier offsets are for trade types that involve barriers such as Touch/No Touch, Ends In/Out, etc.'\n        ),\n        localize('Example:'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\"This block assigns a given value to a variable, creating the variable if it doesn't already exist.\"),\n        localize(\n            'A variable is among the most important and powerful components in creating a bot. It is a way to store information, either as text or numbers. The information stored as a variable can be used and changed according to the given instructions. Variables can be given any name, but usually they are given useful, symbolic names so that it is easier to call them during the execution of instructions.'\n        ),\n        localize('Creating a variable'),\n        localize('1. From the block library, enter a name for the new variable and click Create.'),\n        localize('2. The new variable will appear as a block under Set variable.'),\n    ],\n};\n","import { action, makeObservable, observable, runInAction } from 'mobx';\nimport { config } from '@deriv/bot-skeleton';\nimport { help_content_config } from 'Utils/help-content/help-content.config';\nimport * as help_strings from 'Utils/help-content/help-strings';\n\nexport default class FlyoutHelpStore {\n    constructor(root_store) {\n        makeObservable(this, {\n            block_node: observable,\n            block_type: observable,\n            examples: observable,\n            help_string: observable,\n            title: observable,\n            should_next_disable: observable,\n            should_previous_disable: observable,\n            active_helper: observable,\n            setHelpContent: action.bound,\n            setActiveHelper: action.bound,\n            onBackClick: action.bound,\n            onSequenceClick: action.bound,\n            initFlyoutHelp: action.bound,\n            updateSequenceButtons: action.bound,\n            setExamples: action.bound,\n            getHelpContent: action.bound,\n            getFilledBlocksIndex: action.bound,\n            getNextHelpContentIndex: action.bound,\n        });\n\n        this.root_store = root_store;\n    }\n\n    options = {\n        css: false,\n        media: `${__webpack_public_path__}media/`,\n        move: { scrollbars: false, drag: true, wheel: false },\n        zoom: { startScale: config.workspaces.flyoutWorkspacesStartScale },\n        sounds: false,\n    };\n\n    block_node = null;\n    block_type = '';\n    examples = [];\n    help_string = {};\n    title = '';\n    should_next_disable = false;\n    should_previous_disable = false;\n    active_helper = '';\n\n    setHelpContent = async block_node => {\n        const block_type = block_node.getAttribute('type');\n        const title = Blockly.Blocks[block_type].meta().display_name;\n        if (block_type !== '') {\n            this.active_helper = block_type;\n        }\n\n        const { flyout } = this.root_store;\n        this.setExamples(block_type);\n        const example_blocks = this.examples.map(example => example.childNodes[0]);\n        setTimeout(() => flyout.setFlyoutWidth([block_node, ...example_blocks]), 50);\n\n        runInAction(() => {\n            flyout.is_help_content = true;\n            this.block_node = block_node;\n            this.block_type = block_type;\n            this.title = title;\n            this.help_string = help_strings[block_type];\n        });\n\n        if (!flyout.is_search_flyout) {\n            this.updateSequenceButtons();\n        }\n    };\n\n    getHelpContent = async block_node => {\n        let block_content;\n\n        if (block_node) {\n            const target_blocks = this.xml_list_group[block_node];\n            const block_type = target_blocks[0].getAttribute('type');\n            block_content = help_strings[block_type];\n        }\n        return block_content;\n    };\n\n    getFilledBlocksIndex = async blocks_type => {\n        const blocks_content = await Promise.all(blocks_type.map(block => this.getHelpContent(block)));\n        return blocks_content.map((key, index) => (key ? index : null)).filter(value => value !== null);\n    };\n\n    getNextHelpContentIndex = async is_last => {\n        const filled_blocks_index = await this.getFilledBlocksIndex(Object.keys(this.xml_list_group));\n        return is_last ? filled_blocks_index[filled_blocks_index.length - 1] : filled_blocks_index[0];\n    };\n\n    setActiveHelper(active_helper) {\n        this.active_helper = active_helper;\n    }\n\n    onBackClick() {\n        const { toolbox, flyout } = this.root_store;\n\n        if (flyout.is_search_flyout) {\n            const search = document.getElementsByName('search')[0].value;\n            toolbox.onSearch({ search });\n        } else {\n            flyout.refreshCategory();\n        }\n    }\n\n    async onSequenceClick(should_go_next) {\n        const current_block = Array.from(this.xml_list).find(xml => xml.getAttribute('type') === this.block_type);\n\n        let current_block_index;\n\n        Object.keys(this.xml_list_group).forEach((key, index) => {\n            if (current_block.getAttribute('type') === key) {\n                current_block_index = index;\n            }\n        });\n\n        const getNextBlock = async (xml, current_index, is_next) => {\n            const next_index = current_index + (is_next ? 1 : -1);\n            const next_blocks_type = Object.keys(xml).filter((key, index) =>\n                is_next ? next_index <= index : next_index >= index\n            );\n            const next_filled_block = await this.getFilledBlocksIndex(next_blocks_type);\n\n            const next_filled_block_index = is_next\n                ? next_filled_block[0]\n                : next_filled_block[next_filled_block.length - 1];\n            const next_block_type = next_blocks_type[next_filled_block_index];\n\n            if (!next_block_type) {\n                return false;\n            }\n\n            try {\n                await import(/* webpackChunkName: `[request]` */ '@deriv/bot-skeleton');\n                return next_block_type;\n            } catch (e) {\n                return getNextBlock(xml, next_index, is_next);\n            }\n        };\n\n        const block_type = await getNextBlock(this.xml_list_group, current_block_index, should_go_next);\n        if (block_type) {\n            const target_blocks = this.xml_list_group[block_type];\n            this.setHelpContent(target_blocks[0]);\n        }\n    }\n\n    initFlyoutHelp(block_node) {\n        const { flyout, toolbox } = this.root_store;\n        this.xml_list = toolbox.getCategoryContents(flyout.selected_category);\n        this.xml_list_group = this.groupBy(this.xml_list, true);\n\n        this.setHelpContent(block_node);\n    }\n\n    async updateSequenceButtons() {\n        const current_block = Array.from(this.xml_list).find(xml => xml.getAttribute('type') === this.block_type);\n        const current_index = Object.keys(this.xml_list_group).findIndex(\n            key => current_block.getAttribute('type') === key\n        );\n\n        const last_filled_content_index = await this.getNextHelpContentIndex(true);\n        const first_filled_content_index = await this.getNextHelpContentIndex(false);\n\n        runInAction(() => {\n            this.should_previous_disable = current_index === 0 || current_index === first_filled_content_index;\n            this.should_next_disable =\n                current_index === Object.keys(this.xml_list_group).length - 1 ||\n                current_index === last_filled_content_index;\n        });\n    }\n\n    // eslint-disable-next-line\n    groupBy(nodes, should_include_block_only = false) {\n        return Array.from(nodes).reduce((block_group, node) => {\n            const type = node.getAttribute('type');\n\n            if (should_include_block_only && type === null) {\n                return block_group;\n            }\n\n            if (!block_group[type]) {\n                block_group[type] = [];\n            }\n\n            if (!should_include_block_only || (should_include_block_only && type !== null)) {\n                block_group[type].push(node);\n            }\n\n            return block_group;\n        }, {});\n    }\n\n    setExamples(block_type) {\n        const { toolbox } = this.root_store;\n        const all_examples = [...toolbox.toolbox_examples.childNodes];\n        const help_content = help_content_config(__webpack_public_path__)[block_type];\n        const examples_ids = help_content.filter(el => el.type === 'example').map(example => example.example_id);\n        const examples = examples_ids.map(id => all_examples.find(example => example.id === id));\n\n        this.examples = examples;\n    }\n}\n","import { reaction } from 'mobx';\n\nconst GTM = (() => {\n    let root_store;\n\n    const getLoginId = () => {\n        return root_store.core.client.loginid;\n    };\n\n    const getServerTime = () => {\n        return root_store?.core?.server_time?.unix() || Date.now();\n    };\n\n    const pushDataLayer = data => {\n        return root_store?.core?.gtm?.pushDataLayer(data);\n    };\n\n    const init = _root_store => {\n        try {\n            root_store = _root_store;\n\n            const { run_panel, transactions } = root_store;\n            const run_statistics = run_panel.statistics;\n\n            reaction(\n                () => run_panel.is_running,\n                () => run_panel.is_running && onRunBot(run_statistics)\n            );\n\n            reaction(\n                () => transactions.contracts,\n                () => onTransactionClosed(transactions.contracts)\n            );\n        } catch (error) {\n            console.warn('Error initializing GTM reactions ', error); // eslint-disable-line no-console\n        }\n    };\n\n    const onRunBot = statistics => {\n        try {\n            const run_id = `${getLoginId()}-${getServerTime()}`;\n            const counters = `tr:${statistics.number_of_runs},\\\n                ts:${statistics.total_stake},\\\n                py:${statistics.total_payout},\\\n                lc:${statistics.lost_contracts},\\\n                wc:${statistics.won_contracts},\\\n                pr:${statistics.total_profit}`;\n\n            const data = {\n                counters: counters.replace(/\\s/g, ''),\n                event: 'dbot_run',\n                run_id,\n            };\n            pushDataLayer(data);\n        } catch (error) {\n            console.warn('Error pushing run data to datalayer', error); // eslint-disable-line no-console\n        }\n    };\n\n    const onTransactionClosed = contracts => {\n        try {\n            const contract = contracts.length > 0 && contracts[0];\n            if (contract && contract.is_completed) {\n                const data = {\n                    event: 'dbot_run_transaction',\n                    reference_id: contract.refrence_id,\n                };\n                pushDataLayer(data);\n            }\n        } catch (error) {\n            console.warn('Error pushing transaction to datalayer', error); // eslint-disable-line no-console\n        }\n    };\n\n    return {\n        init,\n        pushDataLayer,\n    };\n})();\n\nexport default GTM;\n","/* eslint-disable no-underscore-dangle */\nimport { action, computed, makeObservable, observable } from 'mobx';\nimport { config } from '@deriv/bot-skeleton';\nimport GTM from 'Utils/gtm';\n\nexport default class FlyoutStore {\n    block_listeners = [];\n    block_workspaces = [];\n    flyout_min_width = 440;\n    options = {\n        css: false,\n        media: `${__webpack_public_path__}media/`,\n        move: { scrollbars: false, drag: true, wheel: false },\n        zoom: { startScale: config.workspaces.flyoutWorkspacesStartScale },\n        sounds: false,\n    };\n\n    is_help_content = false;\n    flyout_content = [];\n    flyout_width = this.flyout_min_width;\n    is_visible = false;\n    is_search_flyout = false;\n    is_loading = false;\n    search_term = '';\n    selected_category = null;\n\n    constructor(root_store) {\n        makeObservable(this, {\n            is_help_content: observable,\n            flyout_content: observable,\n            flyout_width: observable,\n            is_visible: observable,\n            is_search_flyout: observable,\n            is_loading: observable,\n            search_term: observable,\n            selected_category: observable,\n            onMount: action.bound,\n            onUnmount: action.bound,\n            initFlyout: action.bound,\n            initBlockWorkspace: action.bound,\n            getFlyout: action.bound,\n            setContents: action.bound,\n            setFlyoutWidth: action.bound,\n            setVisibility: action.bound,\n            setIsSearchFlyout: action.bound,\n            setSelectedCategory: action.bound,\n            getSelectedCategory: action.bound,\n            onClickOutsideFlyout: action.bound,\n            refreshCategory: action.bound,\n            variables_blocks_count: computed,\n            first_get_variable_block_index: computed,\n        });\n\n        this.root_store = root_store;\n    }\n\n    onMount() {\n        this.initFlyout();\n        window.addEventListener('click', this.onClickOutsideFlyout);\n    }\n\n    onUnmount() {\n        window.removeEventListener('click', this.onClickOutsideFlyout);\n    }\n\n    initFlyout() {\n        const workspace = Blockly.derivWorkspace;\n        const options = {\n            parentWorkspace: workspace,\n            RTL: workspace.RTL,\n            horizontalLayout: workspace.horizontalLayout,\n        };\n\n        if (workspace.horizontalLayout) {\n            this.flyout = new Blockly.HorizontalFlyout(options);\n        } else {\n            this.flyout = new Blockly.VerticalFlyout(options);\n        }\n\n        this.flyout.targetWorkspace_ = workspace;\n        this.flyout.workspace_.targetWorkspace = workspace;\n\n        // A flyout connected to a workspace doesn't have its own current gesture.\n        this.flyout.workspace_.getGesture = this.flyout.targetWorkspace_.getGesture.bind(this.flyout.targetWorkspace_);\n\n        // Get variables from the main workspace rather than the target workspace.\n        workspace.variableMap_ = this.flyout.targetWorkspace_.getVariableMap();\n\n        this.flyout.workspace_.createPotentialVariableMap();\n\n        workspace.flyout_ = this.flyout;\n    }\n\n    /**\n     * Intialises a workspace unique to the passed block_node\n     * @param {Element} el_block_workspace Element where Blockly.Workspace will be mounted on\n     * @param {Element} block_node DOM of a Blockly.Block\n     * @memberof FlyoutStore\n     */\n    initBlockWorkspace(el_block_workspace, block_node) {\n        const workspace = Blockly.inject(el_block_workspace, this.options);\n\n        workspace.isFlyout = true;\n        workspace.targetWorkspace = Blockly.derivWorkspace;\n\n        const block = Blockly.Xml.domToBlock(block_node, workspace);\n        // Using block.getHeightWidth() here because getDimentions() also calls Blockly.Xml.domToBlock\n        const block_hw = block.getHeightWidth();\n\n        block.isInFlyout = true;\n\n        // Update block workspace widths to accommodate block widths.\n        // addind 1px to highet and then moving the block 1px down to make block top border visible\n        el_block_workspace.style.height = `${Math.ceil(block_hw.height * this.options.zoom.startScale) + 1}px`;\n        el_block_workspace.style.width = `${Math.ceil(block_hw.width * this.options.zoom.startScale) + 1}px`;\n        block.moveBy(1, 1);\n\n        // Use original Blockly flyout functionality to create block on drag.\n        const block_svg_root = block.getSvgRoot();\n\n        this.block_listeners.push(\n            Blockly.bindEventWithChecks_(block_svg_root, 'mousedown', null, event => {\n                GTM.pushDataLayer({\n                    event: 'dbot_drag_block',\n                    block_type: block.type,\n                });\n                this.flyout.blockMouseDown_(block)(event);\n            }),\n            Blockly.bindEvent_(block_svg_root, 'mouseout', block, block.removeSelect),\n            Blockly.bindEvent_(block_svg_root, 'mouseover', block, block.addSelect)\n        );\n\n        this.block_workspaces.push(workspace);\n        Blockly.svgResize(workspace);\n    }\n\n    getFlyout() {\n        return this.flyout;\n    }\n\n    /**\n     * Parses XML contents passed by Blockly.Toolbox. Supports all default\n     * Blockly.Flyout elements i.e. <block>, <label>, <button> in their\n     * original format, e.g. <label text=\"Hello World\" />\n     * @param {Element[]} xml_list list of XML nodes\n     * @memberof FlyoutStore\n     */\n    setContents(xml_list, search_term = '') {\n        const text_limit = 20;\n        const processed_xml = xml_list;\n\n        this.block_listeners.forEach(listener => Blockly.unbindEvent_(listener));\n        this.block_workspaces.forEach(workspace => workspace.dispose());\n        this.block_listeners = [];\n        this.block_workspaces = [];\n\n        this.is_help_content = false;\n        this.search_term = search_term.length > text_limit ? `${search_term.substring(0, text_limit)}...` : search_term;\n        this.flyout_content = xml_list;\n\n        this.setFlyoutWidth(processed_xml);\n        this.setVisibility(true);\n\n        // apparently setFlyoutWidth doesn't calculate blocks dimentions until they're visible\n        // using setTimeout is a workaround to solve this issue\n        setTimeout(() => this.setFlyoutWidth(processed_xml), 50);\n    }\n\n    /**\n     * Walks through xmlList and finds width of the longest block while setting\n     * height and width (in workspace pixels) attributes on each of the block nodes.\n     * @param {Element[]} xmlList\n     * @memberof FlyoutStore\n     */\n    setFlyoutWidth(xmlList) {\n        let longest_block_width = 0;\n\n        xmlList.forEach(node => {\n            const tag_name = node.tagName.toUpperCase();\n\n            if (tag_name === Blockly.Xml.NODE_BLOCK) {\n                const block_hw = Blockly.Block.getDimensions(node);\n\n                node.setAttribute('width', Math.ceil(block_hw.width * this.options.zoom.startScale));\n                node.setAttribute('height', Math.ceil(block_hw.height * this.options.zoom.startScale));\n                longest_block_width = Math.max(\n                    longest_block_width,\n                    Math.ceil(block_hw.width * this.options.zoom.startScale)\n                );\n            }\n        });\n\n        this.flyout_width = Math.max(this.flyout_min_width, longest_block_width + 65);\n    }\n\n    /**\n     * Sets whether the flyout is visible or not.\n     * @param {boolean} is_visible\n     * @memberof FlyoutStore\n     */\n    setVisibility(is_visible) {\n        this.is_visible = is_visible;\n\n        if (!is_visible) {\n            this.setSelectedCategory(null);\n            this.flyout_content = [];\n        }\n    }\n\n    /**\n     * Sets whether the flyout is search or not.\n     * @param {boolean} is_search\n     * @memberof FlyoutStore\n     */\n    setIsSearchFlyout(is_search) {\n        this.is_search_flyout = is_search;\n    }\n\n    setSelectedCategory(selected_category) {\n        this.selected_category = selected_category;\n    }\n\n    getSelectedCategory() {\n        return this.selected_category;\n    }\n\n    /**\n     * Close the flyout on click outside itself or parent toolbox.\n     */\n    onClickOutsideFlyout(event) {\n        if (!this.is_visible || !Blockly.derivWorkspace) {\n            return;\n        }\n\n        const toolbox = document.getElementById('gtm-toolbox');\n        const path = event.path || (event.composedPath && event.composedPath());\n        const is_flyout_click = path.some(el => el.classList && el.classList.contains('flyout'));\n        const is_search_focus = this.root_store.toolbox.is_search_focus;\n        const isToolboxClick = () => toolbox.contains(event.target);\n\n        if (!is_flyout_click && !isToolboxClick() && !is_search_focus) {\n            this.setVisibility(false);\n            this.setSelectedCategory(null);\n        }\n    }\n\n    refreshCategory() {\n        const category = this.getSelectedCategory();\n        const { toolbox } = this.root_store;\n        const flyout_content = toolbox.getCategoryContents(category);\n        this.setContents(flyout_content);\n    }\n\n    get variables_blocks_count() {\n        return this.flyout_content.filter(block => block.getAttribute('type') === 'variables_get').length;\n    }\n\n    get first_get_variable_block_index() {\n        return this.flyout_content.length - this.variables_blocks_count;\n    }\n}\n","export const button_status = Object.freeze({\n    NORMAL: 0,\n    LOADING: 1,\n    COMPLETED: 2,\n});\n","import { action, makeObservable, observable } from 'mobx';\nimport { config, importExternal } from '@deriv/bot-skeleton';\nimport { getLanguage, localize } from '@deriv/translations';\nimport { button_status } from 'Constants/button-status';\n\nexport default class GoogleDriveStore {\n    constructor(root_store) {\n        makeObservable(this, {\n            is_authorised: observable,\n            updateSigninStatus: action.bound,\n            saveFile: action.bound,\n            loadFile: action.bound,\n            setKey: action.bound,\n            initialise: action.bound,\n            signIn: action.bound,\n            signOut: action.bound,\n            getPickerLanguage: action.bound,\n            checkFolderExists: action.bound,\n            createSaveFilePicker: action.bound,\n            createLoadFilePicker: action.bound,\n            showGoogleDriveFilePicker: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.bot_folder_name = `Binary Bot - ${localize('Strategies')}`;\n        this.google_auth = null;\n        this.setKey();\n        this.client = null;\n        this.access_token = localStorage.getItem('google_access_token') || '';\n        importExternal('https://accounts.google.com/gsi/client').then(() => this.initialiseClient());\n        importExternal('https://apis.google.com/js/api.js').then(() => this.initialise());\n    }\n\n    is_authorised = !!localStorage.getItem('google_access_token');\n\n    setKey = () => {\n        const { scope, discovery_docs } = config.gd;\n        this.client_id = process.env.GD_CLIENT_ID;\n        this.app_id = process.env.GD_APP_ID;\n        this.api_key = process.env.GD_API_KEY;\n        this.scope = scope;\n        this.discovery_docs = discovery_docs;\n    };\n\n    initialise = () => {\n        gapi.load('client:picker', () => gapi.client.load(this.discovery_docs));\n    };\n\n    initialiseClient = () => {\n        this.client = google.accounts.oauth2.initTokenClient({\n            client_id: this.client_id,\n            scope: this.scope,\n            callback: response => {\n                this.access_token = response.access_token;\n                this.updateSigninStatus(true);\n                localStorage.setItem('google_access_token', response.access_token);\n            },\n        });\n    };\n\n    updateSigninStatus(is_signed_in) {\n        this.is_authorised = is_signed_in;\n    }\n\n    signIn() {\n        if (!this.is_authorised) {\n            this.client.requestAccessToken();\n        }\n    }\n\n    signOut() {\n        if (this.access_token) {\n            gapi.client.setToken('');\n            google.accounts.oauth2.revoke(this.access_token);\n            localStorage.removeItem('google_access_token');\n            this.access_token = '';\n        }\n        this.updateSigninStatus(false);\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getPickerLanguage() {\n        const language = getLanguage();\n\n        if (language === 'zhTw') {\n            return 'zh-TW';\n        } else if (language === 'zhCn') {\n            return 'zh-CN';\n        }\n        return language;\n    }\n\n    async saveFile(options) {\n        try {\n            await this.signIn();\n            if (this.access_token) gapi.client.setToken({ access_token: this.access_token });\n            await this.checkFolderExists();\n            await this.createSaveFilePicker('application/vnd.google-apps.folder', localize('Select a folder'), options);\n        } catch (err) {\n            if (err.status === 401) {\n                this.signOut();\n            }\n        }\n    }\n\n    async loadFile() {\n        await this.signIn();\n\n        if (this.access_token) gapi.client.setToken({ access_token: this.access_token });\n        try {\n            await gapi.client.drive.files.list({\n                pageSize: 10,\n                fields: 'files(id, name)',\n            });\n        } catch (err) {\n            if (err?.status === 401) {\n                await this.signOut();\n                setTimeout(() => {\n                    const picker = document.getElementsByClassName('picker-dialog-content')[0];\n                    picker.parentNode.removeChild(picker);\n                    const pickerBackground = document.getElementsByClassName('picker-dialog-bg');\n                    if (pickerBackground.length) {\n                        for (let i = 0; i < pickerBackground.length; i++) {\n                            pickerBackground[i].style.display = 'none';\n                        }\n                    }\n                }, 500);\n            }\n        }\n\n        const xml_doc = await this.createLoadFilePicker(\n            'text/xml,application/xml',\n            localize('Select a Deriv Bot Strategy')\n        );\n\n        return xml_doc;\n    }\n\n    async checkFolderExists() {\n        const { files } = gapi.client.drive;\n        const response = await files.list({ q: 'trashed=false' });\n        const mime_type = 'application/vnd.google-apps.folder';\n        const folder = response.result.files.find(file => file.mimeType === mime_type);\n\n        if (folder) {\n            return;\n        }\n\n        await files.create({\n            resource: {\n                name: this.bot_folder_name,\n                mimeType: mime_type,\n                fields: 'id',\n            },\n        });\n    }\n\n    createSaveFilePicker(mime_type, title, options) {\n        const { setButtonStatus } = this.root_store.save_modal;\n        return new Promise(resolve => {\n            const savePickerCallback = data => {\n                if (data.action === google.picker.Action.PICKED) {\n                    const folder_id = data.docs[0].id;\n                    const strategy_file = new Blob([options.content], { type: options.mimeType });\n                    const strategy_file_metadata = JSON.stringify({\n                        name: options.name,\n                        mimeType: options.mimeType,\n                        parents: [folder_id],\n                    });\n\n                    const form_data = new FormData();\n                    form_data.append('metadata', new Blob([strategy_file_metadata], { type: 'application/json' }));\n                    form_data.append('file', strategy_file);\n\n                    const xhr = new XMLHttpRequest();\n                    xhr.responseType = 'json';\n                    xhr.open('POST', 'https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart');\n                    xhr.setRequestHeader('Authorization', `Bearer ${this.access_token}`);\n                    xhr.onload = () => {\n                        if (xhr.status === 401) {\n                            this.signOut();\n                        }\n\n                        setButtonStatus(button_status.NORMAL);\n                        resolve();\n                    };\n                    xhr.send(form_data);\n                } else if (data.action === google.picker.Action.CANCEL) {\n                    setButtonStatus(button_status.NORMAL);\n                }\n            };\n\n            this.showGoogleDriveFilePicker(true, mime_type, title, savePickerCallback);\n        });\n    }\n\n    createLoadFilePicker(mime_type, title) {\n        return new Promise(resolve => {\n            const loadPickerCallback = async data => {\n                if (data.action === google.picker.Action.PICKED) {\n                    const file = data.docs[0];\n                    const file_name = file.name;\n                    const fileId = file.id;\n                    const { files } = gapi.client.drive;\n\n                    const response = await files.get({\n                        alt: 'media',\n                        fileId,\n                        mimeType: 'text/plain',\n                    });\n\n                    resolve({ xml_doc: response.body, file_name });\n                }\n            };\n\n            this.showGoogleDriveFilePicker(false, mime_type, title, loadPickerCallback);\n        });\n    }\n\n    showGoogleDriveFilePicker(is_save, mime_type, title, callback) {\n        const docs_view = new google.picker.DocsView();\n        docs_view.setIncludeFolders(true);\n        docs_view.setMimeTypes(mime_type);\n\n        if (is_save) {\n            docs_view.setSelectFolderEnabled(true);\n        }\n        const picker = new google.picker.PickerBuilder();\n        picker\n            .setOrigin(`${window.location.protocol}//${window.location.host}`)\n            .setTitle(localize(title))\n            .setLocale(this.getPickerLanguage())\n            .setAppId(this.app_id)\n            .setOAuthToken(this.access_token)\n            .addView(docs_view)\n            .setDeveloperKey(this.api_key)\n            .setSize(1051, 650)\n            .setCallback(callback)\n            .build()\n            .setVisible(true);\n    }\n}\n","import { localize } from '@deriv/translations';\nimport { arrayAsMessage, messageWithButton } from '../components';\n\nconst showErrorMessageWithButton = (message, block_id, showErrorMessage, centerAndHighlightBlock) => {\n    showErrorMessage(\n        messageWithButton({\n            unique_id: block_id,\n            type: 'error',\n            message,\n            btn_text: localize('Go to block'),\n            onClick: () => {\n                centerAndHighlightBlock();\n            },\n        })\n    );\n};\n\nexport const isCustomJournalMessage = (\n    { message, block_id, variable_name },\n    showErrorMessage,\n    centerAndHighlightBlock,\n    pushMessage\n) => {\n    // notify undefined variable block\n    if (message === undefined && variable_name != null) {\n        showErrorMessageWithButton(\n            localize(\n                \"Variable '{{variable_name}}' has no value. Please set a value for variable '{{variable_name}}' to notify.\",\n                { variable_name }\n            ),\n            block_id,\n            showErrorMessage,\n            centerAndHighlightBlock\n        );\n        return true;\n    }\n    // notify null variable block\n    if (message === null) {\n        pushMessage('NULL');\n        return true;\n    }\n    // notify NaN variable block\n    if (Object.is(message, NaN)) {\n        showErrorMessageWithButton(\n            localize('Tried to perform an invalid operation.'),\n            block_id,\n            showErrorMessage,\n            centerAndHighlightBlock\n        );\n        return true;\n    }\n    // notify list block\n    if (Array.isArray(message)) {\n        const message_length = message.length;\n        const parsedArray = {\n            header:\n                variable_name !== 'null'\n                    ? `${variable_name}: (${message_length})`\n                    : localize('List: ({{message_length}})', { message_length }),\n            content: parseArray(message),\n        };\n        pushMessage(arrayAsMessage(parsedArray));\n        return true;\n    }\n    // notify boolean results\n    if (typeof message === 'boolean') {\n        pushMessage(message.toString());\n        return true;\n    }\n\n    return false;\n};\n\nconst parseArray = message => {\n    return message.map(item => {\n        return {\n            id: new Date().getTime() * Math.random(),\n            value: item && Array.isArray(item) ? parseArray(item) : item,\n        };\n    });\n};\n","import LZString from 'lz-string';\n\nexport const getStoredItemsByUser = (storage_key, loginid, default_value) => {\n    if (!loginid) {\n        return default_value;\n    }\n\n    const storage = getStoredItemsByKey(storage_key, default_value);\n    return storage[loginid] || default_value;\n};\n\nexport const getStoredItemsByKey = (storage_key, default_value) => {\n    try {\n        const session_storage_item = sessionStorage.getItem(storage_key);\n        const decompressed_item = LZString.decompress(session_storage_item);\n        const stored_items = JSON.parse(decompressed_item);\n\n        if (stored_items) {\n            return stored_items;\n        }\n    } catch (e) {\n        // Do nothing.\n    }\n\n    return default_value;\n};\n\nexport const setStoredItemsByKey = (storage_key, value) => {\n    try {\n        const compressed_value = LZString.compress(JSON.stringify(value));\n        sessionStorage.setItem(storage_key, compressed_value);\n    } catch (e) {\n        // eslint-disable-next-line no-console\n        console.warn('Could not write to storage.');\n    }\n};\n","import { action, computed, makeObservable, observable, reaction, when } from 'mobx';\nimport { log_types, message_types } from '@deriv/bot-skeleton';\nimport { config } from '@deriv/bot-skeleton/src/constants/config';\nimport { formatDate } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { isCustomJournalMessage } from '../utils/journal-notifications';\nimport { getStoredItemsByKey, getStoredItemsByUser, setStoredItemsByKey } from '../utils/session-storage';\nimport { getSetting, storeSetting } from '../utils/settings';\n\nexport default class JournalStore {\n    constructor(root_store, core) {\n        makeObservable(this, {\n            is_filter_dialog_visible: observable,\n            journal_filters: observable.shallow,\n            filters: observable.shallow,\n            unfiltered_messages: observable.shallow,\n            toggleFilterDialog: action.bound,\n            onLogSuccess: action.bound,\n            onError: action.bound,\n            onNotify: action.bound,\n            pushMessage: action.bound,\n            filtered_messages: computed,\n            getServerTime: action.bound,\n            playAudio: action.bound,\n            checked_filters: computed,\n            filterMessage: action.bound,\n            clear: action.bound,\n            welcomeBackUser: action.bound,\n            registerReactions: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n        this.disposeReactionsFn = this.registerReactions();\n\n        // Add a \"Welcome back!\" message when messages were restored.\n        when(\n            () => this.unfiltered_messages,\n            () => {\n                if (this.unfiltered_messages.length > 0) {\n                    this.welcomeBackUser();\n                }\n            }\n        );\n    }\n\n    JOURNAL_CACHE = 'journal_cache';\n\n    is_filter_dialog_visible = false;\n\n    filters = [\n        { id: message_types.ERROR, label: localize('Errors') },\n        { id: message_types.NOTIFY, label: localize('Notifications') },\n        { id: message_types.SUCCESS, label: localize('System') },\n    ];\n\n    journal_filters = getSetting('journal_filter') || this.filters.map(filter => filter.id);\n    unfiltered_messages = getStoredItemsByUser(this.JOURNAL_CACHE, this.core?.client.loginid, []);\n\n    getServerTime() {\n        return this.core?.common.server_time.get();\n    }\n\n    playAudio = sound => {\n        if (sound !== config.lists.NOTIFICATION_SOUND[0][1]) {\n            const audio = document.getElementById(sound);\n            audio.play();\n        }\n    };\n\n    toggleFilterDialog() {\n        this.is_filter_dialog_visible = !this.is_filter_dialog_visible;\n    }\n\n    onLogSuccess(message) {\n        const { log_type, extra } = message;\n        this.pushMessage(log_type, message_types.SUCCESS, '', extra);\n    }\n\n    onError(message) {\n        this.pushMessage(message, message_types.ERROR);\n    }\n\n    onNotify(data) {\n        const { run_panel, dbot } = this.root_store;\n        const { message, className, message_type, sound, block_id, variable_name } = data;\n\n        if (\n            isCustomJournalMessage(\n                { message, block_id, variable_name },\n                run_panel.showErrorMessage,\n                () => dbot.centerAndHighlightBlock(block_id, true),\n                parsed_message => this.pushMessage(parsed_message, message_type || message_types.NOTIFY, className)\n            )\n        ) {\n            this.playAudio(sound);\n            return;\n        }\n        this.pushMessage(message, message_type || message_types.NOTIFY, className);\n        this.playAudio(sound);\n    }\n\n    pushMessage(message, message_type, className, extra = {}) {\n        const date = formatDate(this.getServerTime());\n        const time = formatDate(this.getServerTime(), 'HH:mm:ss [GMT]');\n        const unique_id = Blockly.utils.genUid();\n\n        this.unfiltered_messages.unshift({ date, time, message, message_type, className, unique_id, extra });\n        this.unfiltered_messages = this.unfiltered_messages.slice(); // force array update\n    }\n\n    get filtered_messages() {\n        return (\n            this.unfiltered_messages\n                // filter messages based on filtered-checkbox\n                .filter(\n                    message =>\n                        this.journal_filters.length &&\n                        this.journal_filters.some(filter => message.message_type === filter)\n                )\n        );\n    }\n\n    get checked_filters() {\n        return this.journal_filters.filter(filter => filter != null);\n    }\n\n    filterMessage(checked, item_id) {\n        if (checked) {\n            this.journal_filters.push(item_id);\n        } else {\n            this.journal_filters.splice(this.journal_filters.indexOf(item_id), 1);\n        }\n\n        storeSetting('journal_filter', this.journal_filters);\n    }\n\n    clear() {\n        this.unfiltered_messages = this.unfiltered_messages.slice(0, 0);\n    }\n\n    welcomeBackUser() {\n        this.pushMessage(log_types.WELCOME_BACK, message_types.SUCCESS, 'journal__text');\n    }\n\n    registerReactions() {\n        const { client } = this.core;\n\n        // Write journal messages to session storage on each change in unfiltered messages.\n        const disposeWriteJournalMessageListener = reaction(\n            () => this.unfiltered_messages,\n            unfiltered_messages => {\n                const stored_journals = getStoredItemsByKey(this.JOURNAL_CACHE, {});\n\n                stored_journals[client.loginid] = unfiltered_messages.slice(0, 5000).filter(unfiltered_message => {\n                    // Filter out \"Welcome back!\" message. This can be extended.\n                    const is_welcome_back =\n                        unfiltered_message.message_type === message_types.SUCCESS &&\n                        unfiltered_message.message === log_types.WELCOME_BACK;\n\n                    return !is_welcome_back;\n                });\n                setStoredItemsByKey(this.JOURNAL_CACHE, stored_journals);\n            }\n        );\n\n        // Attempt to load cached journal messages on client loginid change.\n        const disposeJournalMessageListener = reaction(\n            () => client.loginid,\n            () => {\n                this.unfiltered_messages = getStoredItemsByUser(this.JOURNAL_CACHE, client.loginid, []);\n\n                if (this.unfiltered_messages.length > 0) {\n                    this.welcomeBackUser();\n                }\n            }\n        );\n\n        return () => {\n            disposeWriteJournalMessageListener();\n            disposeJournalMessageListener();\n        };\n    }\n}\n","import React from 'react';\nimport { action, autorun, computed, makeObservable, observable, reaction } from 'mobx';\nimport {\n    config,\n    getSavedWorkspaces,\n    load,\n    observer as globalObserver,\n    removeExistingWorkspace,\n    save_types,\n    setColors,\n} from '@deriv/bot-skeleton';\nimport { isMobile } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { clearInjectionDiv, tabs_title } from 'Constants/load-modal';\nimport RootStore from './root-store';\n\nexport type TWorkspace = {\n    id: string;\n    xml: string;\n    name: string;\n    timestamp: number;\n    save_type: string;\n};\n\ninterface ILoadModalStore {\n    active_index: number;\n    is_load_modal_open: boolean;\n    is_explanation_expand: boolean;\n    is_open_button_loading: boolean;\n    is_strategy_loaded: boolean;\n    loaded_local_file: boolean | null;\n    recent_strategies: string[];\n    dashboard_strategies: Array<TWorkspace>;\n    selected_strategy_id: string[] | string | undefined;\n    is_strategy_removed: boolean;\n    is_delete_modal_open: boolean;\n    current_workspace_id: string;\n    getSelectedStrategyID: (current_workspace_id: string) => void;\n    refreshStrategies: () => void;\n    refreshStrategiesTheme: () => void;\n    preview_workspace: () => void;\n    handleFileChange: (\n        event: React.MouseEvent | React.FormEvent<HTMLFormElement> | DragEvent,\n        is_body: boolean\n    ) => boolean;\n    loadFileFromLocal: () => void;\n    onActiveIndexChange: () => void;\n    onDriveConnect: () => void;\n    onDriveOpen: () => void;\n    onEntered: () => void;\n    onLoadModalClose: () => void;\n    onToggleDeleteDialog: (is_delete_modal_open: boolean) => void;\n    onZoomInOutClick: (is_zoom_in: string) => void;\n    previewRecentStrategy: (workspace_id: string) => void;\n    setActiveTabIndex: (index: number) => void;\n    setLoadedLocalFile: (loaded_local_file: boolean | null) => void;\n    setRecentStrategies: (recent_strategies: string[]) => void;\n    setSelectedStrategyId: (selected_strategy_id: string[] | undefined) => void;\n    setDashboardStrategies: (strategies: Array<TWorkspace>) => void;\n    toggleExplanationExpand: () => void;\n    toggleLoadModal: () => void;\n    toggleTourLoadModal: (toggle: boolean) => void;\n    readFile: (is_preview: boolean, drop_event: DragEvent, file: File) => void;\n    updateListStrategies: (workspaces: Array<TWorkspace>) => void;\n    getRecentFileIcon: (save_type: { [key: string]: string } | string) => string;\n    getSaveType: (save_type: { [key: string]: string } | string) => string;\n}\n\nexport default class LoadModalStore implements ILoadModalStore {\n    root_store: RootStore;\n\n    constructor(root_store: RootStore) {\n        makeObservable(this, {\n            active_index: observable,\n            is_load_modal_open: observable,\n            is_explanation_expand: observable,\n            is_open_button_loading: observable,\n            is_strategy_loaded: observable,\n            is_delete_modal_open: observable,\n            is_strategy_removed: observable,\n            loaded_local_file: observable,\n            recent_strategies: observable,\n            dashboard_strategies: observable,\n            selected_strategy_id: observable,\n            current_workspace_id: observable,\n            preview_workspace: computed,\n            selected_strategy: computed,\n            tab_name: computed,\n            getSelectedStrategyID: action.bound,\n            refreshStrategies: action.bound,\n            refreshStrategiesTheme: action.bound,\n            handleFileChange: action.bound,\n            loadFileFromRecent: action.bound,\n            loadFileFromLocal: action.bound,\n            onActiveIndexChange: action.bound,\n            onDriveConnect: action.bound,\n            onDriveOpen: action.bound,\n            onEntered: action.bound,\n            onLoadModalClose: action.bound,\n            onZoomInOutClick: action.bound,\n            previewRecentStrategy: action.bound,\n            setActiveTabIndex: action.bound,\n            setLoadedLocalFile: action.bound,\n            setRecentStrategies: action.bound,\n            setSelectedStrategyId: action.bound,\n            toggleExplanationExpand: action.bound,\n            toggleLoadModal: action.bound,\n            toggleTourLoadModal: action.bound,\n            readFile: action.bound,\n            setDashboardStrategies: action.bound,\n            updateListStrategies: action.bound,\n        });\n\n        this.root_store = root_store;\n\n        reaction(\n            () => this.active_index,\n            () => this.onActiveIndexChange()\n        );\n        reaction(\n            () => this.is_load_modal_open,\n            async is_load_modal_open => {\n                if (is_load_modal_open) {\n                    this.setRecentStrategies((await getSavedWorkspaces()) || []);\n                } else {\n                    this.onLoadModalClose();\n                }\n            }\n        );\n    }\n\n    recent_workspace;\n    local_workspace;\n    drop_zone;\n\n    active_index = 0;\n    is_load_modal_open = false;\n    is_explanation_expand = false;\n    is_open_button_loading = false;\n    loaded_local_file = null;\n    recent_strategies = [];\n    dashboard_strategies = [];\n    selected_strategy_id = undefined;\n    is_strategy_loaded = false;\n    is_delete_modal_open = false;\n    is_strategy_removed = false;\n    current_workspace_id = '';\n\n    get preview_workspace() {\n        if (this.tab_name === tabs_title.TAB_LOCAL) return this.local_workspace;\n        if (this.tab_name === tabs_title.TAB_RECENT) return this.recent_workspace;\n        return null;\n    }\n\n    get selected_strategy() {\n        return (\n            this.dashboard_strategies.find(ws => ws.id === this.selected_strategy_id) || this.dashboard_strategies[0]\n        );\n    }\n\n    get tab_name() {\n        if (isMobile()) {\n            if (this.active_index === 0) return tabs_title.TAB_LOCAL;\n            if (this.active_index === 1) return tabs_title.TAB_GOOGLE;\n        }\n        if (this.active_index === 0) return tabs_title.TAB_RECENT;\n        if (this.active_index === 1) return tabs_title.TAB_LOCAL;\n        if (this.active_index === 2) return tabs_title.TAB_GOOGLE;\n        return '';\n    }\n\n    getSelectedStrategyID = (current_workspace_id: string) => {\n        this.current_workspace_id = current_workspace_id;\n    };\n\n    setDashboardStrategies(strategies: Array<TWorkspace>) {\n        this.dashboard_strategies = strategies;\n        if (!strategies.length) {\n            this.selected_strategy_id = undefined;\n        }\n    }\n\n    async getDashboardStrategies() {\n        const recent_strategies = await getSavedWorkspaces();\n        this.dashboard_strategies = recent_strategies;\n    }\n\n    handleFileChange = (\n        event: React.MouseEvent | React.FormEvent<HTMLFormElement> | DragEvent,\n        is_body = true\n    ): boolean => {\n        let files;\n        if (event.type === 'drop') {\n            event.stopPropagation();\n            event.preventDefault();\n\n            ({ files } = event.dataTransfer);\n        } else {\n            ({ files } = event.target);\n        }\n\n        const [file] = files;\n\n        if (!is_body) {\n            if (file.name.includes('xml')) {\n                this.setLoadedLocalFile(file);\n                this.getDashboardStrategies();\n            } else {\n                return false;\n            }\n        }\n        this.readFile(!is_body, event, file);\n        event.target.value = '';\n        return true;\n    };\n    refreshStrategiesTheme = (strategy = this.selected_strategy?.xml): void => {\n        if (strategy) load({ block_string: strategy, drop_event: {}, workspace: this.recent_workspace });\n    };\n    loadFileFromRecent = async (): void => {\n        this.is_open_button_loading = true;\n        if (!this.selected_strategy) {\n            Blockly.derivWorkspace.asyncClear();\n            Blockly.Xml.domToWorkspace(\n                Blockly.Xml.textToDom(Blockly.derivWorkspace.strategy_to_load),\n                Blockly.derivWorkspace\n            );\n            this.is_open_button_loading = false;\n            return;\n        }\n\n        removeExistingWorkspace(this.selected_strategy.id);\n        load({\n            block_string: this.selected_strategy.xml,\n            strategy_id: this.selected_strategy.id,\n            file_name: this.selected_strategy.name,\n            workspace: Blockly.derivWorkspace,\n            from: this.selected_strategy.save_type,\n        });\n        const recent_files = await getSavedWorkspaces();\n        recent_files.map(strategy => {\n            const { xml, id } = strategy;\n            if (this.selected_strategy.id === id) {\n                Blockly.derivWorkspace.strategy_to_load = xml;\n            }\n        });\n        this.is_open_button_loading = false;\n    };\n\n    loadFileFromLocal = (): void => {\n        this.is_open_button_loading = true;\n        this.readFile(false, {}, this.loaded_local_file);\n        this.is_open_button_loading = false;\n    };\n\n    onActiveIndexChange = (): void => {\n        if (this.tab_name === tabs_title.TAB_RECENT) {\n            this.previewRecentStrategy(this.selected_strategy_id);\n        } else {\n            // eslint-disable-next-line no-lonely-if\n            if (this.recent_workspace) {\n                setTimeout(() => {\n                    // Dispose of recent workspace when switching away from Recent tab.\n                    // Process in next cycle so user doesn't have to wait.\n                    this.recent_workspace.dispose();\n                    this.recent_workspace = null;\n                });\n            }\n        }\n\n        if (this.tab_name === tabs_title.TAB_LOCAL) {\n            if (!this.drop_zone) {\n                this.drop_zone = document.querySelector('load-strategy__local-dropzone-area');\n\n                if (this.drop_zone) {\n                    this.drop_zone.addEventListener('drop', event => this.handleFileChange(event, false));\n                }\n            }\n        } else {\n            // Dispose of local workspace when switching away from Local tab.\n            // eslint-disable-next-line no-lonely-if\n            if (this.local_workspace) {\n                setTimeout(() => {\n                    this.local_workspace.dispose();\n                    this.local_workspace = null;\n                    this.setLoadedLocalFile(null);\n                }, 0);\n            }\n        }\n\n        // Forget about drop zone when not on Local tab.\n        if (this.tab_name !== tabs_title.TAB_LOCAL && this.drop_zone) {\n            this.drop_zone.removeEventListener('drop', event => this.handleFileChange(event, false));\n        }\n    };\n\n    onDriveConnect = (): void => {\n        const { google_drive } = this.root_store;\n\n        if (google_drive.is_authorised) {\n            google_drive.signOut();\n        } else {\n            google_drive.signIn();\n        }\n    };\n\n    async onDriveOpen() {\n        const { loadFile } = this.root_store.google_drive;\n        const { xml_doc, file_name } = await loadFile();\n        load({ block_string: xml_doc, file_name, workspace: Blockly.derivWorkspace, from: save_types.GOOGLE_DRIVE });\n        const { active_tab } = this.root_store.dashboard;\n        if (active_tab === 1) this.toggleLoadModal();\n\n        this.root_store.dashboard.is_dialog_open = false;\n    }\n\n    onEntered = (): void => {\n        this.previewRecentStrategy(this.selected_strategy_id);\n    };\n\n    onLoadModalClose = (): void => {\n        if (this.recent_workspace) {\n            this.recent_workspace = null;\n        }\n        if (this.local_workspace) {\n            this.local_workspace = null;\n        }\n\n        this.setActiveTabIndex(0); // Reset to first tab.\n        this.setLoadedLocalFile(null);\n    };\n\n    onZoomInOutClick = (is_zoom_in: string): void => {\n        if (this.preview_workspace) {\n            this.preview_workspace.zoomCenter(is_zoom_in ? 1 : -1);\n        }\n    };\n\n    previewRecentStrategy = (workspace_id: string): void => {\n        this.setSelectedStrategyId(workspace_id);\n        if (!workspace_id) this.setSelectedStrategyId(this.current_workspace_id);\n        if (!this.selected_strategy) {\n            return;\n        }\n        const {\n            dashboard: { active_tab },\n        } = this.root_store;\n        //removed the dispose here so on switch of tab it does not\n        //throw xml error\n        if (active_tab === 1 && !this.is_load_modal_open) {\n            this.recent_workspace = null;\n            this.setLoadedLocalFile(null);\n        }\n        //to load the bot on first load\n        if (this.tab_name !== tabs_title.TAB_LOCAL && this.recent_workspace) {\n            clearInjectionDiv('store', document.getElementById('load-strategy__blockly-container'));\n            this.recent_workspace.dispose();\n            this.recent_workspace = null;\n        }\n        if (!this.recent_workspace || !this.recent_workspace.rendered) {\n            const ref = document.getElementById('load-strategy__blockly-container');\n            if (!ref) {\n                // eslint-disable-next-line no-console\n                console.warn('Could not find preview workspace element.');\n                return;\n            }\n\n            this.recent_workspace = Blockly.inject(ref, {\n                media: `${__webpack_public_path__}media/`,\n                zoom: {\n                    wheel: true,\n                    startScale: config.workspaces.previewWorkspaceStartScale,\n                },\n                readOnly: true,\n                scrollbars: true,\n            });\n        }\n        const dark_mode = document.body.classList.contains('theme--dark');\n        setColors(dark_mode);\n        this.refreshStrategiesTheme();\n        const {\n            save_modal: { updateBotName },\n        } = this.root_store;\n        updateBotName(this.selected_strategy.name);\n    };\n\n    setActiveTabIndex = (index: number): void => {\n        this.active_index = index;\n    };\n\n    setLoadedLocalFile = (loaded_local_file: boolean | null): void => {\n        this.loaded_local_file = loaded_local_file;\n    };\n\n    setRecentStrategies = (recent_strategies: string[]): void => {\n        this.recent_strategies = recent_strategies;\n    };\n\n    refreshStrategies = (): void => {\n        this.setRecentStrategies(this.recent_strategies);\n    };\n\n    setSelectedStrategyId = (selected_strategy_id: string[] | undefined): void => {\n        this.selected_strategy_id = selected_strategy_id;\n    };\n\n    toggleExplanationExpand = (): void => {\n        this.is_explanation_expand = !this.is_explanation_expand;\n    };\n\n    toggleLoadModal = (): void => {\n        this.is_load_modal_open = !this.is_load_modal_open;\n        if (this.selected_strategy_id) this.previewRecentStrategy(this.selected_strategy_id);\n    };\n\n    toggleTourLoadModal = (toggle = !this.is_load_modal_open) => {\n        this.is_load_modal_open = toggle;\n    };\n\n    updateListStrategies = (workspaces: Array<TWorkspace>): void => {\n        if (workspaces) {\n            (this.dashboard_strategies as Array<TWorkspace>) = workspaces;\n        }\n    };\n\n    getRecentFileIcon = (save_type: { [key: string]: string } | string): string => {\n        switch (save_type) {\n            case save_types.UNSAVED:\n                return 'IcReports';\n            case save_types.LOCAL:\n                return 'IcMyComputer';\n            case save_types.GOOGLE_DRIVE:\n                return 'IcGoogleDrive';\n            default:\n                return 'IcReports';\n        }\n    };\n\n    getSaveType = (save_type: { [key: string]: string } | string): string => {\n        switch (save_type) {\n            case save_types.UNSAVED:\n                return localize('Unsaved');\n            case save_types.LOCAL:\n                return localize('Local');\n            case save_types.GOOGLE_DRIVE:\n                return localize('Google Drive');\n            default:\n                return localize('Unsaved');\n        }\n    };\n\n    onToggleDeleteDialog = (is_delete_modal_open: boolean): void => {\n        this.is_delete_modal_open = is_delete_modal_open;\n    };\n\n    readFile = (is_preview: boolean, drop_event: DragEvent, file: File): void => {\n        const file_name = file && file.name.replace(/\\.[^/.]+$/, '');\n        const reader = new FileReader();\n        reader.onload = action(e => {\n            const load_options = { block_string: e.target.result, drop_event, from: save_types.LOCAL };\n            const ref = document.getElementById('load-strategy__blockly-container');\n            if (is_preview && ref) {\n                this.local_workspace = Blockly.inject(ref, {\n                    media: `${__webpack_public_path__}media/`, // eslint-disable-line\n                    zoom: {\n                        wheel: false,\n                        startScale: config.workspaces.previewWorkspaceStartScale,\n                    },\n                    readOnly: true,\n                    scrollbars: true,\n                });\n                load_options.workspace = this.local_workspace;\n            } else {\n                load_options.workspace = Blockly.derivWorkspace;\n                load_options.file_name = file_name;\n            }\n            load(load_options);\n        });\n        reader.readAsText(file);\n    };\n}\n","import { action, computed, makeObservable, observable, runInAction } from 'mobx';\nimport { ApiHelpers, config, load } from '@deriv/bot-skeleton';\nimport { save_types } from '@deriv/bot-skeleton/src/constants/save-type';\nimport { localize } from '@deriv/translations';\nimport GTM from 'Utils/gtm';\nimport { getSetting, storeSetting } from 'Utils/settings';\nimport {\n    TDropdownItems,\n    TDropdowns,\n    TDurationOptions,\n    TDurations,\n    TDurationUnitDropdown,\n    TFieldMapData,\n    TFieldsToUpdate,\n    TInputCommonFields,\n    TKeysStrategies,\n    TMarketOption,\n    TQSCache,\n    TSelectedValuesSelect,\n    TSelectsFieldNames,\n    TSetFieldValue,\n    TStrategies,\n    TSymbol,\n    TSymbolDropdown,\n    TTradeType,\n    TTradeTypeContractsFor,\n    TTradeTypeDropdown,\n    TTypeStrategiesDropdown,\n    TTypeStrategy,\n} from '../components/dashboard/quick-strategy/quick-strategy.types';\nimport RootStore from './root-store';\n\nexport default class QuickStrategyStore {\n    root_store: RootStore;\n    qs_cache: TQSCache = (getSetting('quick_strategy') as TQSCache) || {};\n\n    constructor(root_store: RootStore) {\n        makeObservable(this, {\n            selected_symbol: observable,\n            selected_trade_type: observable,\n            selected_type_strategy: observable,\n            selected_duration_unit: observable,\n            input_duration_value: observable,\n            input_stake: observable,\n            input_alembert_unit: observable,\n            input_martingale_size: observable,\n            input_oscar_unit: observable,\n            input_loss: observable,\n            input_profit: observable,\n            is_strategy_modal_open: observable,\n            active_index: observable,\n            symbol_dropdown: observable,\n            trade_type_dropdown: observable,\n            duration_unit_dropdown: observable,\n            description: observable,\n            is_contract_dialog_open: observable,\n            is_stop_bot_dialog_open: observable,\n            initial_values: computed,\n            types_strategies_dropdown: observable,\n            onScrollStopDropdownList: action.bound,\n            getSizeDesc: action.bound,\n            getFieldMap: action.bound,\n            getFieldValue: action.bound,\n            getQuickStrategyFields: action.bound,\n            setDescription: action.bound,\n            setActiveTypeStrategyIndex: action.bound,\n            setDurationUnitDropdown: action.bound,\n            setSymbolDropdown: action.bound,\n            setTradeTypeDropdown: action.bound,\n            setTypesStrategiesDropdown: action.bound,\n            setSelectedTypeStrategy: action.bound,\n            setSelectedDurationUnit: action.bound,\n            setSelectedSymbol: action.bound,\n            setSelectedTradeType: action.bound,\n            setDurationInputValue: action.bound,\n            onChangeDropdownItem: action.bound,\n            onChangeInputValue: action.bound,\n            onHideDropdownList: action.bound,\n            loadDataStrategy: action.bound,\n            createStrategy: action.bound,\n            updateSymbolDropdown: action.bound,\n            updateTypesStrategiesDropdown: action.bound,\n            updateTradeTypeDropdown: action.bound,\n            updateDurationDropdown: action.bound,\n            updateDurationValue: action.bound,\n        });\n\n        this.root_store = root_store;\n    }\n    selected_symbol: TMarketOption = (this.qs_cache.selected_symbol as TMarketOption) || {};\n    selected_trade_type: TTradeType = (this.qs_cache.selected_trade_type as TTradeType) || {};\n    selected_type_strategy: TTypeStrategy = (this.qs_cache.selected_type_strategy as TTypeStrategy) || {};\n    selected_duration_unit: TDurationOptions = (this.qs_cache.selected_duration_unit as TDurationOptions) || {};\n    input_duration_value: string | number = this.qs_cache.input_duration_value || '';\n    input_stake: string = this.qs_cache.input_stake || '';\n    input_martingale_size: string = this.qs_cache.input_martingale_size || '';\n    input_alembert_unit: string = this.qs_cache.input_alembert_unit || '';\n    input_oscar_unit: string = this.qs_cache.input_oscar_unit || '';\n    input_loss: string = this.qs_cache.input_loss || '';\n    input_profit: string = this.qs_cache.input_profit || '';\n    active_index: number = this.selected_type_strategy.index || 0;\n    description: string = this.qs_cache.selected_type_strategy?.description || '';\n    types_strategies_dropdown: TTypeStrategiesDropdown = [];\n    symbol_dropdown: TSymbolDropdown = [];\n    trade_type_dropdown: TTradeTypeDropdown = [];\n    duration_unit_dropdown: TDurationUnitDropdown = [];\n    is_contract_dialog_open = false;\n    is_stop_bot_dialog_open = false;\n    is_strategy_modal_open = false;\n\n    get initial_values() {\n        const init = {\n            'quick-strategy__type-strategy':\n                this.getFieldValue(this.types_strategies_dropdown, this.selected_type_strategy.value) || '',\n            'quick-strategy__symbol': this.getFieldValue(this.symbol_dropdown, this.selected_symbol.value) || '',\n            'quick-strategy__trade-type':\n                this.getFieldValue(this.trade_type_dropdown, this.selected_trade_type.value) || '',\n            'quick-strategy__duration-unit':\n                this.getFieldValue(this.duration_unit_dropdown, this.selected_duration_unit.value) || '',\n            'quick-strategy__duration-value': this.input_duration_value || '',\n            'quick-strategy__stake': this.input_stake,\n            ...(this.active_index === 0 && { 'martingale-size': this.input_martingale_size || '' }),\n            ...(this.active_index === 1 && { 'alembert-unit': this.input_alembert_unit || '' }),\n            ...(this.active_index === 2 && { 'oscar-unit': this.input_oscar_unit || '' }),\n\n            'quick-strategy__loss': this.input_loss || '',\n            'quick-strategy__profit': this.input_profit || '',\n        };\n        storeSetting('quick_strategy', this.qs_cache);\n\n        return init;\n    }\n\n    setActiveTypeStrategyIndex(index: number): void {\n        this.active_index = index;\n    }\n\n    setDescription(type_strategy: TTypeStrategy): void {\n        this.description =\n            this.types_strategies_dropdown?.find(strategy => strategy.value === type_strategy.value)?.description || '';\n    }\n\n    setDurationUnitDropdown(duration_unit_options: TDurationUnitDropdown): void {\n        this.duration_unit_dropdown = duration_unit_options;\n    }\n\n    setSymbolDropdown(symbol_options: TSymbolDropdown): void {\n        this.symbol_dropdown = symbol_options;\n    }\n\n    setTradeTypeDropdown(trade_type_options: TTradeTypeDropdown): void {\n        this.trade_type_dropdown = trade_type_options;\n    }\n\n    setSelectedDurationUnit(duration_unit: TDurationOptions): void {\n        this.qs_cache.selected_duration_unit = duration_unit;\n        this.selected_duration_unit = duration_unit;\n    }\n\n    setTypesStrategiesDropdown(types_strategies_options: TTypeStrategiesDropdown): void {\n        this.types_strategies_dropdown = types_strategies_options;\n    }\n\n    setSelectedTypeStrategy(type_strategy: TTypeStrategy): void {\n        this.qs_cache.selected_type_strategy = type_strategy;\n        this.selected_type_strategy = type_strategy;\n        this.setDescription(type_strategy);\n    }\n\n    setSelectedSymbol(symbol: TMarketOption): void {\n        this.qs_cache.selected_symbol = symbol;\n        this.selected_symbol = symbol;\n        delete this.qs_cache.selected_duration_unit;\n        delete this.qs_cache.selected_trade_type;\n    }\n\n    setSelectedTradeType(trade_type: TTradeType): void {\n        this.qs_cache.selected_trade_type = trade_type;\n        this.selected_trade_type = trade_type;\n        delete this.qs_cache.selected_duration_unit;\n    }\n\n    setDurationInputValue(duration_value: string | number): void {\n        this.qs_cache.input_duration_value = duration_value;\n        this.input_duration_value = duration_value;\n    }\n\n    onChangeDropdownItem(type: TDropdownItems, value: string, setFieldValue: TSetFieldValue): void {\n        if (!value) {\n            return;\n        }\n\n        const field_map = this.getFieldMap(type);\n        if (type === 'symbol') {\n            this.updateTradeTypeDropdown(value, setFieldValue);\n\n            const symbol = this.symbol_dropdown.find(item => item.value === value);\n\n            if (symbol) {\n                this.setSelectedSymbol(symbol);\n                setFieldValue(field_map?.field_name, symbol.text);\n            }\n        } else if (type === 'trade-type') {\n            this.updateDurationDropdown(this.selected_symbol.value, value, setFieldValue);\n\n            const trade_type = this.trade_type_dropdown.find(item => item.value === value);\n\n            if (trade_type) {\n                this.setSelectedTradeType(trade_type);\n                setFieldValue(field_map?.field_name, trade_type.text);\n            }\n        } else if (type === 'duration-unit') {\n            this.updateDurationValue(value, setFieldValue);\n\n            const duration_unit = this.duration_unit_dropdown.find(item => item.value === value);\n\n            if (duration_unit) {\n                this.setSelectedDurationUnit(duration_unit);\n                setFieldValue(field_map?.field_name, duration_unit.text);\n            }\n        } else if (type === 'type-strategy') {\n            const typeStrategy = this.types_strategies_dropdown.find(item => item.value === value);\n\n            if (typeStrategy) {\n                this.setSelectedTypeStrategy(typeStrategy);\n                this.setActiveTypeStrategyIndex(typeStrategy.index);\n                setFieldValue(field_map?.field_name, typeStrategy.text);\n            }\n        }\n    }\n\n    onChangeInputValue(field: TInputCommonFields, event: React.ChangeEvent<HTMLInputElement>): void {\n        this.qs_cache[field] = event.currentTarget.value;\n        this[field] = event.currentTarget.value;\n        storeSetting('quick_strategy', this.qs_cache);\n    }\n\n    onHideDropdownList(type: TDropdownItems, value: TSelectsFieldNames, setFieldValue: TSetFieldValue): void {\n        const field_map = this.getFieldMap(type);\n        const item = field_map.dropdown?.find(i => i.text.toLowerCase() === value.toLowerCase()) || field_map.selected;\n\n        // Don't allow bogus input.\n        if (!item) {\n            setFieldValue(field_map?.field_name, '');\n            return;\n        }\n        // Restore value if user closed list.\n        if (item.text !== value) {\n            setFieldValue(field_map?.field_name, item.text);\n        }\n        // Update item if different item was typed.\n        if (item !== field_map.selected) {\n            field_map.setSelected(item);\n        }\n    }\n\n    async loadDataStrategy() {\n        this.root_store.flyout.setVisibility(false);\n        this.is_strategy_modal_open = !this.is_strategy_modal_open;\n\n        if (this.is_strategy_modal_open) {\n            await this.updateSymbolDropdown();\n            await this.updateTypesStrategiesDropdown();\n        }\n    }\n\n    async createStrategy({ button }: Record<'button', 'run' | 'edit'>) {\n        const symbol = this.selected_symbol.value;\n        const trade_type = this.selected_trade_type.value;\n        const duration_unit = this.selected_duration_unit.value;\n        const duration_value = this.input_duration_value;\n        const stake = this.input_stake;\n        const size = this.input_martingale_size;\n        const alembert_unit = this.input_alembert_unit;\n        const oscar_unit = this.input_oscar_unit;\n        const loss = this.input_loss;\n        const profit = this.input_profit;\n\n        const { contracts_for } = ApiHelpers.instance;\n        const market = await contracts_for.getMarketBySymbol(symbol);\n        const submarket = await contracts_for.getSubmarketBySymbol(symbol);\n        const trade_type_cat = await contracts_for.getTradeTypeCategoryByTradeType(trade_type);\n\n        const { strategies } = config;\n        const strategy_name = Object.keys(strategies).find(s => strategies[s].index === this.active_index);\n        const strategy_xml = await import(/* webpackChunkName: `[request]` */ `../xml/${strategy_name}.xml`);\n        const strategy_dom = Blockly.Xml.textToDom(strategy_xml.default);\n\n        const modifyValueInputs = (key: string, value: number) => {\n            const el_value_inputs = strategy_dom.querySelectorAll(`value[strategy_value=\"${key}\"]`);\n\n            el_value_inputs.forEach((el_value_input: HTMLElement) => {\n                el_value_input.innerHTML = `<shadow type=\"math_number\"><field name=\"NUM\">${value}</field></shadow>`;\n            });\n        };\n\n        const modifyFieldDropdownValues = (name: string, value: string) => {\n            const name_list = `${name.toUpperCase()}_LIST`;\n            const el_blocks = strategy_dom.querySelectorAll(`field[name=\"${name_list}\"]`);\n\n            el_blocks.forEach((el_block: HTMLElement) => {\n                el_block.innerHTML = value;\n            });\n        };\n\n        const fields_to_update: TFieldsToUpdate = {\n            market,\n            submarket,\n            symbol,\n            tradetype: trade_type,\n            tradetypecat: trade_type_cat,\n            durationtype: duration_unit,\n            duration: duration_value,\n            stake,\n            size,\n            alembert_unit,\n            oscar_unit,\n            loss,\n            profit,\n        };\n\n        Object.keys(fields_to_update).forEach(key => {\n            const value = fields_to_update[key as keyof typeof fields_to_update];\n\n            if (!isNaN(value as number)) {\n                modifyValueInputs(key, value as number);\n            } else if (typeof value === 'string') {\n                modifyFieldDropdownValues(key, value);\n            }\n        });\n\n        const file_name = (strategies as TStrategies)?.[strategy_name as TKeysStrategies]?.label || localize('Unknown');\n\n        const { derivWorkspace: workspace } = Blockly;\n\n        load({ block_string: Blockly.Xml.domToText(strategy_dom), file_name, workspace, from: save_types.UNSAVED });\n\n        if (button === 'run') {\n            workspace\n                .waitForBlockEvent({\n                    block_type: 'trade_definition',\n                    event_type: Blockly.Events.BLOCK_CREATE,\n                    timeout: 5000,\n                })\n                .then(() => {\n                    this.root_store.run_panel.onRunButtonClick();\n                });\n        }\n        if (this.is_strategy_modal_open) {\n            this.loadDataStrategy();\n        }\n    }\n\n    async updateSymbolDropdown() {\n        const { active_symbols } = ApiHelpers.instance;\n        const symbols = active_symbols.getAllSymbols(/* should_be_open */ true);\n\n        const symbol_options = symbols\n            .filter((symbol: TSymbol) => symbol.submarket_display !== 'Crash/Boom Indices')\n            .map((symbol: TSymbol) => ({\n                group: symbol.submarket_display,\n                text: symbol.symbol_display,\n                value: symbol.symbol,\n            }));\n\n        this.setSymbolDropdown(symbol_options);\n\n        if (!this.selected_symbol.value && symbol_options.length) {\n            this.selected_symbol = symbol_options[0];\n        }\n\n        await this.updateTradeTypeDropdown(this.selected_symbol.value);\n    }\n\n    async updateTradeTypeDropdown(symbol: string, setFieldValue?: TSetFieldValue) {\n        const { contracts_for } = ApiHelpers.instance;\n        const trade_type_options: TTradeTypeDropdown = [];\n        const market = contracts_for.getMarketBySymbol(symbol);\n        const submarket = contracts_for.getSubmarketBySymbol(symbol);\n        const trade_type_categories = await contracts_for.getTradeTypeCategories(market, submarket, symbol);\n\n        const filtered_trade_type_categories = [];\n\n        for (let i = 0; i < trade_type_categories.length; i++) {\n            const trade_type_category = trade_type_categories[i];\n            // eslint-disable-next-line no-await-in-loop\n            const trade_types = await contracts_for.getTradeTypeByTradeCategory(\n                market,\n                submarket,\n                symbol,\n                trade_type_category[1]\n            );\n\n            const hidden_categories = this.getHiddenCategories(trade_types);\n\n            if (hidden_categories < trade_types.length) {\n                filtered_trade_type_categories.push(trade_type_category);\n            }\n        }\n\n        for (let i = 0; i < filtered_trade_type_categories.length; i++) {\n            const trade_type_category = filtered_trade_type_categories[i]; // e.g. ['Up/Down', 'callput']\n            // eslint-disable-next-line no-await-in-loop\n            const trade_types = await contracts_for.getTradeTypeByTradeCategory(\n                market,\n                submarket,\n                symbol,\n                trade_type_category[1]\n            );\n\n            trade_type_options.push(...this.getTradeTypeOptions(trade_types, trade_type_category));\n        }\n\n        this.setTradeTypeDropdown(trade_type_options);\n        let first_trade_type = trade_type_options[0];\n\n        if (this.selected_trade_type && trade_type_options.some(e => e.value === this.selected_trade_type.value)) {\n            first_trade_type = this.selected_trade_type;\n            runInAction(() => {\n                first_trade_type.text = this.getFieldValue(this.trade_type_dropdown, this.selected_trade_type.value);\n            });\n        } else {\n            delete this.qs_cache?.selected_trade_type;\n        }\n        if (first_trade_type) {\n            this.setSelectedTradeType(first_trade_type);\n            await this.updateDurationDropdown(\n                this.selected_symbol.value,\n                this.selected_trade_type.value,\n                setFieldValue\n            );\n\n            if (setFieldValue) {\n                setFieldValue('quick-strategy__trade-type', first_trade_type.text);\n            }\n        }\n    }\n\n    async updateTypesStrategiesDropdown() {\n        const { strategies } = config;\n        const types_strategies = Object.values(strategies as TStrategies).map(strategy => ({\n            index: strategy.index,\n            text: strategy.label,\n            value: strategy.label,\n            description: strategy.description,\n        }));\n\n        this.setTypesStrategiesDropdown(types_strategies);\n        let first_type_strategy = types_strategies[0];\n        if (this.selected_type_strategy && types_strategies.some(e => e.value === this.selected_type_strategy.value)) {\n            first_type_strategy = this.selected_type_strategy;\n            runInAction(() => {\n                first_type_strategy.text = this.getFieldValue(types_strategies, this.selected_type_strategy.value);\n            });\n        } else {\n            delete this.qs_cache.selected_type_strategy;\n        }\n        if (first_type_strategy) {\n            this.setSelectedTypeStrategy(first_type_strategy);\n        }\n    }\n\n    async updateDurationDropdown(symbol: string, trade_type: string, setFieldValue?: TSetFieldValue) {\n        const { contracts_for } = ApiHelpers.instance;\n        const durations = await contracts_for.getDurations(symbol, trade_type);\n\n        const duration_options = (durations as TDurations).map(duration => ({\n            text: duration.display,\n            value: duration.unit,\n            min: duration.min,\n            max: duration.max,\n        }));\n        this.setDurationUnitDropdown(duration_options);\n        let first_duration_unit: TDurationOptions = duration_options[0];\n        if (this.selected_duration_unit && duration_options?.some(e => e.value === this.selected_duration_unit.value)) {\n            first_duration_unit =\n                duration_options?.find(e => e.value === this.selected_duration_unit.value) ||\n                this.selected_duration_unit;\n            runInAction(() => {\n                first_duration_unit.text = this.getFieldValue(duration_options, this.selected_duration_unit.value);\n            });\n        } else {\n            delete this.qs_cache?.selected_duration_unit;\n        }\n        if (first_duration_unit) {\n            this.setSelectedDurationUnit(first_duration_unit);\n            this.updateDurationValue(\n                this.qs_cache?.selected_duration_unit?.value || this.selected_duration_unit.value,\n                setFieldValue\n            );\n\n            if (setFieldValue) {\n                setFieldValue('quick-strategy__duration-unit', first_duration_unit.text);\n            }\n        }\n    }\n\n    async updateDurationValue(duration_type: string, setFieldValue?: TSetFieldValue) {\n        const { contracts_for } = ApiHelpers.instance;\n        const durations = await contracts_for.getDurations(this.selected_symbol.value, this.selected_trade_type.value);\n        const min_duration = (durations as TDurations).find(duration => duration.unit === duration_type);\n        if (min_duration) {\n            let duration_input_value: number | string = min_duration.min;\n            const cache_unit = this.qs_cache?.input_duration_value;\n            if (cache_unit && cache_unit < min_duration.max && cache_unit > min_duration.min) {\n                duration_input_value = cache_unit;\n            } else {\n                delete this.qs_cache?.input_duration_value;\n            }\n            this.setDurationInputValue(duration_input_value);\n\n            if (setFieldValue) {\n                setFieldValue('quick-strategy__duration-value', duration_input_value);\n            }\n        }\n    }\n\n    onScrollStopDropdownList = (type: TDropdownItems): void => {\n        GTM.pushDataLayer({ event: `dbot_quick_strategy_scroll_${type}` });\n    };\n\n    getSizeDesc = (index: number): string => {\n        switch (index) {\n            case 0:\n                return 'The multiplier amount used to increase your stake if youre losing a trade. Value must be higher than 2.';\n            case 1:\n                return 'The amount that you may add to your stake if youre losing a trade.';\n            case 2:\n                return 'The amount that you may add to your stake after each successful trade.';\n            default:\n                return '';\n        }\n    };\n\n    getFieldMap = (type: TDropdownItems): TFieldMapData => {\n        const field_mapping = {\n            symbol: {\n                field_name: 'quick-strategy__symbol',\n                dropdown: this.symbol_dropdown,\n                selected: this.selected_symbol,\n                setSelected: this.setSelectedSymbol,\n            },\n            'trade-type': {\n                field_name: 'quick-strategy__trade-type',\n                dropdown: this.trade_type_dropdown,\n                selected: this.selected_trade_type,\n                setSelected: this.setSelectedTradeType,\n            },\n            'duration-unit': {\n                field_name: 'quick-strategy__duration-unit',\n                dropdown: this.duration_unit_dropdown,\n                selected: this.selected_duration_unit,\n                setSelected: this.setSelectedDurationUnit,\n            },\n            'type-strategy': {\n                field_name: 'quick-strategy__type-strategy',\n                dropdown: this.types_strategies_dropdown,\n                selected: this.selected_type_strategy,\n                setSelected: this.setSelectedTypeStrategy,\n            },\n        };\n        return field_mapping[type] as TFieldMapData;\n    };\n\n    getFieldValue = (list_items: TDropdowns, value: string): string => {\n        const list_obj: TSelectedValuesSelect =\n            list_items?.find(item =>\n                typeof item.value !== 'string'\n                    ? item.value === value\n                    : item.value?.toLowerCase() === value?.toLowerCase()\n            ) || {};\n\n        return typeof list_obj !== 'string' ? list_obj?.text : '';\n    };\n\n    getQuickStrategyFields = (): void => {\n        return getSetting('quick_strategy');\n    };\n\n    getHiddenCategories = (trade_types: Array<TTradeTypeContractsFor>) => {\n        // TODO: Temporary filtering of barrier + prediction types. Should later\n        // render more inputs for these types. We should only filter out trade type\n        // categories which only feature prediction/barrier trade types. e.g.\n        // in Digits category, users can still purchase Even/Odd types.\n        let hidden_categories = 0;\n\n        for (let j = 0; j < trade_types.length; j++) {\n            const trade_type = trade_types[j];\n            const has_barrier = config.BARRIER_TRADE_TYPES.includes(trade_type.value);\n            const has_prediction = config.PREDICTION_TRADE_TYPES.includes(trade_type.value);\n\n            if (has_barrier || has_prediction) {\n                hidden_categories++;\n            }\n        }\n\n        return hidden_categories;\n    };\n\n    getTradeTypeOptions = (trade_types: Array<TTradeTypeContractsFor>, trade_type_category: Array<string>) => {\n        const trade_type_options: TTradeTypeDropdown = [];\n        trade_types.forEach((trade_type: TTradeTypeContractsFor) => {\n            const has_barrier = config.BARRIER_TRADE_TYPES.includes(trade_type.value);\n            const has_prediction = config.PREDICTION_TRADE_TYPES.includes(trade_type.value);\n            const is_muliplier = ['multiplier'].includes(trade_type.value);\n\n            // TODO: Render extra inputs for barrier + prediction and multiplier types.\n            if (!has_barrier && !has_prediction && !is_muliplier) {\n                trade_type_options.push({\n                    text: trade_type.name,\n                    value: trade_type.value,\n                    group: trade_type_category[0],\n                    icon: trade_type.icon,\n                });\n            }\n        });\n        return trade_type_options;\n    };\n\n    toggleStopBotDialog = (): void => {\n        this.is_contract_dialog_open = !this.is_contract_dialog_open;\n        this.is_stop_bot_dialog_open = !this.is_stop_bot_dialog_open;\n    };\n}\n","import { action, makeObservable, observable } from 'mobx';\n\nexport default class RoutePromptDialogStore {\n    constructor(root_store, core) {\n        makeObservable(this, {\n            should_show: observable,\n            is_confirmed: observable,\n            last_location: observable,\n            shouldNavigateAfterPrompt: action.bound,\n            onConfirm: action.bound,\n            onCancel: action.bound,\n            continueRoute: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n    }\n\n    should_show = false;\n    is_confirmed = false;\n    last_location = null;\n\n    shouldNavigateAfterPrompt(next_location) {\n        if (!this.is_confirmed) {\n            this.last_location = next_location;\n            if (next_location.pathname !== '/bot') this.should_show = true;\n            return false;\n        }\n\n        return true;\n    }\n\n    onConfirm() {\n        this.should_show = false;\n        this.is_confirmed = true;\n    }\n\n    onCancel() {\n        this.should_show = false;\n    }\n\n    continueRoute() {\n        const { common } = this.core;\n        if (this.is_confirmed && this.last_location) common.routeTo(this.last_location.pathname);\n    }\n}\n","export const contract_stages = Object.freeze({\n    NOT_RUNNING: 0,\n    STARTING: 1,\n    PURCHASE_SENT: 2,\n    PURCHASE_RECEIVED: 3,\n    IS_STOPPING: 4,\n    CONTRACT_CLOSED: 5,\n});\n","export const run_panel = Object.freeze({\n    SUMMARY: 0,\n    TRANSACTIONS: 1,\n    JOURNAL: 2,\n});\n","import { platform_name } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\n\nexport const switch_account_notification = {\n    key: 'bot_switch_account',\n    header: localize('You have switched accounts.'),\n    message: localize(\n        'Our system will finish any Deriv Bot trades that are running, and Deriv Bot will not place any new trades.'\n    ),\n    type: 'warning',\n    is_persistent: true,\n};\n\nexport const journalError = onClick => {\n    return {\n        key: 'bot_error',\n        header: localize('The bot encountered an error while running.'),\n        action: {\n            text: localize('View in Journal'),\n            onClick,\n        },\n        type: 'danger',\n        platform: [platform_name.DBot],\n        is_disposable: true,\n    };\n};\n","import React from 'react';\nimport { action, computed, makeObservable, observable, reaction, runInAction } from 'mobx';\nimport { error_types, message_types, observer, unrecoverable_errors } from '@deriv/bot-skeleton';\nimport { isSafari, mobileOSDetect } from '@deriv/shared';\nimport { Localize, localize } from '@deriv/translations';\nimport { contract_stages } from 'Constants/contract-stage';\nimport { run_panel } from 'Constants/run-panel';\nimport { journalError, switch_account_notification } from 'Utils/bot-notifications';\n\nexport default class RunPanelStore {\n    constructor(root_store, core) {\n        makeObservable(this, {\n            active_index: observable,\n            contract_stage: observable,\n            dialog_options: observable,\n            has_open_contract: observable,\n            is_running: observable,\n            is_statistics_info_modal_open: observable,\n            is_drawer_open: observable,\n            is_dialog_open: observable,\n            is_sell_requested: observable,\n            run_id: observable,\n            error_type: observable,\n            statistics: computed,\n            is_stop_button_visible: computed,\n            is_stop_button_disabled: computed,\n            is_clear_stat_disabled: computed,\n            onStopButtonClick: action.bound,\n            stopBot: action.bound,\n            onClearStatClick: action.bound,\n            clearStat: action.bound,\n            toggleStatisticsInfoModal: action.bound,\n            toggleDrawer: action.bound,\n            setActiveTabIndex: action.bound,\n            onCloseDialog: action.bound,\n            performSelfExclusionCheck: action.bound,\n            showStopMultiplierContractDialog: action.bound,\n            showLoginDialog: action.bound,\n            showRealAccountDialog: action.bound,\n            showClearStatDialog: action.bound,\n            showIncompatibleStrategyDialog: action.bound,\n            showContractUpdateErrorDialog: action.bound,\n            onBotSellEvent: action.bound,\n            onBotStopEvent: action.bound,\n            onBotTradeAgain: action.bound,\n            onContractStatusEvent: action.bound,\n            onClickSell: action.bound,\n            onBotContractEvent: action.bound,\n            onError: action.bound,\n            showErrorMessage: action.bound,\n            switchToJournal: action.bound,\n            setContractStage: action.bound,\n            setHasOpenContract: action.bound,\n            setIsRunning: action.bound,\n            onMount: action.bound,\n            onUnmount: action.bound,\n            handleInvalidToken: action.bound,\n            onRunButtonClick: action.bound,\n            registerBotListeners: action.bound,\n            registerReactions: action.bound,\n            onBotRunningEvent: action.bound,\n            unregisterBotListeners: action.bound,\n            clear: action.bound,\n            preloadAudio: action.bound,\n            stopMyBot: action.bound,\n            closeMultiplierContract: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.dbot = this.root_store.dbot;\n        this.core = core;\n        this.disposeReactionsFn = this.registerReactions();\n        this.timer = null;\n    }\n\n    active_index = 0;\n    contract_stage = contract_stages.NOT_RUNNING;\n    dialog_options = {};\n    has_open_contract = false;\n    is_running = false;\n    is_statistics_info_modal_open = false;\n    is_drawer_open = true;\n    is_dialog_open = false;\n    is_sell_requested = false;\n\n    run_id = '';\n\n    // when error happens, if it is unrecoverable_errors we reset run-panel\n    // we activate run-button and clear trade info and set the ContractStage to NOT_RUNNING\n    // otherwise we keep opening new contracts and set the ContractStage to PURCHASE_SENT\n    error_type = undefined;\n\n    get statistics() {\n        let total_runs = 0;\n        const { transactions } = this.root_store.transactions;\n        const statistics = transactions.reduce(\n            (stats, { data: trx }) => {\n                if (trx.is_completed) {\n                    if (trx.profit > 0) {\n                        stats.won_contracts += 1;\n                        stats.total_payout += trx.payout;\n                    } else {\n                        stats.lost_contracts += 1;\n                    }\n\n                    stats.total_profit += trx.profit;\n                    stats.total_stake += trx.buy_price;\n                    total_runs += 1;\n                }\n\n                return stats;\n            },\n            {\n                lost_contracts: 0,\n                number_of_runs: 0,\n                total_profit: 0,\n                total_payout: 0,\n                total_stake: 0,\n                won_contracts: 0,\n            }\n        );\n        statistics.number_of_runs = total_runs;\n        return statistics;\n    }\n\n    get is_stop_button_visible() {\n        return this.is_running || this.has_open_contract;\n    }\n\n    get is_stop_button_disabled() {\n        return [contract_stages.PURCHASE_SENT, contract_stages.IS_STOPPING].includes(this.contract_stage);\n    }\n\n    get is_clear_stat_disabled() {\n        const { journal, transactions } = this.root_store;\n\n        return (\n            this.is_running ||\n            this.has_open_contract ||\n            (journal.unfiltered_messages.length === 0 && transactions.elements.length === 0)\n        );\n    }\n\n    async performSelfExclusionCheck() {\n        const { self_exclusion } = this.root_store;\n        await self_exclusion.checkRestriction();\n    }\n\n    async onRunButtonClick() {\n        let timer_counter = 1;\n        if (window.sendRequestsStatistic) {\n            performance.clearMeasures();\n            performance.mark('bot-start');\n            // Log is sent every 10 seconds for 5 minutes\n            this.timer = setInterval(() => {\n                window.sendRequestsStatistic(true);\n                performance.clearMeasures();\n                if (timer_counter === 12) {\n                    clearInterval(this.timer);\n                } else {\n                    timer_counter++;\n                }\n            }, 10000);\n        }\n        const { summary_card, route_prompt_dialog, self_exclusion } = this.root_store;\n        const { client, ui } = this.core;\n        const is_ios = mobileOSDetect() === 'iOS';\n        this.dbot.saveRecentWorkspace();\n        this.dbot.unHighlightAllBlocks();\n        if (!client.is_logged_in) {\n            this.showLoginDialog();\n            return;\n        }\n\n        /**\n         * Due to Apple's policy on cellular data usage in ios audioElement.play() should be initially called on\n         * user action(e.g click/touch) to be downloaded, otherwise throws an error. Also it should be called\n         * syncronously, so keep above await.\n         */\n        if (is_ios || isSafari()) this.preloadAudio();\n\n        if (!self_exclusion.should_bot_run) {\n            self_exclusion.setIsRestricted(true);\n            return;\n        }\n        self_exclusion.setIsRestricted(false);\n\n        this.registerBotListeners();\n\n        if (!this.dbot.shouldRunBot()) {\n            this.unregisterBotListeners();\n            return;\n        }\n\n        ui.setAccountSwitcherDisabledMessage(\n            localize(\n                'Account switching is disabled while your bot is running. Please stop your bot before switching accounts.'\n            )\n        );\n        runInAction(() => {\n            this.setIsRunning(true);\n            ui.setPromptHandler(true, route_prompt_dialog.shouldNavigateAfterPrompt);\n            this.toggleDrawer(true);\n            this.run_id = `run-${Date.now()}`;\n\n            summary_card.clear();\n            this.setContractStage(contract_stages.STARTING);\n            this.dbot.runBot();\n        });\n    }\n\n    onStopButtonClick() {\n        const { is_multiplier } = this.root_store.summary_card;\n\n        if (is_multiplier) {\n            this.showStopMultiplierContractDialog();\n        } else {\n            this.stopBot();\n        }\n    }\n\n    stopBot() {\n        const { ui } = this.core;\n\n        this.dbot.stopBot();\n\n        ui.setPromptHandler(false);\n\n        if (this.error_type) {\n            // when user click stop button when there is a error but bot is retrying\n            this.setContractStage(contract_stages.NOT_RUNNING);\n            ui.setAccountSwitcherDisabledMessage(false);\n            this.setIsRunning(false);\n        } else if (this.has_open_contract) {\n            // when user click stop button when bot is running\n            this.setContractStage(contract_stages.IS_STOPPING);\n        } else {\n            // when user click stop button before bot start running\n            this.setContractStage(contract_stages.NOT_RUNNING);\n            this.unregisterBotListeners();\n            ui.setAccountSwitcherDisabledMessage(false);\n            this.setIsRunning(false);\n        }\n\n        if (this.error_type) {\n            this.error_type = undefined;\n        }\n\n        if (this.timer) {\n            clearInterval(this.timer);\n        }\n        if (window.sendRequestsStatistic) {\n            window.sendRequestsStatistic(true);\n            performance.clearMeasures();\n        }\n    }\n\n    onClearStatClick() {\n        this.showClearStatDialog();\n    }\n\n    clearStat() {\n        const { summary_card, journal, transactions } = this.root_store;\n\n        this.setIsRunning(false);\n        this.setHasOpenContract(false);\n        this.clear();\n        journal.clear();\n        summary_card.clear();\n        transactions.clear();\n        this.setContractStage(contract_stages.NOT_RUNNING);\n    }\n\n    toggleStatisticsInfoModal() {\n        this.is_statistics_info_modal_open = !this.is_statistics_info_modal_open;\n    }\n\n    toggleDrawer(is_open) {\n        this.is_drawer_open = is_open;\n    }\n\n    setActiveTabIndex(index) {\n        this.active_index = index;\n\n        if (this.active_index !== 1) {\n            this.root_store.transactions.setActiveTransactionId(null);\n        }\n    }\n\n    onCloseDialog() {\n        this.is_dialog_open = false;\n    }\n\n    stopMyBot() {\n        const { summary_card, quick_strategy } = this.root_store;\n        const { ui } = this.core;\n        const { toggleStopBotDialog } = quick_strategy;\n\n        ui.setPromptHandler(false);\n        this.dbot.terminateBot();\n        this.onCloseDialog();\n        summary_card.clear();\n        toggleStopBotDialog();\n        if (this.timer) {\n            clearInterval(this.timer);\n        }\n        if (window.sendRequestsStatistic) {\n            window.sendRequestsStatistic(true);\n            performance.clearMeasures();\n        }\n    }\n\n    closeMultiplierContract() {\n        const { quick_strategy } = this.root_store;\n        const { toggleStopBotDialog } = quick_strategy;\n\n        this.onClickSell();\n        this.stopBot();\n        this.onCloseDialog();\n        toggleStopBotDialog();\n    }\n\n    showStopMultiplierContractDialog() {\n        const { summary_card } = this.root_store;\n        const { ui } = this.core;\n\n        this.onOkButtonClick = () => {\n            ui.setPromptHandler(false);\n            this.dbot.terminateBot();\n            if (this.timer) {\n                clearInterval(this.timer);\n            }\n            if (window.sendRequestsStatistic) {\n                window.sendRequestsStatistic(true);\n                performance.clearMeasures();\n            }\n            this.onCloseDialog();\n            summary_card.clear();\n        };\n        this.onCancelButtonClick = () => {\n            this.onClickSell();\n            this.stopBot();\n            this.onCloseDialog();\n        };\n        this.dialog_options = {\n            title: localize('Keep your current contract?'),\n            message: (\n                <Localize\n                    i18n_default_text='Would you like to keep your current contract or close it? If you decide to keep it running, you can check and close it later on the <0>Reports</0> page.'\n                    components={[\n                        <a\n                            key={0}\n                            className='link'\n                            rel='noopener noreferrer'\n                            target='_blank'\n                            href='/reports/positions'\n                        />,\n                    ]}\n                />\n            ),\n            ok_button_text: localize('Keep my contract'),\n            cancel_button_text: localize('Close my contract'),\n        };\n        this.is_dialog_open = true;\n    }\n\n    showLoginDialog() {\n        this.onOkButtonClick = this.onCloseDialog;\n        this.onCancelButtonClick = undefined;\n        this.dialog_options = {\n            title: localize('Please log in'),\n            message: localize('You need to log in to run the bot.'),\n        };\n        this.is_dialog_open = true;\n    }\n\n    showRealAccountDialog() {\n        this.onOkButtonClick = this.onCloseDialog;\n        this.onCancelButtonClick = undefined;\n        this.dialog_options = {\n            title: localize(\"Deriv Bot isn't quite ready for real accounts\"),\n            message: localize('Please switch to your demo account to run your Deriv Bot.'),\n        };\n        this.is_dialog_open = true;\n    }\n\n    showClearStatDialog() {\n        this.onOkButtonClick = () => {\n            this.clearStat();\n            this.onCloseDialog();\n        };\n        this.onCancelButtonClick = this.onCloseDialog;\n        this.dialog_options = {\n            title: localize('Are you sure?'),\n            message: localize(\n                'This will clear all data in the summary, transactions, and journal panels. All counters will be reset to zero.'\n            ),\n        };\n        this.is_dialog_open = true;\n    }\n\n    showIncompatibleStrategyDialog() {\n        this.onOkButtonClick = this.onCloseDialog;\n        this.onCancelButtonClick = undefined;\n        this.dialog_options = {\n            title: localize('Import error'),\n            message: localize('This strategy is currently not compatible with Deriv Bot.'),\n        };\n        this.is_dialog_open = true;\n    }\n\n    showContractUpdateErrorDialog(message) {\n        this.onOkButtonClick = this.onCloseDialog;\n        this.onCancelButtonClick = undefined;\n        this.dialog_options = {\n            title: localize('Contract Update Error'),\n            message: localize(message),\n        };\n        this.is_dialog_open = true;\n    }\n\n    registerBotListeners() {\n        const { summary_card, transactions } = this.root_store;\n\n        observer.register('bot.running', this.onBotRunningEvent);\n        observer.register('bot.sell', this.onBotSellEvent);\n        observer.register('bot.stop', this.onBotStopEvent);\n        observer.register('bot.click_stop', this.onStopButtonClick);\n        observer.register('bot.trade_again', this.onBotTradeAgain);\n        observer.register('contract.status', this.onContractStatusEvent);\n        observer.register('bot.contract', this.onBotContractEvent);\n        observer.register('bot.contract', summary_card.onBotContractEvent);\n        observer.register('bot.contract', transactions.onBotContractEvent);\n        observer.register('Error', this.onError);\n    }\n\n    registerReactions() {\n        const { client, common, notifications } = this.core;\n\n        const registerIsSocketOpenedListener = () => {\n            if (common.is_socket_opened) {\n                this.disposeIsSocketOpenedListener = reaction(\n                    () => client.loginid,\n                    loginid => {\n                        if (loginid && this.is_running) {\n                            notifications.addNotificationMessage(switch_account_notification);\n                        }\n                        this.dbot.terminateBot();\n                        this.unregisterBotListeners();\n                    }\n                );\n            } else if (typeof this.disposeLogoutListener === 'function') {\n                this.disposeLogoutListener();\n            }\n        };\n\n        registerIsSocketOpenedListener();\n\n        this.disposeLogoutListener = reaction(\n            () => common.is_socket_opened,\n            () => registerIsSocketOpenedListener()\n        );\n\n        this.disposeStopBotListener = reaction(\n            () => !this.is_running,\n            () => {\n                if (!this.is_running) this.setContractStage(contract_stages.NOT_RUNNING);\n            }\n        );\n\n        return () => {\n            if (typeof this.disposeIsSocketOpenedListener === 'function') {\n                this.disposeIsSocketOpenedListener();\n            }\n\n            if (typeof this.disposeLogoutListener === 'function') {\n                this.disposeLogoutListener();\n            }\n\n            if (typeof this.disposeStopBotListener === 'function') {\n                this.disposeStopBotListener();\n            }\n        };\n    }\n\n    onBotRunningEvent() {\n        this.setHasOpenContract(true);\n\n        // prevent new version update\n        const ignore_new_version = new Event('IgnorePWAUpdate');\n        document.dispatchEvent(ignore_new_version);\n        const { self_exclusion } = this.root_store;\n\n        if (self_exclusion.should_bot_run && self_exclusion.run_limit !== -1) {\n            self_exclusion.run_limit -= 1;\n            if (self_exclusion.run_limit < 0) {\n                this.onStopButtonClick();\n            }\n        }\n    }\n\n    onBotSellEvent() {\n        this.is_sell_requested = true;\n    }\n\n    onBotStopEvent() {\n        const { self_exclusion, summary_card } = this.root_store;\n        const { ui } = this.core;\n        const indicateBotStopped = () => {\n            this.error_type = undefined;\n            this.setIsRunning(false);\n            this.setContractStage(contract_stages.NOT_RUNNING);\n            ui.setAccountSwitcherDisabledMessage(false);\n            this.unregisterBotListeners();\n            self_exclusion.resetSelfExclusion();\n        };\n        if (this.error_type === error_types.RECOVERABLE_ERRORS) {\n            // Bot should indicate it started in below cases:\n            // - When error happens it's a recoverable error\n            const { shouldRestartOnError, timeMachineEnabled } = this.dbot.interpreter.bot.tradeEngine.options;\n            const is_bot_recoverable = shouldRestartOnError || timeMachineEnabled;\n\n            if (is_bot_recoverable) {\n                this.error_type = undefined;\n                this.setContractStage(contract_stages.PURCHASE_SENT);\n            } else {\n                indicateBotStopped();\n            }\n        } else if (this.error_type === error_types.UNRECOVERABLE_ERRORS) {\n            // Bot should indicate it stopped in below cases:\n            // - When error happens and it's an unrecoverable error\n            indicateBotStopped();\n        } else if (this.has_open_contract) {\n            // Bot should indicate the contract is closed in below cases:\n            // - When bot was running and an error happens\n            this.error_type = undefined;\n            this.setIsRunning(false);\n            this.is_sell_requested = false;\n            this.setContractStage(contract_stages.CONTRACT_CLOSED);\n            ui.setAccountSwitcherDisabledMessage(false);\n            this.unregisterBotListeners();\n            self_exclusion.resetSelfExclusion();\n        }\n\n        this.setHasOpenContract(false);\n\n        summary_card.clearContractUpdateConfigValues();\n\n        // listen for new version update\n        const listen_new_version = new Event('ListenPWAUpdate');\n        document.dispatchEvent(listen_new_version);\n    }\n\n    onBotTradeAgain(is_trade_again) {\n        if (!is_trade_again) {\n            this.onStopButtonClick();\n        }\n    }\n\n    onContractStatusEvent(contract_status) {\n        switch (contract_status.id) {\n            case 'contract.purchase_sent': {\n                this.setContractStage(contract_stages.PURCHASE_SENT);\n                break;\n            }\n            case 'contract.purchase_received': {\n                this.setContractStage(contract_stages.PURCHASE_RECEIVED);\n\n                // Close transaction-specific popover, if any.\n                this.root_store.transactions.setActiveTransactionId(null);\n\n                const { buy } = contract_status;\n                const { is_virtual } = this.core.client;\n\n                if (!is_virtual) {\n                    this.core.gtm.pushDataLayer({ event: 'dbot_purchase', buy_price: buy.buy_price });\n                }\n\n                break;\n            }\n            case 'contract.sold': {\n                this.is_sell_requested = false;\n                this.setContractStage(contract_stages.CONTRACT_CLOSED);\n                break;\n            }\n            default:\n                break;\n        }\n    }\n\n    onClickSell() {\n        const { is_multiplier } = this.root_store.summary_card;\n\n        if (is_multiplier) {\n            this.setContractStage(contract_stages.IS_STOPPING);\n        }\n\n        this.dbot.interpreter.bot.getInterface().sellAtMarket();\n    }\n\n    clear = () => {\n        observer.emit('statistics.clear');\n    };\n\n    onBotContractEvent(data) {\n        if (data?.is_sold) {\n            this.is_sell_requested = false;\n            this.setContractStage(contract_stages.CONTRACT_CLOSED);\n        }\n    }\n\n    onError(data) {\n        // data.error for API errors, data for code errors\n        const error = data.error || data;\n        if (unrecoverable_errors.includes(error.code)) {\n            this.root_store.summary_card.clear();\n            this.error_type = error_types.UNRECOVERABLE_ERRORS;\n        } else {\n            this.error_type = error_types.RECOVERABLE_ERRORS;\n        }\n\n        const error_message = error?.message;\n        this.showErrorMessage(error_message);\n    }\n\n    showErrorMessage(data) {\n        const { journal } = this.root_store;\n        const { notifications } = this.core;\n        journal.onError(data);\n        if (journal.journal_filters.some(filter => filter === message_types.ERROR)) {\n            this.toggleDrawer(true);\n            this.setActiveTabIndex(run_panel.JOURNAL);\n        } else {\n            notifications.addNotificationMessage(journalError(this.switchToJournal));\n            notifications.removeNotificationMessage({ key: 'bot_error' });\n        }\n    }\n\n    switchToJournal() {\n        const { journal } = this.root_store;\n        const { notifications } = this.core;\n        journal.journal_filters.push(message_types.ERROR);\n        this.setActiveTabIndex(run_panel.JOURNAL);\n        this.toggleDrawer(true);\n        notifications.toggleNotificationsModal();\n        notifications.removeNotificationByKey({ key: 'bot_error' });\n    }\n\n    unregisterBotListeners = () => {\n        observer.unregisterAll('bot.running');\n        observer.unregisterAll('bot.stop');\n        observer.unregisterAll('bot.trade_again');\n        observer.unregisterAll('contract.status');\n        observer.unregisterAll('bot.contract');\n        observer.unregisterAll('Error');\n    };\n\n    setContractStage(contract_stage) {\n        this.contract_stage = contract_stage;\n    }\n\n    setHasOpenContract(has_open_contract) {\n        this.has_open_contract = has_open_contract;\n    }\n\n    setIsRunning(is_running) {\n        this.is_running = is_running;\n    }\n\n    onMount() {\n        const { journal } = this.root_store;\n        observer.register('ui.log.error', this.showErrorMessage);\n        observer.register('ui.log.notify', journal.onNotify);\n        observer.register('ui.log.success', journal.onLogSuccess);\n        observer.register('client.invalid_token', this.handleInvalidToken);\n    }\n\n    onUnmount() {\n        const { journal, summary_card, transactions } = this.root_store;\n\n        if (!this.is_running) {\n            this.unregisterBotListeners();\n            this.disposeReactionsFn();\n            journal.disposeReactionsFn();\n            summary_card.disposeReactionsFn();\n            transactions.disposeReactionsFn();\n        }\n\n        observer.unregisterAll('ui.log.error');\n        observer.unregisterAll('ui.log.notify');\n        observer.unregisterAll('ui.log.success');\n        observer.unregisterAll('client.invalid_token');\n    }\n\n    async handleInvalidToken() {\n        const { client } = this.core;\n        await client.logout();\n        this.setActiveTabIndex(run_panel.SUMMARY);\n    }\n\n    preloadAudio() {\n        const strategy_sounds = this.dbot.getStrategySounds();\n\n        strategy_sounds.forEach(sound => {\n            const audioElement = document.getElementById(sound);\n\n            audioElement.muted = true;\n            audioElement.play().catch(() => {\n                // suppressing abort error, thrown on immediate .pause()\n            });\n            audioElement.pause();\n            audioElement.muted = false;\n        });\n    }\n}\n","import localForage from 'localforage';\nimport LZString from 'lz-string';\nimport { action, makeObservable, observable } from 'mobx';\nimport {\n    getSavedWorkspaces,\n    observer as globalObserver,\n    save,\n    save_types,\n    saveWorkspaceToRecent,\n    updateWorkspaceName,\n} from '@deriv/bot-skeleton';\nimport { localize } from '@deriv/translations';\nimport { MAX_STRATEGIES } from 'Constants/bot-contents';\nimport { button_status } from 'Constants/button-status';\nimport RootStore from './root-store';\n\ninterface ISaveModalStore {\n    is_save_modal_open: boolean;\n    button_status: { [key: string]: string } | number;\n    bot_name: { [key: string]: string } | string;\n    toggleSaveModal: () => void;\n    validateBotName: (values: string) => { [key: string]: string };\n    onConfirmSave: () => void;\n    updateBotName: (bot_name: { [key: string]: string } | string) => void;\n    setButtonStatus: (status: { [key: string]: string } | string | number) => void;\n}\n\nexport default class SaveModalStore implements ISaveModalStore {\n    root_store: RootStore;\n\n    constructor(root_store: RootStore) {\n        makeObservable(this, {\n            is_save_modal_open: observable,\n            button_status: observable,\n            bot_name: observable,\n            toggleSaveModal: action.bound,\n            validateBotName: action.bound,\n            onConfirmSave: action.bound,\n            updateBotName: action.bound,\n            onDriveConnect: action.bound,\n            setButtonStatus: action.bound,\n        });\n\n        this.root_store = root_store;\n    }\n    is_save_modal_open = false;\n    button_status = button_status.NORMAL;\n    bot_name = '';\n\n    toggleSaveModal = (): void => {\n        if (!this.is_save_modal_open) {\n            this.setButtonStatus(button_status.NORMAL);\n        }\n\n        this.is_save_modal_open = !this.is_save_modal_open;\n    };\n\n    validateBotName = (values: string): { [key: string]: string } => {\n        const errors = {};\n\n        if (values.bot_name.trim() === '') {\n            errors.bot_name = localize('Strategy name cannot be empty');\n        }\n\n        return errors;\n    };\n\n    addStrategyToWorkspace = async (\n        workspace_id: string,\n        is_local: boolean,\n        save_as_collection: boolean,\n        bot_name: string,\n        xml: string\n    ) => {\n        try {\n            const workspace = await getSavedWorkspaces();\n            const current_workspace_index = workspace.findIndex(strategy => strategy.id === workspace_id);\n            const {\n                load_modal: { getSaveType },\n            } = this.root_store;\n            const local_type = is_local ? save_types.LOCAL : save_types.GOOGLE_DRIVE;\n            const save_collection = save_as_collection ? save_types.UNSAVED : local_type;\n            const type = save_collection;\n\n            const save_type = getSaveType(type)?.toLowerCase();\n\n            const workspace_structure = {\n                id: workspace_id,\n                xml: Blockly.Xml.domToText(xml),\n                name: bot_name,\n                timestamp: Date.now(),\n                save_type,\n            };\n\n            if (current_workspace_index >= 0) {\n                const current_workspace = workspace_structure;\n                workspace[current_workspace_index] = current_workspace;\n            } else {\n                workspace.push(workspace_structure);\n            }\n\n            workspace\n                .sort((a, b) => {\n                    return new Date(a.timestamp) - new Date(b.timestamp);\n                })\n                .reverse();\n\n            if (workspace.length > MAX_STRATEGIES) {\n                workspace.pop();\n            }\n            const {\n                load_modal: { setRecentStrategies },\n            } = this.root_store;\n            localForage.setItem('saved_workspaces', LZString.compress(JSON.stringify(workspace)));\n            const updated_strategies = await getSavedWorkspaces();\n            setRecentStrategies(updated_strategies);\n            const {\n                dashboard: { setStrategySaveType },\n            } = this.root_store;\n            setStrategySaveType(save_type);\n        } catch (error) {\n            globalObserver.emit('Error', error);\n        }\n    };\n\n    async onConfirmSave({ is_local, save_as_collection, bot_name }) {\n        this.setButtonStatus(button_status.LOADING);\n\n        const { saveFile } = this.root_store.google_drive;\n        const xml = Blockly.Xml.workspaceToDom(Blockly.derivWorkspace);\n\n        xml.setAttribute('is_dbot', 'true');\n        xml.setAttribute('collection', save_as_collection ? 'true' : 'false');\n\n        if (is_local) {\n            save(bot_name, save_as_collection, xml);\n        } else {\n            await saveFile({\n                name: bot_name,\n                content: Blockly.Xml.domToPrettyText(xml),\n                mimeType: 'application/xml',\n            });\n\n            this.setButtonStatus(button_status.COMPLETED);\n        }\n        const {\n            dashboard: { active_tab },\n        } = this.root_store;\n        const {\n            load_modal: { selected_strategy_id },\n        } = this.root_store;\n\n        if (active_tab === 0) {\n            const workspace_id = selected_strategy_id || Blockly.utils.genUid();\n            this.addStrategyToWorkspace(workspace_id, is_local, save_as_collection, bot_name, xml);\n        } else {\n            saveWorkspaceToRecent(xml, is_local ? save_types.LOCAL : save_types.GOOGLE_DRIVE);\n        }\n        this.updateBotName(bot_name);\n        this.toggleSaveModal();\n    }\n\n    updateBotName = (bot_name: { [key: string]: string } | string): void => {\n        this.bot_name = bot_name;\n        updateWorkspaceName();\n    };\n\n    async onDriveConnect() {\n        const { google_drive } = this.root_store;\n\n        if (google_drive.is_authorised) {\n            google_drive.signOut();\n        } else {\n            google_drive.signIn();\n        }\n    }\n\n    setButtonStatus = (status: { [key: string]: string } | string | number): void => {\n        this.button_status = status;\n    };\n}\n","import { action, computed, makeObservable, observable } from 'mobx';\n\nexport default class SelfExclusionStore {\n    constructor(root_store, core) {\n        makeObservable(this, {\n            api_max_losses: observable,\n            run_limit: observable,\n            is_restricted: observable,\n            initial_values: computed,\n            should_bot_run: computed,\n            setIsRestricted: action.bound,\n            setApiMaxLosses: action.bound,\n            setRunLimit: action.bound,\n            resetSelfExclusion: action.bound,\n            checkRestriction: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n    }\n\n    api_max_losses = 0;\n    run_limit = -1;\n    is_restricted = false;\n    get initial_values() {\n        return {\n            form_max_losses: this.api_max_losses || '',\n            run_limit: this.run_limit !== -1 ? this.run_limit : '',\n        };\n    }\n\n    get should_bot_run() {\n        const { client } = this.core;\n        if (client.is_eu && !client.is_virtual && (this.api_max_losses === 0 || this.run_limit === -1)) {\n            return false;\n        }\n        return true;\n    }\n\n    setIsRestricted(is_restricted) {\n        this.is_restricted = is_restricted;\n    }\n\n    setApiMaxLosses(api_max_losses) {\n        this.api_max_losses = api_max_losses;\n    }\n\n    setRunLimit(run_limit) {\n        this.run_limit = run_limit;\n    }\n\n    resetSelfExclusion() {\n        this.is_restricted = false;\n        this.api_max_losses = 0;\n        this.form_max_losses = 0;\n        this.run_limit = -1;\n    }\n\n    async checkRestriction() {\n        const { client } = this.core;\n        await client.getSelfExclusion();\n        if (client.self_exclusion.max_losses) {\n            this.setApiMaxLosses(client.self_exclusion.max_losses);\n        }\n    }\n}\n","import { getLimitOrderAmount } from '@deriv/shared';\n\nexport const getBuyPrice = contract_store => {\n    return contract_store.contract_info.buy_price;\n};\n\n/**\n * Set contract update form initial values\n * @param {object} contract_update - contract_update response\n * @param {object} limit_order - proposal_open_contract.limit_order response\n */\nexport const getContractUpdateConfig = ({ contract_update, limit_order }) => {\n    const { stop_loss, take_profit } = getLimitOrderAmount(limit_order || contract_update);\n\n    return {\n        // convert stop_loss, take_profit value to string for validation to work\n        contract_update_stop_loss: stop_loss ? Math.abs(stop_loss).toString() : '',\n        contract_update_take_profit: take_profit ? take_profit.toString() : '',\n        has_contract_update_stop_loss: !!stop_loss,\n        has_contract_update_take_profit: !!take_profit,\n    };\n};\n","import { getTotalProfit } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { getBuyPrice } from 'Utils/multiplier';\n\nexport const getCardLabels = () => ({\n    APPLY: localize('Apply'),\n    STAKE: localize('Stake:'),\n    CLOSE: localize('Close'),\n    CANCEL: localize('Cancel'),\n    CURRENT_STAKE: localize('Current stake:'),\n    DEAL_CANCEL_FEE: localize('Deal cancel. fee:'),\n    TAKE_PROFIT: localize('Take profit:'),\n    BUY_PRICE: localize('Buy price:'),\n    STOP_LOSS: localize('Stop loss:'),\n    TOTAL_PROFIT_LOSS: localize('Total profit/loss:'),\n    PROFIT_LOSS: localize('Profit/Loss:'),\n    POTENTIAL_PROFIT_LOSS: localize('Potential profit/loss:'),\n    INDICATIVE_PRICE: localize('Indicative price:'),\n    INITIAL_STAKE: localize('Initial stake:'),\n    PAYOUT: localize('Sell Price:'),\n    PURCHASE_PRICE: localize('Buy price:'),\n    POTENTIAL_PAYOUT: localize('Payout limit:'),\n    TICK: localize('Tick '),\n    WON: localize('Won'),\n    LOST: localize('Lost'),\n    DAYS: localize('Days'),\n    DAY: localize('Day'),\n    SELL: localize('Sell'),\n    INCREMENT_VALUE: localize('Increment value'),\n    DECREMENT_VALUE: localize('Decrement value'),\n    TAKE_PROFIT_LOSS_NOT_AVAILABLE: localize(\n        'Take profit and/or stop loss are not available while deal cancellation is active.'\n    ),\n    DONT_SHOW_THIS_AGAIN: localize(\"Don't show this again\"),\n    RESALE_NOT_OFFERED: localize('Resale not offered'),\n    NOT_AVAILABLE: localize('N/A'),\n});\n\nexport const getSupportedContracts = is_high_low => ({\n    ASIANU: {\n        name: localize('Asian Up'),\n        position: 'top',\n    },\n    ASIAND: {\n        name: localize('Asian Down'),\n        position: 'bottom',\n    },\n    CALL: {\n        name: is_high_low ? localize('Higher') : localize('Rise'),\n        position: 'top',\n    },\n    PUT: {\n        name: is_high_low ? localize('Lower') : localize('Fall'),\n        position: 'bottom',\n    },\n    CALLE: {\n        name: localize('Rise'),\n        position: 'top',\n    },\n    PUTE: {\n        name: localize('Fall'),\n        position: 'bottom',\n    },\n    CALLSPREAD: {\n        name: localize('Spread Up'),\n        position: 'top',\n    },\n    PUTSPREAD: {\n        name: localize('Spread Down'),\n        position: 'bottom',\n    },\n    DIGITMATCH: {\n        name: localize('Matches'),\n        position: 'top',\n    },\n    DIGITDIFF: {\n        name: localize('Differs'),\n        position: 'bottom',\n    },\n    DIGITEVEN: {\n        name: localize('Even'),\n        position: 'top',\n    },\n    DIGITODD: {\n        name: localize('Odd'),\n        position: 'bottom',\n    },\n    DIGITOVER: {\n        name: localize('Over'),\n        position: 'top',\n    },\n    DIGITUNDER: {\n        name: localize('Under'),\n        position: 'bottom',\n    },\n    EXPIRYMISS: {\n        name: localize('Ends Outside'),\n        position: 'top',\n    },\n    EXPIRYRANGE: {\n        name: localize('Ends Between'),\n        position: 'bottom',\n    },\n    LBFLOATCALL: {\n        name: localize('Close-to-Low'),\n        position: 'top',\n    },\n    LBFLOATPUT: {\n        name: localize('High-to-Close'),\n        position: 'top',\n    },\n    LBHIGHLOW: {\n        name: localize('High-to-Low'),\n        position: 'top',\n    },\n    MULTUP: {\n        name: localize('Up'),\n        position: 'top',\n    },\n    MULTDOWN: {\n        name: localize('Down'),\n        position: 'bottom',\n    },\n    ONETOUCH: {\n        name: localize('Touch'),\n        position: 'top',\n    },\n    NOTOUCH: {\n        name: localize('No Touch'),\n        position: 'bottom',\n    },\n    RANGE: {\n        name: localize('Stays Between'),\n        position: 'top',\n    },\n    UPORDOWN: {\n        name: localize('Goes Outside'),\n        position: 'bottom',\n    },\n    RESETCALL: {\n        name: localize('Reset Call'),\n        position: 'top',\n    },\n    RESETPUT: {\n        name: localize('Reset Put'),\n        position: 'bottom',\n    },\n    RUNHIGH: {\n        name: localize('Only Ups'),\n        position: 'top',\n    },\n    RUNLOW: {\n        name: localize('Only Downs'),\n        position: 'bottom',\n    },\n    TICKHIGH: {\n        name: localize('High Tick'),\n        position: 'top',\n    },\n    TICKLOW: {\n        name: localize('Low Tick'),\n        position: 'bottom',\n    },\n});\n\nexport const getContractConfig = is_high_low => ({\n    ...getSupportedContracts(is_high_low),\n});\n\nexport const getContractTypeDisplay = (type, is_high_low = false) =>\n    getContractConfig(is_high_low)[type] ? getContractConfig(is_high_low)[type.toUpperCase()].name : '';\n\nexport const getValidationRules = () => ({\n    has_contract_update_stop_loss: {\n        trigger: 'contract_update_stop_loss',\n    },\n    contract_update_stop_loss: {\n        rules: [\n            [\n                'req',\n                {\n                    condition: contract_store => !contract_store.contract_update_stop_loss,\n                    message: localize('Please enter a stop loss amount.'),\n                },\n            ],\n            [\n                'custom',\n                {\n                    func: (value, options, contract_store) => {\n                        const profit = getTotalProfit(contract_store.contract_info);\n                        return !(profit < 0 && -value > profit);\n                    },\n                    message: localize(\"Please enter a stop loss amount that's higher than the current potential loss.\"),\n                },\n            ],\n            [\n                'custom',\n                {\n                    func: (value, options, contract_store) => {\n                        const stake = getBuyPrice(contract_store);\n                        return value < stake + 1;\n                    },\n                    message: localize('Invalid stop loss. Stop loss cannot be more than stake.'),\n                },\n            ],\n        ],\n    },\n    has_contract_update_take_profit: {\n        trigger: 'contract_update_take_profit',\n    },\n    contract_update_take_profit: {\n        rules: [\n            [\n                'req',\n                {\n                    condition: contract_store => !contract_store.contract_update_take_profit,\n                    message: localize('Please enter a take profit amount.'),\n                },\n            ],\n            [\n                'custom',\n                {\n                    func: (value, options, contract_store) => {\n                        const profit = getTotalProfit(contract_store.contract_info);\n                        return !(profit > 0 && +value < profit);\n                    },\n                    message: localize(\n                        \"Please enter a take profit amount that's higher than the current potential profit.\"\n                    ),\n                },\n            ],\n        ],\n    },\n});\n","class Errors {\n    constructor() {\n        this.errors = {};\n    }\n\n    add(attribute, message) {\n        if (!this.has(attribute)) {\n            this.errors[attribute] = [];\n        }\n\n        if (this.errors[attribute].indexOf(message) === -1) {\n            this.errors[attribute].push(message);\n        }\n    }\n\n    all() {\n        return this.errors;\n    }\n\n    first(attribute) {\n        if (this.has(attribute)) {\n            return this.errors[attribute][0];\n        }\n        return null;\n    }\n\n    get(attribute) {\n        if (this.has(attribute)) {\n            return this.errors[attribute];\n        }\n\n        return [];\n    }\n\n    has(attribute) {\n        return Object.prototype.hasOwnProperty.call(this.errors, attribute);\n    }\n}\n\nexport default Errors;\n","import { getPreBuildDVRs } from '@deriv/shared';\nimport Error from './errors';\n\nconst template = (string, content) => {\n    let to_replace = content;\n    if (content && !Array.isArray(content)) {\n        to_replace = [content];\n    }\n    return string.replace(/\\[_(\\d+)]/g, (s, index) => to_replace[+index - 1]);\n};\n\nclass Validator {\n    constructor(input, rules, store = null) {\n        this.input = input;\n        this.rules = rules;\n        this.store = store;\n        this.errors = new Error();\n\n        this.error_count = 0;\n    }\n\n    /**\n     * Add failure and error message for given rule\n     *\n     * @param {string} attribute\n     * @param {object} rule\n     */\n    addFailure(attribute, rule, error_message) {\n        let message = error_message || rule.options.message || getPreBuildDVRs()[rule.name].message();\n        if (rule.name === 'length') {\n            message = template(message, [\n                rule.options.min === rule.options.max ? rule.options.min : `${rule.options.min}-${rule.options.max}`,\n            ]);\n        } else if (rule.name === 'min') {\n            message = template(message, [rule.options.min]);\n        } else if (rule.name === 'not_equal') {\n            message = template(message, [rule.options.name1, rule.options.name2]);\n        }\n        this.errors.add(attribute, message);\n        this.error_count++;\n    }\n\n    /**\n     * Runs validator\n     *\n     * @return {boolean} Whether it passes; true = passes, false = fails\n     */\n    check() {\n        Object.keys(this.input).forEach(attribute => {\n            if (!Object.prototype.hasOwnProperty.call(this.rules, attribute)) {\n                return;\n            }\n\n            this.rules[attribute].forEach(rule => {\n                const ruleObject = Validator.getRuleObject(rule);\n\n                if (!ruleObject.validator && typeof ruleObject.validator !== 'function') {\n                    return;\n                }\n\n                if (ruleObject.options.condition && !ruleObject.options.condition(this.store)) {\n                    return;\n                }\n\n                if (this.input[attribute] === '' && ruleObject.name !== 'req') {\n                    return;\n                }\n\n                let is_valid, error_message;\n                if (ruleObject.name === 'number') {\n                    const { is_ok, message } = ruleObject.validator(\n                        this.input[attribute],\n                        ruleObject.options,\n                        this.store,\n                        this.input\n                    );\n                    is_valid = is_ok;\n                    error_message = message;\n                } else {\n                    is_valid = ruleObject.validator(this.input[attribute], ruleObject.options, this.store, this.input);\n                }\n\n                if (!is_valid) {\n                    this.addFailure(attribute, ruleObject, error_message);\n                }\n            });\n        });\n        return !this.error_count;\n    }\n\n    /**\n     * Determine if validation passes\n     *\n     * @return {boolean}\n     */\n    isPassed() {\n        return this.check();\n    }\n\n    /**\n     * Converts the rule array to an object\n     *\n     * @param {array} rule\n     * @return {object}\n     */\n    static getRuleObject(rule) {\n        const is_rule_string = typeof rule === 'string';\n        const rule_object = {\n            name: is_rule_string ? rule : rule[0],\n            options: is_rule_string ? {} : rule[1] || {},\n        };\n\n        rule_object.validator = rule_object.name === 'custom' ? rule[1].func : getPreBuildDVRs()[rule_object.name].func;\n\n        return rule_object;\n    }\n}\n\nexport default Validator;\n","import { action, computed, makeObservable, observable, reaction } from 'mobx';\nimport { getIndicativePrice, isEqualObject, isMultiplierContract } from '@deriv/shared';\nimport { getValidationRules } from 'Constants/contract';\nimport { contract_stages } from 'Constants/contract-stage';\nimport { getContractUpdateConfig } from 'Utils/multiplier';\nimport Validator from 'Utils/validator';\n\nexport default class SummaryCardStore {\n    contract_info = null;\n    indicative_movement = '';\n    profit_movement = '';\n\n    validation_errors = {};\n    validation_rules = getValidationRules();\n\n    // Multiplier contract update config\n    contract_update_take_profit = '';\n    contract_update_stop_loss = '';\n    has_contract_update_take_profit = false;\n    has_contract_update_stop_loss = false;\n    contract_update_config = {};\n\n    contract_id = null;\n    profit = 0;\n    indicative = 0;\n\n    constructor(root_store, core) {\n        makeObservable(this, {\n            contract_info: observable,\n            indicative_movement: observable,\n            profit_movement: observable,\n            validation_errors: observable,\n            validation_rules: observable,\n            contract_update_take_profit: observable,\n            contract_update_stop_loss: observable,\n            has_contract_update_take_profit: observable,\n            has_contract_update_stop_loss: observable,\n            contract_update_config: observable,\n            contract_id: observable,\n            profit: observable,\n            indicative: observable,\n            is_contract_completed: computed,\n            is_contract_loading: computed,\n            is_contract_inactive: computed,\n            is_multiplier: computed,\n            clear: action.bound,\n            clearContractUpdateConfigValues: action.bound,\n            getLimitOrder: action.bound,\n            onBotContractEvent: action.bound,\n            onChange: action.bound,\n            populateContractUpdateConfig: action.bound,\n            setContractUpdateConfig: action.bound,\n            updateLimitOrder: action.bound,\n            setValidationErrorMessages: action,\n            validateProperty: action,\n            registerReactions: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n        this.disposeReactionsFn = this.registerReactions();\n    }\n\n    get is_contract_completed() {\n        return (\n            !!this.contract_info?.is_sold &&\n            this.root_store.run_panel.contract_stage !== contract_stages.PURCHASE_RECEIVED\n        );\n    }\n\n    get is_contract_loading() {\n        return (\n            (this.root_store.run_panel.is_running && this.contract_info === null) ||\n            this.root_store.run_panel.contract_stage === contract_stages.PURCHASE_SENT ||\n            this.root_store.run_panel.contract_stage === contract_stages.STARTING\n        );\n    }\n\n    get is_contract_inactive() {\n        return !this.contract_info && !this.is_loading;\n    }\n\n    get is_multiplier() {\n        return isMultiplierContract(this.contract_info?.contract_type);\n    }\n\n    clear(should_unset_contract = true) {\n        if (should_unset_contract) {\n            this.contract_info = null;\n        }\n\n        this.profit = 0;\n        this.profit_loss = 0;\n        this.indicative = 0;\n        this.indicative_movement = '';\n        this.profit_movement = '';\n    }\n\n    clearContractUpdateConfigValues() {\n        if (this.contract_info) {\n            Object.assign(this, getContractUpdateConfig(this.contract_info));\n        }\n    }\n\n    getLimitOrder() {\n        const limit_order = {};\n\n        // send positive take_profit to update or null to cancel\n        limit_order.take_profit = this.has_contract_update_take_profit ? +this.contract_update_take_profit : null;\n\n        // send positive stop_loss to update or null to cancel\n        limit_order.stop_loss = this.has_contract_update_stop_loss ? +this.contract_update_stop_loss : null;\n\n        return limit_order;\n    }\n\n    onBotContractEvent(contract) {\n        const { profit } = contract;\n        const indicative = getIndicativePrice(contract);\n\n        if (this.contract_id !== contract.id) {\n            this.clear(false);\n            this.contract_id = contract.id;\n            this.profit = profit;\n            this.indicative = indicative;\n        }\n\n        const movements = { profit, indicative };\n\n        Object.keys(movements).forEach(name => {\n            if (movements[name] !== this[name]) {\n                this[`${name}_movement`] = movements[name] > this[name] ? 'profit' : 'loss';\n            } else if (this[`${name}_movement`] !== '') {\n                this.indicative_movement = '';\n            }\n\n            this[name] = movements[name];\n        });\n\n        // TODO only add props that is being used\n        this.contract_info = contract;\n    }\n\n    onChange({ name, value }) {\n        this[name] = value;\n        this.validateProperty(name, this[name]);\n    }\n\n    populateContractUpdateConfig(response) {\n        const contract_update_config = getContractUpdateConfig(response);\n\n        if (!isEqualObject(this.contract_update_config, contract_update_config)) {\n            Object.assign(this, contract_update_config);\n            this.contract_update_config = contract_update_config;\n\n            const { contract_update, error } = response;\n            if (contract_update && !error) {\n                this.contract_info.limit_order = Object.assign(this.contract_info.limit_order || {}, contract_update);\n            }\n        }\n    }\n\n    setContractUpdateConfig(contract_update_take_profit, contract_update_stop_loss) {\n        this.has_contract_update_take_profit = !!contract_update_take_profit;\n        this.has_contract_update_stop_loss = !!contract_update_stop_loss;\n        this.contract_update_take_profit = this.has_contract_update_take_profit ? +contract_update_take_profit : null;\n        this.contract_update_stop_loss = this.has_contract_update_stop_loss ? +contract_update_stop_loss : null;\n    }\n\n    updateLimitOrder() {\n        const limit_order = this.getLimitOrder();\n\n        this.root_store.ws.contractUpdate(this.contract_info.contract_id, limit_order).then(response => {\n            if (response.error) {\n                this.root_store.run_panel.showContractUpdateErrorDialog(response.error.message);\n                return;\n            }\n\n            // Update contract store\n            this.populateContractUpdateConfig(response);\n        });\n    }\n\n    /**\n     * Sets validation error messages for an observable property of the store\n     *\n     * @param {String} propertyName - The observable property's name\n     * @param [{String}] messages - An array of strings that contains validation error messages for the particular property.\n     *\n     */\n    setValidationErrorMessages(propertyName, messages) {\n        const is_different = () =>\n            !!this.validation_errors[propertyName]\n                .filter(x => !messages.includes(x))\n                .concat(messages.filter(x => !this.validation_errors[propertyName].includes(x))).length;\n        if (!this.validation_errors[propertyName] || is_different()) {\n            this.validation_errors[propertyName] = messages;\n        }\n    }\n\n    /**\n     * Validates a particular property of the store\n     *\n     * @param {String} property - The name of the property in the store\n     * @param {object} value    - The value of the property, it can be undefined.\n     *\n     */\n    validateProperty(property, value) {\n        const trigger = this.validation_rules[property].trigger;\n        const inputs = { [property]: value !== undefined ? value : this[property] };\n        const validation_rules = { [property]: this.validation_rules[property].rules || [] };\n\n        if (!!trigger && Object.hasOwnProperty.call(this, trigger)) {\n            inputs[trigger] = this[trigger];\n            validation_rules[trigger] = this.validation_rules[trigger].rules || [];\n        }\n\n        const validator = new Validator(inputs, validation_rules, this);\n\n        validator.isPassed();\n\n        Object.keys(inputs).forEach(key => {\n            this.setValidationErrorMessages(key, validator.errors.get(key));\n        });\n    }\n\n    registerReactions() {\n        const { client } = this.core;\n        this.disposeSwitchAcountListener = reaction(\n            () => client.loginid,\n            () => this.clear()\n        );\n\n        return () => {\n            if (typeof this.disposeSwitchAcountListener === 'function') {\n                this.disposeSwitchAcountListener();\n            }\n        };\n    }\n}\n","export default class SummaryStore {\n    constructor(root_store) {\n        this.root_store = root_store;\n    }\n}\n","import { action, makeObservable, observable } from 'mobx';\nimport { config, load, runGroupedEvents } from '@deriv/bot-skeleton';\nimport RootStore from './root-store';\n\ninterface IToolbarStore {\n    is_animation_info_modal_open: boolean;\n    is_dialog_open: boolean;\n    file_name: { [key: string]: string };\n    has_undo_stack: boolean;\n    has_redo_stack: boolean;\n    toggleAnimationInfoModal: () => void;\n    onResetClick: () => void;\n    closeResetDialog: () => void;\n    onResetOkButtonClick: () => void;\n    onSortClick: () => void;\n    onUndoClick: (is_redo: boolean) => void;\n    onZoomInOutClick: (is_zoom_in: boolean) => void;\n    setHasUndoStack: () => void;\n    setHasRedoStack: () => void;\n}\n\nexport default class ToolbarStore implements IToolbarStore {\n    root_store: RootStore;\n\n    constructor(root_store: RootStore) {\n        makeObservable(this, {\n            is_animation_info_modal_open: observable,\n            is_dialog_open: observable,\n            file_name: observable,\n            has_undo_stack: observable,\n            has_redo_stack: observable,\n            toggleAnimationInfoModal: action.bound,\n            onResetClick: action.bound,\n            closeResetDialog: action.bound,\n            onResetOkButtonClick: action.bound,\n            onUndoClick: action.bound,\n            setHasUndoStack: action.bound,\n            setHasRedoStack: action.bound,\n        });\n\n        this.root_store = root_store;\n    }\n\n    is_animation_info_modal_open = false;\n    is_dialog_open = false;\n    file_name = config.default_file_name;\n    has_undo_stack = false;\n    has_redo_stack = false;\n\n    toggleAnimationInfoModal = (): void => {\n        this.is_animation_info_modal_open = !this.is_animation_info_modal_open;\n    };\n\n    onResetClick = (): void => {\n        this.is_dialog_open = true;\n    };\n\n    closeResetDialog = (): void => {\n        this.is_dialog_open = false;\n    };\n\n    onResetOkButtonClick = (): void => {\n        runGroupedEvents(\n            false,\n            () => {\n                const workspace = Blockly.derivWorkspace;\n                workspace.current_strategy_id = Blockly.utils.genUid();\n                load({\n                    block_string: workspace.cached_xml.main,\n                    file_name: config.default_file_name,\n                    workspace,\n                });\n                Blockly.derivWorkspace.strategy_to_load = workspace.cached_xml.main;\n            },\n            'reset'\n        );\n        this.is_dialog_open = false;\n\n        const { run_panel } = this.root_store;\n        if (run_panel.is_running) {\n            this.root_store.run_panel.stopBot();\n        }\n    };\n\n    onSortClick = () => {\n        Blockly.derivWorkspace.cleanUp();\n    };\n\n    onUndoClick = (is_redo: boolean): void => {\n        Blockly.Events.setGroup('undo_clicked');\n        Blockly.derivWorkspace.undo(is_redo);\n        Blockly.svgResize(Blockly.derivWorkspace); // Called for CommentDelete event.\n        this.setHasRedoStack();\n        this.setHasUndoStack();\n        Blockly.Events.setGroup(false);\n    };\n\n    onZoomInOutClick = (is_zoom_in: boolean): void => {\n        const workspace = Blockly.derivWorkspace;\n        const metrics = workspace.getMetrics();\n        const addition = is_zoom_in ? 1 : -1;\n\n        workspace.zoom(metrics.viewWidth / 2, metrics.viewHeight / 2, addition);\n    };\n\n    setHasUndoStack = (): void => {\n        this.has_undo_stack = Blockly.derivWorkspace?.hasUndoStack();\n    };\n\n    setHasRedoStack = (): void => {\n        this.has_redo_stack = Blockly.derivWorkspace?.hasRedoStack();\n    };\n}\n","import { action, makeObservable, observable, reaction } from 'mobx';\nimport { scrollWorkspace } from '@deriv/bot-skeleton';\nimport { isMobile } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\n\nexport default class ToolboxStore {\n    constructor(root_store, core) {\n        makeObservable(this, {\n            is_toolbox_open: observable,\n            is_search_loading: observable,\n            is_search_focus: observable,\n            sub_category_index: observable,\n            toolbox_dom: observable,\n            toolbox_examples: observable,\n            onMount: action.bound,\n            onUnmount: action.bound,\n            setWorkspaceOptions: action.bound,\n            adjustWorkspace: action.bound,\n            toggleDrawer: action.bound,\n            onToolboxItemClick: action.bound,\n            onToolboxItemExpand: action.bound,\n            getCategoryContents: action.bound,\n            getAllCategories: action.bound,\n            hasSubCategory: action.bound,\n            onSearch: action.bound,\n            onSearchBlur: action.bound,\n            onSearchClear: action.bound,\n            onSearchKeyUp: action.bound,\n            showSearch: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n    }\n\n    is_toolbox_open = true;\n    is_search_loading = false;\n    is_search_focus = false;\n    sub_category_index = [];\n    toolbox_dom = null;\n    toolbox_examples = null;\n\n    onMount(toolbox_ref) {\n        this.adjustWorkspace();\n\n        this.toolbox_dom = Blockly.Xml.textToDom(toolbox_ref?.current);\n        this.toolbox_examples = [...this.toolbox_dom.childNodes].find(el => el.tagName === 'examples');\n        this.setWorkspaceOptions();\n        this.disposeToolboxToggleReaction = reaction(\n            () => this.is_toolbox_open,\n            is_toolbox_open => {\n                if (is_toolbox_open) {\n                    this.adjustWorkspace();\n                    // Emit event to GTM\n                    const { gtm } = this.core;\n                    gtm.pushDataLayer({ event: 'dbot_toolbox_visible', value: true });\n                }\n            }\n        );\n    }\n\n    onUnmount() {\n        if (typeof this.disposeToolboxToggleReaction === 'function') {\n            this.disposeToolboxToggleReaction();\n        }\n    }\n\n    setWorkspaceOptions() {\n        const workspace = Blockly.derivWorkspace;\n        const readOnly = !!workspace.options.readOnly;\n        let languageTree, hasCategories, hasCollapse, hasComments, hasDisable;\n\n        if (readOnly) {\n            languageTree = null;\n            hasCategories = false;\n            hasCollapse = false;\n            hasComments = false;\n            hasDisable = false;\n        } else {\n            languageTree = this.toolbox_dom;\n            hasCategories = Boolean(languageTree && languageTree.getElementsByTagName('category').length);\n            hasCollapse = hasCategories;\n            hasComments = hasCategories;\n            hasDisable = hasCategories;\n        }\n\n        workspace.options.collapse = hasCollapse;\n        workspace.options.comments = hasComments;\n        workspace.options.disable = hasDisable;\n        workspace.options.hasCategories = hasCategories;\n        workspace.options.languageTree = languageTree;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    adjustWorkspace() {\n        const workspace = Blockly.derivWorkspace;\n        const toolbox_width = document.getElementById('gtm-toolbox')?.getBoundingClientRect().width || 0;\n        const block_canvas_rect = workspace.svgBlockCanvas_?.getBoundingClientRect(); // eslint-disable-line\n\n        if (Math.round(block_canvas_rect?.left) <= toolbox_width) {\n            const scroll_distance = isMobile()\n                ? toolbox_width - block_canvas_rect.left + 20\n                : toolbox_width - block_canvas_rect.left + 36;\n            scrollWorkspace(workspace, scroll_distance, true, false);\n        }\n    }\n\n    toggleDrawer() {\n        this.is_toolbox_open = !this.is_toolbox_open;\n    }\n\n    onToolboxItemClick(category) {\n        const { flyout } = this.root_store;\n        const category_id = category.getAttribute('id');\n        const flyout_content = this.getCategoryContents(category);\n\n        flyout.setIsSearchFlyout(false);\n\n        if (flyout.selected_category?.getAttribute('id') === category_id) {\n            flyout.setVisibility(false);\n        } else {\n            flyout.setSelectedCategory(category);\n            flyout.setContents(flyout_content);\n        }\n    }\n\n    onToolboxItemExpand(index) {\n        if (this.sub_category_index.includes(index)) {\n            const open_ids = this.sub_category_index.filter(open_id => open_id !== index);\n            this.sub_category_index = open_ids;\n        } else {\n            this.sub_category_index = [...this.sub_category_index, index];\n        }\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getCategoryContents(category) {\n        const workspace = Blockly.derivWorkspace;\n        const dynamic = category.getAttribute('dynamic');\n        let xml_list = Array.from(category.childNodes);\n\n        // Dynamic categories\n        if (typeof dynamic === 'string') {\n            const fnToApply = workspace.getToolboxCategoryCallback(dynamic);\n            xml_list = fnToApply(workspace);\n        }\n\n        return xml_list;\n    }\n\n    getAllCategories() {\n        const categories = [];\n        Array.from(this.toolbox_dom.childNodes).forEach(category => {\n            categories.push(category);\n            if (this.hasSubCategory(category.children)) {\n                Array.from(category.children).forEach(subCategory => {\n                    categories.push(subCategory);\n                });\n            }\n        });\n        return categories;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    hasSubCategory(category) {\n        // eslint-disable-next-line consistent-return\n        const subCategory = Object.keys(category).filter(key => {\n            if (category[key].tagName.toUpperCase() === 'CATEGORY') {\n                return category[key];\n            }\n        });\n        if (subCategory.length) {\n            return true;\n        }\n        return false;\n    }\n\n    onSearch({ search }) {\n        this.is_search_focus = true;\n        this.showSearch(search);\n    }\n\n    onSearchBlur() {\n        this.is_search_focus = false;\n    }\n\n    onSearchClear(setFieldValue) {\n        setFieldValue('search', '');\n        this.showSearch('');\n    }\n\n    onSearchKeyUp(submitForm) {\n        this.is_search_loading = true;\n\n        clearTimeout(this.typing_timer);\n        this.typing_timer = setTimeout(\n            action(() => {\n                submitForm();\n                this.is_search_loading = false;\n            }),\n            1000\n        );\n    }\n\n    showSearch(search) {\n        const workspace = Blockly.derivWorkspace;\n        const flyout_content = [];\n        const search_term = search.replace(/\\s+/g, ' ').trim().toUpperCase();\n        const search_words = search_term.split(' ');\n        const all_variables = workspace.getVariablesOfType('');\n        const all_procedures = Blockly.Procedures.allProcedures(workspace);\n        const { flyout } = this.root_store;\n\n        flyout.setVisibility(false);\n\n        // avoid general term which the result will return most of the blocks\n        const general_term = [\n            localize('THE'),\n            localize('OF'),\n            localize('YOU'),\n            localize('IS'),\n            localize('THIS'),\n            localize('THEN'),\n            localize('A'),\n            localize('AN'),\n        ];\n\n        if (search_term.length === 0) {\n            return;\n        } else if (search_term.length <= 1 || search_words.every(term => general_term.includes(term))) {\n            flyout.setIsSearchFlyout(true);\n            flyout.setContents(flyout_content, search);\n            return;\n        }\n\n        const all_categories = this.getAllCategories();\n\n        const block_contents = all_categories\n            .filter(category => !this.hasSubCategory(category.children))\n            .map(category => {\n                const contents = this.getCategoryContents(category);\n\n                const only_block_contents = Array.from(contents).filter(\n                    content => content.tagName.toUpperCase() === 'BLOCK'\n                );\n                return only_block_contents;\n            })\n            .flat();\n\n        const pushIfNotExists = (array, element_to_push) => {\n            if (!array.some(element => element === element_to_push)) {\n                array.push(element_to_push);\n            }\n        };\n\n        const pushBlockWithPriority = priority => {\n            block_contents.forEach(block_content => {\n                const block_type = block_content.getAttribute('type');\n                const block = Blockly.Blocks[block_type];\n                const block_meta = block.meta instanceof Function && block.meta();\n                const block_definitions = block.definition instanceof Function && block.definition();\n                const block_name = block_meta.display_name;\n                const block_type_terms = block_type.toUpperCase().split('_');\n                const block_name_terms = block_name.toUpperCase().split(' ');\n                const definition_key_to_search = /^((message)|(tooltip)|(category))/;\n\n                switch (priority) {\n                    // when the search text match exactly the block's name\n                    case 'exact_block_name': {\n                        if (search_term === block_name.toUpperCase() || search_term === block_type.toUpperCase()) {\n                            pushIfNotExists(flyout_content, block_content);\n                        }\n                        break;\n                    }\n                    // when there's multiple search text and all the search text match block's name or block type\n                    case 'match_words': {\n                        if (\n                            search_words.every(word => block_name_terms.some(term => term.includes(word))) ||\n                            search_words.every(word => block_type_terms.some(term => term.includes(word)))\n                        ) {\n                            pushIfNotExists(flyout_content, block_content);\n                        }\n                        break;\n                    }\n                    // when some of search word match block's name or block's type\n                    case 'block_term': {\n                        if (\n                            block_type_terms.some(term => search_words.some(word => term.includes(word))) ||\n                            block_name_terms.some(term => search_words.some(word => term.includes(word)))\n                        ) {\n                            pushIfNotExists(flyout_content, block_content);\n                        }\n                        break;\n                    }\n                    case 'block_definitions': {\n                        // eslint-disable-next-line consistent-return\n                        Object.keys(block_definitions).forEach(key => {\n                            const definition = block_definitions[key];\n\n                            if (\n                                definition_key_to_search.test(key) &&\n                                search_words.some(word => definition.includes(word))\n                            ) {\n                                pushIfNotExists(flyout_content, block_content);\n                            }\n\n                            if (definition instanceof Array) {\n                                definition.forEach(def => {\n                                    const definition_strings = JSON.stringify(def).toUpperCase();\n\n                                    if (\n                                        def.type === 'field_dropdown' &&\n                                        search_term.length > 2 &&\n                                        search_words.some(word => definition_strings.includes(word))\n                                    ) {\n                                        pushIfNotExists(flyout_content, block_content);\n                                    }\n                                });\n                            }\n                        });\n                        break;\n                    }\n                    case 'block_meta': {\n                        // block_meta matched\n                        const matched_meta = Object.keys(block_meta)\n                            .filter(key => key !== 'display_name')\n                            .find(key => {\n                                const block_meta_strings = block_meta[key]\n                                    .toUpperCase()\n                                    .replace(/[^\\w\\s]/gi, '')\n                                    .split(' ');\n\n                                return search_words.some(word => block_meta_strings.some(meta => meta.includes(word)));\n                            });\n\n                        if (matched_meta && matched_meta.length) {\n                            pushIfNotExists(flyout_content, block_content);\n                        }\n                        break;\n                    }\n                    default:\n                        break;\n                }\n            });\n        };\n\n        const priority_order = ['exact_block_name', 'match_words', 'block_term', 'block_definitions', 'block_meta'];\n\n        priority_order.forEach(priority => pushBlockWithPriority(priority));\n\n        // block_variable_name matched\n        const matched_variables = all_variables.filter(variable => variable.name.toUpperCase().includes(search_term));\n        const variables_blocks = Blockly.DataCategory.search(matched_variables);\n        // eslint-disable-next-line consistent-return\n        const unique_var_blocks = variables_blocks.filter(variable_block => {\n            return flyout_content.indexOf(variable_block) === -1;\n        });\n        if (unique_var_blocks && unique_var_blocks.length) {\n            flyout_content.unshift(...unique_var_blocks);\n        }\n\n        // block_procedure_name matched\n        const searched_procedures = { 0: [], 1: [] };\n        const procedures_callnoreturn = all_procedures[0];\n        const procedures_callreturn = all_procedures[1];\n        Object.keys(procedures_callnoreturn).forEach(key => {\n            const procedure = procedures_callnoreturn[key];\n\n            if (procedure[0].toUpperCase().includes(search_term)) {\n                searched_procedures['0'].unshift(procedure);\n            }\n        });\n\n        Object.keys(procedures_callreturn).forEach(key => {\n            const procedure = procedures_callreturn[key];\n\n            if (procedure[0].toUpperCase().includes(search_term)) {\n                searched_procedures['1'].unshift(procedure);\n            }\n        });\n\n        const procedures_blocks = Blockly.Procedures.populateDynamicProcedures(searched_procedures);\n        // eslint-disable-next-line consistent-return\n        const unique_proce_blocks = procedures_blocks.filter(procedure_block => {\n            return flyout_content.indexOf(procedure_block) === -1;\n        });\n        if (unique_proce_blocks.length) {\n            flyout_content.unshift(...unique_proce_blocks);\n        }\n\n        flyout.setIsSearchFlyout(true);\n        flyout.setContents(flyout_content, search);\n    }\n}\n","export const transaction_elements = Object.freeze({\n    CONTRACT: 'contract',\n    DIVIDER: 'divider',\n});\n","import { action, computed, makeObservable, observable, reaction } from 'mobx';\nimport { log_types } from '@deriv/bot-skeleton';\nimport { formatDate, isBot, isEnded } from '@deriv/shared';\nimport { transaction_elements } from '../constants/transactions';\nimport { getStoredItemsByKey, getStoredItemsByUser, setStoredItemsByKey } from '../utils/session-storage';\n\nexport default class TransactionsStore {\n    constructor(root_store, core) {\n        makeObservable(this, {\n            elements: observable,\n            active_transaction_id: observable,\n            recovered_completed_transactions: observable,\n            recovered_transactions: observable,\n            is_called_proposal_open_contract: observable,\n            is_transaction_details_modal_open: observable,\n            transactions: computed,\n            onBotContractEvent: action.bound,\n            pushTransaction: action.bound,\n            onClickOutsideTransaction: action.bound,\n            onMount: action.bound,\n            onUnmount: action.bound,\n            clear: action.bound,\n            setActiveTransactionId: action.bound,\n            registerReactions: action.bound,\n            recoverPendingContracts: action.bound,\n            updateResultsCompletedContract: action.bound,\n            sortOutPositionsBeforeAction: action.bound,\n            recoverPendingContractsById: action.bound,\n            toggleTransactionDetailsModal: action.bound,\n        });\n\n        this.is_transaction_details_modal_open = false;\n        this.root_store = root_store;\n        this.core = core;\n        this.disposeReactionsFn = this.registerReactions();\n    }\n\n    TRANSACTION_CACHE = 'transaction_cache';\n\n    elements = getStoredItemsByUser(this.TRANSACTION_CACHE, this.core?.client.loginid, []);\n    active_transaction_id = null;\n    recovered_completed_transactions = [];\n    recovered_transactions = [];\n    is_called_proposal_open_contract = false;\n    is_transaction_details_modal_open = false;\n\n    get transactions() {\n        return this.elements.filter(element => element.type === transaction_elements.CONTRACT);\n    }\n\n    toggleTransactionDetailsModal(is_open) {\n        this.is_transaction_details_modal_open = is_open;\n    }\n\n    onBotContractEvent(data) {\n        this.pushTransaction(data);\n    }\n\n    pushTransaction(data) {\n        const is_completed = isEnded(data);\n        const { run_id } = this.root_store.run_panel;\n        const contract = {\n            barrier: data.barrier,\n            buy_price: data.buy_price,\n            contract_id: data.contract_id,\n            contract_type: data.contract_type,\n            currency: data.currency,\n            date_start: formatDate(data.date_start, 'YYYY-M-D HH:mm:ss [GMT]'),\n            display_name: data.display_name,\n            entry_tick: data.entry_tick_display_value,\n            entry_tick_time: data.entry_tick_time && formatDate(data.entry_tick_time, 'YYYY-M-D HH:mm:ss [GMT]'),\n            exit_tick: data.exit_tick_display_value,\n            exit_tick_time: data.exit_tick_time && formatDate(data.exit_tick_time, 'YYYY-M-D HH:mm:ss [GMT]'),\n            high_barrier: data.high_barrier,\n            is_completed,\n            low_barrier: data.low_barrier,\n            payout: data.payout,\n            profit: is_completed && data.profit,\n            run_id,\n            shortcode: data.shortcode,\n            tick_count: data.tick_count,\n            transaction_ids: data.transaction_ids,\n            underlying: data.underlying,\n        };\n\n        const same_contract_index = this.elements.findIndex(\n            c =>\n                c.type === transaction_elements.CONTRACT &&\n                c.data.transaction_ids &&\n                c.data.transaction_ids.buy === data.transaction_ids.buy\n        );\n\n        if (same_contract_index === -1) {\n            // Render a divider if the \"run_id\" for this contract is different.\n            if (this.elements.length > 0) {\n                const is_new_run =\n                    this.elements[0].type === transaction_elements.CONTRACT &&\n                    contract.run_id !== this.elements[0].data.run_id;\n\n                if (is_new_run) {\n                    this.elements.unshift({\n                        type: transaction_elements.DIVIDER,\n                        data: contract.run_id,\n                    });\n                }\n            }\n\n            this.elements.unshift({\n                type: transaction_elements.CONTRACT,\n                data: contract,\n            });\n        } else {\n            // If data belongs to existing contract in memory, update it.\n            this.elements.splice(same_contract_index, 1, {\n                type: transaction_elements.CONTRACT,\n                data: contract,\n            });\n        }\n\n        this.elements = this.elements.slice(); // force array update\n    }\n\n    setActiveTransactionId(transaction_id) {\n        // Toggle transaction popover if passed transaction_id is the same.\n        if (transaction_id && this.active_transaction_id === transaction_id) {\n            this.active_transaction_id = null;\n        } else {\n            this.active_transaction_id = transaction_id;\n        }\n    }\n\n    onClickOutsideTransaction(event) {\n        const path = event.path || (event.composedPath && event.composedPath());\n        const is_transaction_click = path.some(\n            el => el.classList && el.classList.contains('transactions__item-wrapper')\n        );\n        if (!is_transaction_click) {\n            this.setActiveTransactionId(null);\n        }\n    }\n\n    onMount() {\n        window.addEventListener('click', this.onClickOutsideTransaction);\n        this.recoverPendingContracts();\n    }\n\n    onUnmount() {\n        window.removeEventListener('click', this.onClickOutsideTransaction);\n    }\n\n    clear() {\n        this.elements = this.elements.slice(0, 0);\n        this.recovered_completed_transactions = this.recovered_completed_transactions.slice(0, 0);\n        this.recovered_transactions = this.recovered_transactions.slice(0, 0);\n        this.is_transaction_details_modal_open = false;\n    }\n\n    registerReactions() {\n        const { client } = this.core;\n\n        // Write transactions to session storage on each change in transaction elements.\n        const disposeTransactionElementsListener = reaction(\n            () => this.elements,\n            elements => {\n                const stored_transactions = getStoredItemsByKey(this.TRANSACTION_CACHE, {});\n                stored_transactions[client.loginid] = elements.slice(0, 5000);\n                setStoredItemsByKey(this.TRANSACTION_CACHE, stored_transactions);\n            }\n        );\n\n        // User could've left the page mid-contract. On initial load, try\n        // to recover any pending contracts so we can reflect accurate stats\n        // and transactions.\n        const disposeRecoverContracts = reaction(\n            () => this.transactions.length,\n            () => this.recoverPendingContracts()\n        );\n\n        const disposeSwitchAcountListener = reaction(\n            () => client.loginid,\n            () => this.clear()\n        );\n\n        return () => {\n            disposeTransactionElementsListener();\n            disposeRecoverContracts();\n            if (typeof this.disposeSwitchAcountListener === 'function') {\n                disposeSwitchAcountListener();\n            }\n        };\n    }\n\n    recoverPendingContracts() {\n        this.transactions.forEach(({ data: trx }) => {\n            if (trx.is_completed || this.recovered_transactions.includes(trx.contract_id)) return;\n            this.recoverPendingContractsById(trx.contract_id);\n        });\n    }\n\n    updateResultsCompletedContract(contract) {\n        const { journal, summary_card } = this.root_store;\n        const { contract_info } = summary_card;\n        const { currency, profit } = contract;\n\n        if (contract.contract_id !== contract_info?.contract_id) {\n            this.onBotContractEvent(contract);\n\n            if (!this.recovered_transactions.includes(contract.contract_id)) {\n                this.recovered_transactions.push(contract.contract_id);\n            }\n            if (!this.recovered_completed_transactions.includes(contract.contract_id) && isEnded(contract)) {\n                this.recovered_completed_transactions.push(contract.contract_id);\n\n                journal.onLogSuccess({\n                    log_type: profit > 0 ? log_types.PROFIT : log_types.LOST,\n                    extra: { currency, profit },\n                });\n            }\n        }\n    }\n\n    sortOutPositionsBeforeAction(positions, element_id = false) {\n        positions?.forEach(position => {\n            if (!element_id || (element_id && position.id === element_id)) {\n                const contract_details = position.contract_info;\n                this.updateResultsCompletedContract(contract_details);\n            }\n        });\n    }\n\n    recoverPendingContractsById(contract_id) {\n        const { ws } = this.root_store;\n        const positions = this.core.portfolio.positions;\n\n        // TODO: the idea is to remove the POC calls completely\n        // but adding this check to prevent making POC calls only for bot as of now\n        if (!isBot()) {\n            ws.authorized.subscribeProposalOpenContract(contract_id, response => {\n                this.is_called_proposal_open_contract = true;\n                if (!response.error) {\n                    const { proposal_open_contract } = response;\n                    this.updateResultsCompletedContract(proposal_open_contract);\n                }\n            });\n        }\n\n        if (!this.is_called_proposal_open_contract) {\n            if (!this.elements.length) {\n                this.sortOutPositionsBeforeAction(positions);\n            }\n            if (this.elements.length && !this.elements[0].data.profit) {\n                const element_id = this.elements[0].data.contract_id;\n                this.sortOutPositionsBeforeAction(positions, element_id);\n            }\n        }\n    }\n}\n","import type { TDbot, TRootStore, TWebSocket } from 'Types';\nimport AppStore from './app-store';\nimport BlocklyStore from './blockly-store';\nimport ChartStore from './chart-store';\nimport DashboardStore from './dashboard-store';\nimport DataCollectionStore from './data-collection-store';\nimport DownloadStore from './download-store';\nimport FlyoutHelpStore from './flyout-help-store';\nimport FlyoutStore from './flyout-store';\nimport GoogleDriveStore from './google-drive-store';\nimport JournalStore from './journal-store';\nimport LoadModalStore from './load-modal-store';\nimport QuickStrategyStore from './quick-strategy-store';\nimport RoutePromptDialogStore from './route-prompt-dialog-store';\nimport RunPanelStore from './run-panel-store';\nimport SaveModalStore from './save-modal-store';\nimport SelfExclusionStore from './self-exclusion-store';\nimport SummaryCardStore from './summary-card-store';\nimport SummaryStore from './summary-store';\nimport ToolbarStore from './toolbar-store';\nimport ToolboxStore from './toolbox-store';\nimport TransactionsStore from './transactions-store';\n\n// TODO: need to write types for the individual classes and convert them to ts\nexport default class RootStore {\n    public ws: TWebSocket;\n    public dbot: TDbot;\n    public app: AppStore;\n    public summary_card: SummaryCardStore;\n    public download: DownloadStore;\n    public flyout: FlyoutStore;\n    public flyout_help: FlyoutHelpStore;\n    public google_drive: GoogleDriveStore;\n    public journal: JournalStore;\n    public load_modal: LoadModalStore;\n    public run_panel: RunPanelStore;\n    public save_modal: SaveModalStore;\n    public summary: SummaryStore;\n    public transactions: TransactionsStore;\n    public toolbar: ToolbarStore;\n    public toolbox: ToolboxStore;\n    public quick_strategy: QuickStrategyStore;\n    public route_prompt_dialog: RoutePromptDialogStore;\n    public self_exclusion: SelfExclusionStore;\n    public dashboard: DashboardStore;\n\n    public chart_store: ChartStore;\n    public blockly_store: BlocklyStore;\n    public data_collection_store: DataCollectionStore;\n\n    constructor(core: TRootStore, ws: TWebSocket, dbot: TDbot) {\n        this.ws = ws;\n        this.dbot = dbot;\n        this.app = new AppStore(this, core);\n        this.summary_card = new SummaryCardStore(this, core);\n        this.download = new DownloadStore(this);\n        this.flyout = new FlyoutStore(this);\n        this.flyout_help = new FlyoutHelpStore(this);\n        this.google_drive = new GoogleDriveStore(this);\n        this.journal = new JournalStore(this, core);\n        this.load_modal = new LoadModalStore(this);\n        this.run_panel = new RunPanelStore(this, core);\n        this.save_modal = new SaveModalStore(this);\n        this.summary = new SummaryStore(this);\n        this.transactions = new TransactionsStore(this, core);\n        this.toolbar = new ToolbarStore(this);\n        this.toolbox = new ToolboxStore(this, core);\n        this.quick_strategy = new QuickStrategyStore(this);\n        this.route_prompt_dialog = new RoutePromptDialogStore(this, core);\n        this.self_exclusion = new SelfExclusionStore(this, core);\n        this.dashboard = new DashboardStore(this);\n\n        // need to be at last for dependency\n        this.chart_store = new ChartStore(this);\n        this.blockly_store = new BlocklyStore(this);\n        this.data_collection_store = new DataCollectionStore(this, core);\n    }\n}\n","import React, { createContext, PropsWithChildren, useContext, useMemo } from 'react';\nimport { DBot } from '@deriv/bot-skeleton';\nimport { useStore } from '@deriv/stores';\nimport type { TWebSocket } from 'Types';\nimport RootStore from './root-store';\n\nconst DBotStoreContext = createContext<RootStore | null>(null);\n\nconst DBotStoreProvider = ({ children, ws, mock }: PropsWithChildren<{ ws: TWebSocket; mock?: RootStore }>) => {\n    const stores = useStore();\n    const memoizedValue = useMemo(() => mock || new RootStore(stores, ws, DBot), [mock, stores, ws]);\n\n    return <DBotStoreContext.Provider value={memoizedValue}>{children}</DBotStoreContext.Provider>;\n};\n\nconst useDBotStore = () => {\n    const store = useContext(DBotStoreContext);\n\n    if (!store) {\n        throw new Error('useDBotStore must be used within DBotStoreProvider');\n    }\n\n    return store;\n};\n\nexport { DBotStoreProvider, useDBotStore };\n\nexport const mockDBotStore = (root_store: ReturnType<typeof useStore>, ws: TWebSocket) =>\n    new RootStore(root_store, ws, DBot);\n","import React from 'react';\nimport classNames from 'classnames';\nimport { observer, useStore } from '@deriv/stores';\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst { BOT_BUILDER, CHART } = DBOT_TABS;\n\nconst BotNotificationMessages = observer(() => {\n    const { ui } = useStore();\n    const { run_panel, dashboard } = useDBotStore();\n\n    const { is_drawer_open } = run_panel;\n    const Notifications = ui.notification_messages_ui;\n    const { active_tab, is_info_panel_visible } = dashboard;\n\n    return (\n        <div\n            className={classNames('notifications-container', {\n                'notifications-container__dashboard': active_tab === 0 && is_info_panel_visible,\n                'notifications-container--panel-open': [BOT_BUILDER, CHART].includes(active_tab) && is_drawer_open,\n            })}\n        >\n            <Notifications />\n        </div>\n    );\n});\n\nexport default BotNotificationMessages;\n","import BotNotificationMessages from './bot-notification-messages';\nimport './bot-notification-messages.scss';\n\nexport default BotNotificationMessages;\n","import React from 'react';\nimport { ChartMode, DrawTools, Share, StudyLegend, ToolbarWidget, Views } from '@deriv/deriv-charts';\nimport { isDesktop, isMobile } from '@deriv/shared';\n\ntype TToolbarWidgetsProps = {\n    updateChartType: (chart_type: string) => void;\n    updateGranularity: (updateGranularity: number) => void;\n};\n\nconst ToolbarWidgets = ({ updateChartType, updateGranularity }: TToolbarWidgetsProps) => (\n    <ToolbarWidget position={isMobile() ? 'bottom' : null}>\n        <ChartMode portalNodeId='modal_root' onChartType={updateChartType} onGranularity={updateGranularity} />\n        {isDesktop() && (\n            <>\n                <StudyLegend portalNodeId='modal_root' searchInputClassName='data-hj-whitelist' />\n                <Views portalNodeId='modal_root' searchInputClassName='data-hj-whitelist' />\n                <DrawTools portalNodeId='modal_root' />\n                <Share portalNodeId='modal_root' />\n            </>\n        )}\n    </ToolbarWidget>\n);\n\nexport default ToolbarWidgets;\n","import React from 'react';\nimport classNames from 'classnames';\n// TODO Remove this after smartcharts is replaced\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport { ChartTitle, SmartChart } from '@deriv/deriv-charts';\nimport { isDesktop, isMobile } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport ToolbarWidgets from './toolbar-widgets';\n\nconst Chart = observer(({ show_digits_stats }: { show_digits_stats: boolean }) => {\n    const barriers: [] = [];\n    const { common, ui } = useStore();\n    const { chart_store, run_panel } = useDBotStore();\n\n    const {\n        chart_type,\n        getMarketsOrder,\n        granularity,\n        onSymbolChange,\n        setChartStatus,\n        symbol,\n        updateChartType,\n        updateGranularity,\n        wsForget,\n        wsForgetStream,\n        wsSendRequest,\n        wsSubscribe,\n    } = chart_store;\n    const { is_drawer_open } = run_panel;\n    const is_socket_opened = common.is_socket_opened;\n    const settings = {\n        assetInformation: false, // ui.is_chart_asset_info_visible,\n        countdown: true,\n        isHighestLowestMarkerEnabled: false, // TODO: Pending UI,\n        language: common.current_language.toLowerCase(),\n        position: ui.is_chart_layout_default ? 'bottom' : 'left',\n        theme: ui.is_dark_mode_on ? 'dark' : 'light',\n    };\n\n    return (\n        <div\n            className={classNames('dashboard__chart-wrapper', {\n                'dashboard__chart-wrapper--expanded': is_drawer_open && !isMobile(),\n            })}\n        >\n            <SmartChart\n                id='dbot'\n                barriers={barriers}\n                showLastDigitStats={show_digits_stats}\n                chartControlsWidgets={null}\n                enabledChartFooter={false}\n                chartStatusListener={v => setChartStatus(!v)}\n                toolbarWidget={() => (\n                    <ToolbarWidgets updateChartType={updateChartType} updateGranularity={updateGranularity} />\n                )}\n                chartType={chart_type}\n                isMobile={isMobile()}\n                enabledNavigationWidget={isDesktop()}\n                granularity={granularity}\n                requestAPI={wsSendRequest}\n                requestForget={wsForget}\n                requestForgetStream={wsForgetStream}\n                requestSubscribe={wsSubscribe}\n                settings={settings}\n                symbol={symbol}\n                topWidgets={() => <ChartTitle onChange={onSymbolChange} />}\n                isConnectionOpened={is_socket_opened}\n                getMarketsOrder={getMarketsOrder}\n            />\n        </div>\n    );\n});\n\nexport default Chart;\n","import Chart from './chart';\nimport './chart.scss';\n\nexport default Chart;\n","import React from 'react';\nimport ContentLoader from 'react-content-loader';\n\ntype TContractCardLoader = {\n    speed?: number;\n};\n\nconst ContractCardLoader = ({ speed = 3 }: TContractCardLoader) => (\n    <ContentLoader\n        height={153}\n        width={334}\n        speed={speed}\n        backgroundColor={'var(--general-section-2)'}\n        foregroundColor={'var(--general-hover)'}\n    >\n        <rect x='12' y='15' rx='0' ry='0' width='41' height='25' />\n        <rect x='61' y='24' rx='0' ry='0' width='91' height='8' />\n        <rect x='180' y='15' rx='0' ry='0' width='41' height='25' />\n        <rect x='229' y='24' rx='0' ry='0' width='91' height='8' />\n        <rect x='12' y='48' rx='0' ry='0' width='60' height='8' />\n        <rect x='12' y='64' rx='0' ry='0' width='308' height='8' />\n        <rect x='12' y='80' rx='0' ry='0' width='308' height='1' />\n        <rect x='12' y='89' rx='0' ry='0' width='140' height='8' />\n        <rect x='12' y='105' rx='0' ry='0' width='60' height='8' />\n        <rect x='12' y='121' rx='0' ry='0' width='140' height='8' />\n        <rect x='12' y='137' rx='0' ry='0' width='60' height='8' />\n        <rect x='180' y='89' rx='0' ry='0' width='140' height='8' />\n        <rect x='180' y='105' rx='0' ry='0' width='60' height='8' />\n        <rect x='180' y='121' rx='0' ry='0' width='140' height='8' />\n        <rect x='180' y='137' rx='0' ry='0' width='60' height='8' />\n    </ContentLoader>\n);\n\nexport default ContractCardLoader;\n","import ContractCardLoader from './contract-card-loading';\n\nexport default ContractCardLoader;\n","import ContractResultOverlay from './contract-result-overlay';\nimport './contract-result-overlay.scss';\n\nexport default ContractResultOverlay;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Icon, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\n\ntype TContractResultOverlayProps = {\n    profit: number;\n    className: string;\n};\n\nconst ContractResultOverlay = ({ profit, className }: TContractResultOverlayProps) => {\n    const has_won_contract = profit >= 0;\n\n    return (\n        <div\n            className={classNames('db-contract-card__result', className, {\n                'db-contract-card__result--won': has_won_contract,\n                'db-contract-card__result--lost': !has_won_contract,\n            })}\n        >\n            <Text weight='bold' className='db-contract-card__result-caption'>\n                {has_won_contract ? (\n                    <React.Fragment>\n                        {localize('Won')}\n                        <Icon icon='IcCheckmarkCircle' className='db-contract-card__result-icon' color='green' />\n                    </React.Fragment>\n                ) : (\n                    <React.Fragment>\n                        {localize('Lost')}\n                        <Icon icon='IcCrossCircle' className='db-contract-card__result-icon' color='red' />\n                    </React.Fragment>\n                )}\n            </Text>\n        </div>\n    );\n};\n\nexport default ContractResultOverlay;\n","import React from 'react';\nimport { TDateItemProps } from '../journal.types';\n\nconst DateItem = ({ date, time }: TDateItemProps) => (\n    <>\n        <span className='journal__text-date'>{date}</span> | <span className='journal__text-time'>{time}</span>\n    </>\n);\n\nexport default DateItem;\n","import React from 'react';\nimport { useOnClickOutside } from '@deriv/components';\nimport { TFilterDialogProps } from '../journal.types';\nimport { Filters } from '.';\n\nconst FilterDialog = ({\n    toggle_ref,\n    checked_filters,\n    filters,\n    filterMessage,\n    is_filter_dialog_visible,\n    toggleFilterDialog,\n}: TFilterDialogProps) => {\n    const wrapper_ref = React.useRef<HTMLDivElement>(null);\n    const validateClickOutside = (event: React.ChangeEvent<HTMLInputElement>) =>\n        is_filter_dialog_visible && !toggle_ref.current?.contains(event.target);\n\n    useOnClickOutside(wrapper_ref, toggleFilterDialog, validateClickOutside);\n\n    return (\n        <Filters\n            wrapper_ref={wrapper_ref}\n            checked_filters={checked_filters}\n            filters={filters}\n            filterMessage={filterMessage}\n            className='filter-dialog'\n        />\n    );\n};\n\nexport default FilterDialog;\n","import React from 'react';\nimport { Checkbox } from '@deriv/components';\nimport { TFiltersProps } from '../journal.types';\n\nconst Filters = ({\n    wrapper_ref,\n    checked_filters,\n    filters,\n    filterMessage,\n    className,\n    classNameLabel,\n}: TFiltersProps) => (\n    <div ref={wrapper_ref} className={className}>\n        {filters.map(item => {\n            const hasFilter = Array.isArray(checked_filters) && checked_filters.includes(item.id);\n            return (\n                <Checkbox\n                    key={item.id}\n                    classNameLabel={classNameLabel}\n                    value={hasFilter}\n                    defaultChecked={hasFilter}\n                    label={item.label}\n                    onChange={() => filterMessage(!hasFilter, item.id)}\n                />\n            );\n        })}\n    </div>\n);\n\nexport default Filters;\n","import React from 'react';\nimport classnames from 'classnames';\nimport { log_types } from '@deriv/bot-skeleton';\nimport { Text } from '@deriv/components';\nimport { formatMoney, getCurrencyDisplayCode } from '@deriv/shared';\nimport { Localize, localize } from '@deriv/translations';\nimport { TFormatMessageProps } from '../journal.types';\n\nconst FormatMessage = ({ logType, className, extra }: TFormatMessageProps) => {\n    const getLogMessage = () => {\n        switch (logType) {\n            case log_types.LOAD_BLOCK: {\n                return localize('Blocks are loaded successfully');\n            }\n            case log_types.NOT_OFFERED: {\n                return localize('Resale of this contract is not offered.');\n            }\n            case log_types.PURCHASE: {\n                const { longcode, transaction_id } = extra;\n                return (\n                    <Localize\n                        i18n_default_text='<0>Bought</0>: {{longcode}} (ID: {{transaction_id}})'\n                        values={{ longcode, transaction_id }}\n                        components={[<Text key={0} size='xxs' styles={{ color: 'var(--status-info)' }} />]}\n                        options={{ interpolation: { escapeValue: false } }}\n                    />\n                );\n            }\n            case log_types.SELL: {\n                const { sold_for } = extra;\n                return (\n                    <Localize\n                        i18n_default_text='<0>Sold for</0>: {{sold_for}}'\n                        values={{ sold_for }}\n                        components={[<Text key={0} size='xxs' styles={{ color: 'var(--status-warning)' }} />]}\n                    />\n                );\n            }\n            case log_types.PROFIT: {\n                const { currency, profit } = extra;\n                return (\n                    <Localize\n                        i18n_default_text='Profit amount: <0>{{profit}}</0>'\n                        values={{\n                            profit: `${formatMoney(currency, profit, true)} ${getCurrencyDisplayCode(currency)}`,\n                        }}\n                        components={[<Text key={0} size='xxs' styles={{ color: 'var(--status-success)' }} />]}\n                    />\n                );\n            }\n            case log_types.LOST: {\n                const { currency, profit } = extra;\n                return (\n                    <Localize\n                        i18n_default_text='Loss amount: <0>{{profit}}</0>'\n                        values={{\n                            profit: `${formatMoney(currency, profit, true)} ${getCurrencyDisplayCode(currency)}`,\n                        }}\n                        components={[<Text key={0} size='xxs' styles={{ color: 'var(--status-danger)' }} />]}\n                    />\n                );\n            }\n            case log_types.WELCOME_BACK: {\n                return <Localize i18n_default_text='Welcome back! Your messages have been restored.' />;\n            }\n            default:\n                return null;\n        }\n    };\n\n    return <div className={classnames('journal__text', className)}>{getLogMessage()}</div>;\n};\n\nexport default FormatMessage;\n","import React from 'react';\nimport classnames from 'classnames';\nimport { CSSTransition } from 'react-transition-group';\nimport { message_types } from '@deriv/bot-skeleton';\nimport { useNewRowTransition } from '@deriv/shared';\nimport { TJournalItemExtra, TJournalItemProps } from '../journal.types';\nimport { DateItem, FormatMessage } from '.';\n\nconst getJournalItemContent = (\n    message: string | ((value: () => void) => string),\n    type: string,\n    className: string,\n    extra: TJournalItemExtra,\n    measure: () => void\n) => {\n    switch (type) {\n        case message_types.SUCCESS: {\n            return <FormatMessage logType={message as string} extra={extra} className={className} />;\n        }\n        case message_types.NOTIFY: {\n            if (typeof message === 'function') {\n                return <div className={classnames('journal__text', className)}>{message(measure)}</div>;\n            }\n            return <div className={classnames('journal__text', className)}>{message}</div>;\n        }\n        case message_types.ERROR: {\n            return <div className='journal__text--error journal__text'>{message as string}</div>;\n        }\n        default:\n            return null;\n    }\n};\n\nconst JournalItem = ({ row, is_new_row, measure }: TJournalItemProps) => {\n    const { in_prop } = useNewRowTransition(is_new_row);\n    const { date, time, message, message_type, className, extra } = row;\n    const date_el = DateItem({ date, time });\n\n    return (\n        <CSSTransition in={in_prop} timeout={500} classNames='list__animation'>\n            <div className='journal__item'>\n                <div className='journal__item-content'>\n                    {getJournalItemContent(message, message_type, className, extra as TJournalItemExtra, measure)}\n                </div>\n                <div className='journal__text-datetime'>{date_el}</div>\n            </div>\n        </CSSTransition>\n    );\n};\n\nexport default JournalItem;\n","import React from 'react';\nimport classnames from 'classnames';\nimport ContentLoader from 'react-content-loader';\n\nconst JournalLoader = ({ is_mobile }: { is_mobile: boolean }) => (\n    <ContentLoader\n        className={classnames('journal__loader', { 'journal__loader--mobile': is_mobile })}\n        speed={3}\n        width={350}\n        height={92}\n        backgroundColor={'var(--general-section-1)'}\n        foregroundColor={'var(--general-hover)'}\n    >\n        <rect x='15' y='15' rx='5' ry='5' width='320' height='40' />\n        <rect x='15' y='60' rx='5' ry='5' width='180' height='7' />\n    </ContentLoader>\n);\n\nexport default JournalLoader;\n","import React from 'react';\nimport { Button, Icon, Popover } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\ntype TDownloadProps = {\n    tab: string;\n};\n\nconst Download = observer(({ tab }: TDownloadProps) => {\n    const { download, run_panel } = useDBotStore();\n    const { is_clear_stat_disabled } = run_panel;\n    const { onClickDownloadTransaction, onClickDownloadJournal } = download;\n\n    let clickFunction, popover_message;\n    if (tab === 'transactions') {\n        clickFunction = onClickDownloadTransaction;\n        popover_message = localize('Download your transaction history.');\n    } else if (tab === 'journal') {\n        clickFunction = onClickDownloadJournal;\n        popover_message = localize('Download your journal.');\n    }\n    return (\n        <Popover\n            className='run-panel__info'\n            classNameBubble='run-panel__info--bubble'\n            alignment='bottom'\n            message={popover_message}\n            zIndex={5}\n        >\n            <Button\n                id='download-button'\n                is_disabled={is_clear_stat_disabled}\n                className='download__button'\n                icon={\n                    <Icon icon='IcDownload' color={is_clear_stat_disabled && 'disabled'} className='download__icon' />\n                }\n                onClick={clickFunction}\n            />\n        </Popover>\n    );\n});\n\nexport default Download;\n","import Download from './download';\nimport './download.scss';\n\nexport default Download;\n","import React from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport { DesktopWrapper, Icon, Text } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\nimport Download from 'Components/download';\nimport { TJournalToolsProps } from '../journal.types';\nimport { FilterDialog } from '.';\n\nconst JournalTools = ({\n    checked_filters,\n    filters,\n    filterMessage,\n    is_filter_dialog_visible,\n    toggleFilterDialog,\n}: TJournalToolsProps) => {\n    const toggle_ref = React.useRef<HTMLDivElement>(null);\n\n    return (\n        <>\n            <div className='journal-tools__container'>\n                <DesktopWrapper>\n                    <Download tab='journal' />\n                </DesktopWrapper>\n                <div ref={toggle_ref} className='journal-tools__container-filter' onClick={toggleFilterDialog}>\n                    <Text size='xs' className='journal-tools__container-filter--label'>\n                        <Localize i18n_default_text='Filters' />\n                    </Text>\n                    <Icon icon='IcFilter' size={16} />\n                </div>\n            </div>\n            <CSSTransition\n                in={is_filter_dialog_visible}\n                classNames={{\n                    enter: 'filter-dialog--enter',\n                    enterDone: 'filter-dialog--enter-done',\n                    exit: 'filter-dialog--exit',\n                }}\n                timeout={150}\n                unmountOnExit\n            >\n                <FilterDialog\n                    toggle_ref={toggle_ref}\n                    checked_filters={checked_filters}\n                    filters={filters}\n                    filterMessage={filterMessage}\n                    is_filter_dialog_visible={is_filter_dialog_visible}\n                    toggleFilterDialog={toggleFilterDialog}\n                />\n            </CSSTransition>\n        </>\n    );\n};\n\nexport default JournalTools;\n","import React from 'react';\nimport classnames from 'classnames';\nimport { DataList, Icon, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { contract_stages } from 'Constants/contract-stage';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { TCheckedFilters, TFilterMessageValues, TJournalDataListArgs } from './journal.types';\nimport { JournalItem, JournalLoader, JournalTools } from './journal-components';\n\nconst Journal = observer(() => {\n    const { journal, run_panel } = useDBotStore();\n    const {\n        checked_filters,\n        filterMessage,\n        filters,\n        filtered_messages,\n        is_filter_dialog_visible,\n        toggleFilterDialog,\n        unfiltered_messages,\n    } = journal;\n    const { is_stop_button_visible, contract_stage } = run_panel;\n\n    const filtered_messages_length = Array.isArray(filtered_messages) && filtered_messages.length;\n    const unfiltered_messages_length = Array.isArray(unfiltered_messages) && unfiltered_messages.length;\n    const is_mobile = isMobile();\n\n    return (\n        <div\n            className={classnames('journal run-panel-tab__content--no-stat', {\n                'run-panel-tab__content': !is_mobile,\n            })}\n        >\n            <JournalTools\n                checked_filters={checked_filters}\n                filters={filters}\n                filterMessage={filterMessage}\n                is_filter_dialog_visible={is_filter_dialog_visible}\n                toggleFilterDialog={toggleFilterDialog}\n            />\n            <div className='journal__item-list'>\n                {filtered_messages_length ? (\n                    <DataList\n                        className='journal'\n                        data_source={filtered_messages}\n                        rowRenderer={(args: TJournalDataListArgs) => <JournalItem {...args} />}\n                        keyMapper={(row: TFilterMessageValues) => row.unique_id}\n                    />\n                ) : (\n                    <>\n                        {contract_stage >= contract_stages.STARTING &&\n                        !!Object.keys(checked_filters as TCheckedFilters).length &&\n                        !unfiltered_messages_length &&\n                        is_stop_button_visible ? (\n                            <JournalLoader is_mobile={is_mobile} />\n                        ) : (\n                            <div className='journal-empty'>\n                                <Icon icon='IcBox' className='journal-empty__icon' size={64} color='secondary' />\n                                <Text\n                                    as='h4'\n                                    size='xs'\n                                    weight='bold'\n                                    align='center'\n                                    color='less-prominent'\n                                    line_height='xxs'\n                                    className='journal-empty__header'\n                                >\n                                    {localize('There are no messages to display')}\n                                </Text>\n                                <div className='journal-empty__message'>\n                                    <Text size='xxs' color='less-prominent'>\n                                        {localize('Here are the possible reasons:')}\n                                    </Text>\n                                    <ul className='journal-empty__list'>\n                                        <li>\n                                            <Text size='xxs' color='less-prominent'>\n                                                {localize('The bot is not running')}\n                                            </Text>\n                                        </li>\n                                        <li>\n                                            <Text size='xxs' color='less-prominent'>\n                                                {localize('The stats are cleared')}\n                                            </Text>\n                                        </li>\n                                        <li>\n                                            <Text size='xxs' color='less-prominent'>\n                                                {localize('All messages are filtered out')}\n                                            </Text>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        )}\n                    </>\n                )}\n            </div>\n        </div>\n    );\n});\n\nexport default Journal;\n","import Journal from './journal';\nimport './journal.scss';\n\nexport default Journal;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Field, Form, Formik } from 'formik';\nimport PropTypes from 'prop-types';\nimport { Button, Div100vhContainer, FadeWrapper, Input, MobileWrapper, Modal, PageOverlay } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst SelfExclusionForm = props => {\n    const [max_losses_error, setMaxLossesError] = React.useState('');\n    const {\n        is_onscreen_keyboard_active,\n        is_logged_in,\n        initial_values,\n        api_max_losses,\n        onRunButtonClick,\n        resetSelfExclusion,\n        updateSelfExclusion,\n        setRunLimit,\n        is_reality_check_visible,\n    } = props;\n\n    React.useEffect(() => {\n        if (is_reality_check_visible || !is_logged_in) {\n            resetSelfExclusion();\n        }\n    });\n\n    const onSubmitLimits = async values => {\n        if (values.form_max_losses !== api_max_losses) {\n            const set_losses = await updateSelfExclusion({ max_losses: values.form_max_losses });\n            if (set_losses?.error) {\n                setMaxLossesError(localize(set_losses.error.message));\n                return;\n            }\n        }\n        setRunLimit(values.run_limit);\n        onRunButtonClick();\n    };\n    const validateFields = values => {\n        const errors = {};\n        // Regex\n        const is_number = /^\\d+(\\.\\d+)?$/;\n        const is_integer = /^\\d+$/;\n        const max_number = 9999999999999;\n\n        // Messages\n        const requested_field_message = localize('This field is required.');\n        const valid_number_message = localize('Should be a valid number');\n        const max_number_message = localize('Reached maximum number of digits');\n        const max_decimal_message = localize('Reached maximum number of decimals');\n        const max_losses_limit_message = localize('Please enter a number between 0 and {{api_max_losses}}.', {\n            api_max_losses,\n        });\n        const requested_fields = ['run_limit', 'form_max_losses'];\n        const only_numbers = ['run_limit', 'form_max_losses'];\n        const decimal_limit = ['form_max_losses'];\n        const has_max_limit = ['form_max_losses'];\n\n        const only_integers = ['run_limit'];\n\n        requested_fields.forEach(item => {\n            if (!values[item]) {\n                errors[item] = requested_field_message;\n            }\n        });\n\n        only_numbers.forEach(item => {\n            if (values[item]) {\n                if (!is_number.test(values[item])) {\n                    errors[item] = valid_number_message;\n                } else if (+values[item] > max_number) {\n                    errors[item] = max_number_message;\n                }\n            }\n        });\n\n        only_integers.forEach(item => {\n            if (values[item]) {\n                if (!is_integer.test(values[item])) {\n                    errors[item] = valid_number_message;\n                }\n            }\n        });\n\n        decimal_limit.forEach(item => {\n            const amount_decimal_array = values[item].toString().split('.')[1];\n            const amount_decimal_places = amount_decimal_array ? amount_decimal_array.length || 0 : 0;\n            if (amount_decimal_places > 2) {\n                errors[item] = max_decimal_message;\n            }\n        });\n        has_max_limit.forEach(item => {\n            if (api_max_losses !== 0 && api_max_losses !== values[item] && api_max_losses < values[item]) {\n                errors[item] = max_losses_limit_message;\n            } else {\n                setMaxLossesError('');\n            }\n        });\n\n        return errors;\n    };\n\n    return (\n        <div className='db-self-exclusion'>\n            <div className='db-self-exclusion__content'>\n                <div className='db-self-exclusion__info'>\n                    {localize('Enter limits to stop your bot from trading when any of these conditions are met.')}\n                </div>\n                <Formik initialValues={initial_values} validate={validateFields} onSubmit={onSubmitLimits}>\n                    {({ values, touched, errors, isValid, handleChange }) => {\n                        return (\n                            <Form>\n                                <div className='db-self-exclusion__form-group'>\n                                    <Field name='form_max_losses'>\n                                        {({ field }) => (\n                                            <Input\n                                                {...field}\n                                                className='db-self-exclusion__input'\n                                                type='text'\n                                                label={localize('Daily loss limit')}\n                                                value={values.form_max_losses}\n                                                onChange={handleChange}\n                                                error={max_losses_error || (touched[field.name] && errors[field.name])}\n                                                hint={localize(\n                                                    'Limits your potential losses for the day across all Deriv platforms.'\n                                                )}\n                                            />\n                                        )}\n                                    </Field>\n                                </div>\n                                <div className='db-self-exclusion__form-group'>\n                                    <Field name='run_limit'>\n                                        {({ field }) => {\n                                            return (\n                                                <Input\n                                                    {...field}\n                                                    className='db-self-exclusion__input'\n                                                    type='text'\n                                                    label={localize('Maximum consecutive trades')}\n                                                    value={values.run_limit}\n                                                    onChange={handleChange}\n                                                    error={touched[field.name] && errors.run_limit}\n                                                    hint={localize(\n                                                        'Maximum number of trades your bot will execute for this run.'\n                                                    )}\n                                                />\n                                            );\n                                        }}\n                                    </Field>\n                                </div>\n                                <div\n                                    className={classNames('db-self-exclusion__footer', {\n                                        'db-self-exclusion__footer--relative':\n                                            isMobile() && is_onscreen_keyboard_active,\n                                    })}\n                                >\n                                    <div className='db-self-exclusion__footer-btn-group'>\n                                        <Button\n                                            large\n                                            text={localize('Cancel')}\n                                            onClick={resetSelfExclusion}\n                                            secondary\n                                            type='button'\n                                        />\n                                        <Button\n                                            type='submit'\n                                            large\n                                            text={localize('Apply and run')}\n                                            is_disabled={\n                                                !isValid ||\n                                                !values.run_limit ||\n                                                !values.form_max_losses ||\n                                                max_losses_error !== ''\n                                            }\n                                            primary\n                                        />\n                                    </div>\n                                </div>\n                            </Form>\n                        );\n                    }}\n                </Formik>\n            </div>\n        </div>\n    );\n};\n\nconst SelfExclusion = observer(({ onRunButtonClick }) => {\n    const { self_exclusion } = useDBotStore();\n    const { ui, client } = useStore();\n    const { is_restricted, resetSelfExclusion, initial_values, api_max_losses, run_limit, setRunLimit } =\n        self_exclusion;\n    const { is_onscreen_keyboard_active } = ui;\n    const { is_logged_in, is_reality_check_visible, updateSelfExclusion, virtual_account_loginid } = client;\n\n    const self_exclusion_form_props = {\n        is_onscreen_keyboard_active,\n        is_logged_in,\n        initial_values,\n        api_max_losses,\n        onRunButtonClick,\n        resetSelfExclusion,\n        updateSelfExclusion,\n        setRunLimit,\n        is_reality_check_visible,\n        virtual_account_loginid,\n        run_limit,\n    };\n\n    return (\n        <>\n            {isMobile() ? (\n                <FadeWrapper is_visible={is_restricted} className='limits__wrapper' keyname='limitis__wrapper'>\n                    <PageOverlay header={localize('Limits')} onClickClose={resetSelfExclusion}>\n                        <MobileWrapper>\n                            <Div100vhContainer className='limits__wrapper--is-mobile'>\n                                <SelfExclusionForm {...self_exclusion_form_props} />\n                            </Div100vhContainer>\n                        </MobileWrapper>\n                    </PageOverlay>\n                </FadeWrapper>\n            ) : (\n                <Modal\n                    is_open={is_restricted}\n                    has_close_icon\n                    width='440px'\n                    height='374px'\n                    toggleModal={resetSelfExclusion}\n                    className='db-self-exclusion__modal'\n                    title={localize('Limits')}\n                >\n                    <SelfExclusionForm {...self_exclusion_form_props} />\n                </Modal>\n            )}\n        </>\n    );\n});\n\nSelfExclusion.propTypes = {\n    onRunButtonClick: PropTypes.func,\n};\n\nexport default SelfExclusion;\n","import SelfExclusion from './self-exclusion';\n\nexport default SelfExclusion;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { ContractCard, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport ContractCardLoader from 'Components/contract-card-loading';\nimport { getCardLabels, getContractTypeDisplay } from 'Constants/contract';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { TSummaryCardProps } from './summary-card.types';\n\nconst SummaryCard = observer(({ contract_info, is_contract_loading }: TSummaryCardProps) => {\n    const { summary_card, run_panel } = useDBotStore();\n    const { ui, common } = useStore();\n    const { is_contract_completed, is_contract_inactive, is_multiplier } = summary_card;\n    const { onClickSell, is_sell_requested } = run_panel;\n    const { addToast, current_focus, removeToast, setCurrentFocus } = ui;\n    const { server_time } = common;\n\n    const is_mobile = isMobile();\n\n    const card_header = (\n        <ContractCard.Header\n            contract_info={contract_info}\n            getCardLabels={getCardLabels}\n            getContractTypeDisplay={getContractTypeDisplay}\n            has_progress_slider={!is_multiplier}\n            is_sold={is_contract_completed}\n            server_time={server_time}\n        />\n    );\n\n    const card_body = (\n        <ContractCard.Body\n            addToast={addToast}\n            contract_info={contract_info}\n            currency={contract_info && contract_info.currency}\n            current_focus={current_focus}\n            error_message_alignment='left'\n            getCardLabels={getCardLabels}\n            getContractById={() => summary_card}\n            is_mobile={is_mobile}\n            is_multiplier={is_multiplier}\n            is_sold={is_contract_completed}\n            removeToast={removeToast}\n            server_time={server_time}\n            setCurrentFocus={setCurrentFocus}\n        />\n    );\n\n    const card_footer = (\n        <ContractCard.Footer\n            contract_info={contract_info}\n            getCardLabels={getCardLabels}\n            is_multiplier={is_multiplier}\n            is_sell_requested={is_sell_requested}\n            onClickSell={onClickSell}\n        />\n    );\n\n    const contract_el = (\n        <React.Fragment>\n            {card_header}\n            {card_body}\n            {card_footer}\n        </React.Fragment>\n    );\n\n    return (\n        <div\n            className={classNames('db-summary-card', {\n                'db-summary-card--mobile': is_mobile,\n                'db-summary-card--inactive': is_contract_inactive && !is_contract_loading && !contract_info,\n                'db-summary-card--is-loading': is_contract_loading,\n                'db-summary-card--completed': is_contract_completed,\n                'db-summary-card--completed-mobile': is_contract_completed && is_mobile,\n            })}\n        >\n            {is_contract_loading && <ContractCardLoader speed={2} />}\n            {!is_contract_loading && contract_info && (\n                <ContractCard\n                    contract_info={contract_info}\n                    getCardLabels={getCardLabels}\n                    is_multiplier={is_multiplier}\n                    profit_loss={contract_info.profit}\n                    should_show_result_overlay={true}\n                >\n                    <div\n                        className={classNames('dc-contract-card', {\n                            'dc-contract-card--green': contract_info.profit > 0,\n                            'dc-contract-card--red': contract_info.profit < 0,\n                        })}\n                    >\n                        {contract_el}\n                    </div>\n                </ContractCard>\n            )}\n            {!is_contract_loading && !contract_info && (\n                <Text as='p' line_height='s' size='xs'>\n                    {localize('When youre ready to trade, hit ')}\n                    <strong>{localize('Run')}</strong>\n                    {localize('. Youll be able to track your bots performance here.')}\n                </Text>\n            )}\n        </div>\n    );\n});\n\nexport default SummaryCard;\n","import React from 'react';\nimport classnames from 'classnames';\nimport { ThemedScrollbars } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport SummaryCard from './summary-card';\n\ntype TSummary = {\n    is_drawer_open: boolean;\n};\n\nconst Summary = observer(({ is_drawer_open }: TSummary) => {\n    const { summary_card } = useDBotStore();\n    const { is_contract_loading, contract_info } = summary_card;\n    const is_mobile = isMobile();\n    return (\n        <div\n            className={classnames({\n                'run-panel-tab__content': !is_mobile,\n                'run-panel-tab__content--mobile': is_mobile && is_drawer_open,\n                'run-panel-tab__content--summary-tab': !is_mobile && is_drawer_open,\n            })}\n        >\n            <ThemedScrollbars\n                className={classnames({\n                    summary: !is_contract_loading && !contract_info,\n                    'summary--loading':\n                        (is_mobile && is_contract_loading) || (is_mobile && !is_contract_loading && contract_info),\n                })}\n            >\n                <SummaryCard is_contract_loading={is_contract_loading} contract_info={contract_info} />\n            </ThemedScrollbars>\n        </div>\n    );\n});\n\nexport default Summary;\n","import Summary from './summary';\nimport './summary.scss';\nimport './summary-card.scss';\n\nexport default Summary;\n","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { Button, Icon, Modal, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport ContractResultOverlay from 'Components/contract-result-overlay';\nimport { contract_stages } from 'Constants/contract-stage';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst CircularWrapper = ({ className }) => (\n    <div className={classNames('circular-wrapper', className)}>\n        <span className='static-circle' />\n        <span className='dynamic-circle' />\n    </div>\n);\n\nconst AnimationInfo = ({ toggleAnimationInfoModal }) => {\n    return (\n        <div className='animation__info' onClick={toggleAnimationInfoModal}>\n            <Icon icon='IcInfoOutline' id='db-animation__clear-stat' />\n        </div>\n    );\n};\n\nconst AnimationInfoModal = ({ is_mobile, is_animation_info_modal_open, toggleAnimationInfoModal }) => {\n    return (\n        <Modal\n            className={classNames('animation__modal', { 'animation__modal--mobile': is_mobile })}\n            title={localize('Stopping the bot is risky')}\n            is_open={is_animation_info_modal_open}\n            toggleModal={toggleAnimationInfoModal}\n            width={'440px'}\n        >\n            <Modal.Body>\n                <div className={classNames({ 'animation__modal-body--mobile': is_mobile })}>\n                    <Text as='p'>\n                        {localize(\n                            'Stopping the bot will prevent further trades. Any ongoing trades will be completed by our system.'\n                        )}\n                    </Text>\n                    <Text as='p' className='animation__modal-body--content'>\n                        {localize(\n                            'Please be aware that some completed transactions may not be displayed in the transaction table if the bot is stopped while placing trades.'\n                        )}\n                    </Text>\n                    <Text as='p' className='animation__modal-body--content'>\n                        {localize('You may refer to the statement page for details of all completed transactions.')}\n                    </Text>\n                </div>\n            </Modal.Body>\n        </Modal>\n    );\n};\n\nconst ContractStageText = ({ contract_stage }) => {\n    switch (contract_stage) {\n        case contract_stages.NOT_RUNNING:\n        default:\n            return <Localize i18n_default_text='Bot is not running' />;\n        case contract_stages.STARTING:\n            return <Localize i18n_default_text='Bot is starting' />;\n        case contract_stages.PURCHASE_SENT:\n            return <Localize i18n_default_text='Buying contract' />;\n        case contract_stages.PURCHASE_RECEIVED:\n            return <Localize i18n_default_text='Contract bought' />;\n        case contract_stages.IS_STOPPING:\n            return <Localize i18n_default_text='Bot is stopping' />;\n        case contract_stages.CONTRACT_CLOSED:\n            return <Localize i18n_default_text='Contract closed' />;\n    }\n};\n\nconst TradeAnimation = observer(({ className, info_direction }) => {\n    const { run_panel, toolbar, summary_card } = useDBotStore();\n    const { client } = useStore();\n    const { is_contract_completed, profit } = summary_card;\n    const {\n        contract_stage,\n        is_stop_button_visible,\n        is_stop_button_disabled,\n        onRunButtonClick,\n        onStopButtonClick,\n        performSelfExclusionCheck,\n        should_show_overlay,\n    } = run_panel;\n    const { is_animation_info_modal_open, toggleAnimationInfoModal } = toolbar;\n    const { account_status } = client;\n    const cashier_validation = account_status?.cashier_validation;\n\n    const [is_button_disabled, updateIsButtonDisabled] = React.useState(false);\n    const is_unavailable_for_payment_agent = cashier_validation?.includes('WithdrawServiceUnavailableForPA');\n    // perform self-exclusion checks which will be stored under the self-exclusion-store\n    React.useEffect(() => {\n        performSelfExclusionCheck();\n    }, []);\n\n    React.useEffect(() => {\n        if (is_button_disabled) {\n            setTimeout(() => {\n                updateIsButtonDisabled(false);\n            }, 1000);\n        }\n    }, [is_button_disabled]);\n\n    const status_classes = ['', '', ''];\n    let progress_status =\n        contract_stage -\n        (contract_stage === contract_stages.PURCHASE_SENT || contract_stage === contract_stages.PURCHASE_RECEIVED\n            ? 2\n            : 3);\n\n    if (progress_status >= 0) {\n        if (progress_status < status_classes.length) {\n            status_classes[progress_status] = 'active';\n        }\n\n        if (is_contract_completed) {\n            progress_status += 1;\n        }\n\n        for (let i = 0; i < progress_status; i++) {\n            status_classes[i] = 'completed';\n        }\n    }\n\n    return (\n        <div className={classNames('animation__wrapper', className)}>\n            {info_direction === 'left' && <AnimationInfo toggleAnimationInfoModal={toggleAnimationInfoModal} />}\n            <Button\n                is_disabled={(is_stop_button_disabled || is_button_disabled) && !is_unavailable_for_payment_agent}\n                className='animation__button'\n                id={is_stop_button_visible ? 'db-animation__stop-button' : 'db-animation__run-button'}\n                text={is_stop_button_visible ? localize('Stop') : localize('Run')}\n                icon={<Icon icon={is_stop_button_visible ? 'IcPause' : 'IcPlay'} color='active' />}\n                onClick={() => {\n                    updateIsButtonDisabled(true);\n                    if (is_stop_button_visible) {\n                        onStopButtonClick();\n                        return;\n                    }\n                    onRunButtonClick();\n                }}\n                has_effect\n                {...(is_stop_button_visible || !is_unavailable_for_payment_agent ? { primary: true } : { green: true })}\n            />\n            <div\n                className={classNames('animation__container', className, {\n                    'animation--running': contract_stage > 0,\n                    'animation--completed': should_show_overlay && is_contract_completed,\n                })}\n            >\n                {should_show_overlay && is_contract_completed && <ContractResultOverlay profit={profit} />}\n                <span className='animation__text'>\n                    <ContractStageText contract_stage={contract_stage} />\n                </span>\n                <div className='animation__progress'>\n                    <div className='animation__progress-line'>\n                        <div className={`animation__progress-bar animation__progress-${contract_stage}`} />\n                    </div>\n                    {status_classes.map((status_class, i) => (\n                        <CircularWrapper key={i} className={status_class} />\n                    ))}\n                </div>\n            </div>\n            {info_direction === 'right' && <AnimationInfo toggleAnimationInfoModal={toggleAnimationInfoModal} />}\n            <AnimationInfoModal\n                is_mobile={isMobile()}\n                is_animation_info_modal_open={is_animation_info_modal_open}\n                toggleAnimationInfoModal={toggleAnimationInfoModal}\n            />\n        </div>\n    );\n});\n\nTradeAnimation.propTypes = {\n    className: PropTypes.string,\n    info_direction: PropTypes.string,\n};\n\nexport default TradeAnimation;\n","import TradeAnimation from './trade-animation.jsx';\nimport './trade-animation.scss';\n\nexport default TradeAnimation;\n","export const popover_zindex = Object.freeze({\n    QUICK_STRATEGY: 99999,\n    TOOLBAR: 100,\n    TRANSACTION: 10,\n    SUMMARY_TOOLTIPS: 5,\n    RUN_PANEL: 8,\n});\n","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport ContentLoader from 'react-content-loader';\nimport { getContractTypeName } from '@deriv/bot-skeleton';\nimport { Icon, IconTradeTypes, Money, Popover } from '@deriv/components';\nimport { convertDateFormat } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { popover_zindex } from 'Constants/z-indexes';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst TransactionIconWithText = ({ icon, title, message, className }) => (\n    <React.Fragment>\n        <Popover\n            className={classNames(className, 'transactions__icon')}\n            alignment='left'\n            message={title}\n            zIndex={popover_zindex.TRANSACTION}\n        >\n            {icon}\n        </Popover>\n        {message}\n    </React.Fragment>\n);\n\nconst TransactionFieldLoader = () => (\n    <ContentLoader\n        className='transactions__loader-text'\n        height={10}\n        width={80}\n        speed={3}\n        backgroundColor={'var(--general-section-2)'}\n        foregroundColor={'var(--general-hover)'}\n    >\n        <rect x='0' y='0' rx='0' ry='0' width='100' height='12' />\n    </ContentLoader>\n);\n\nconst TransactionIconLoader = () => (\n    <ContentLoader\n        className='transactions__loader-icon'\n        speed={3}\n        width={24}\n        height={24}\n        backgroundColor={'var(--general-section-1)'}\n        foregroundColor={'var(--general-hover)'}\n    >\n        <rect x='0' y='0' rx='5' ry='5' width='24' height='24' />\n    </ContentLoader>\n);\n\nconst PopoverItem = ({ icon, title, children }) => (\n    <div className='transactions__popover-item'>\n        {icon && <div className='transaction__popover-icon'>{icon}</div>}\n        <div className='transactions__popover-details'>\n            <div className='transactions__popover-title'>{title}</div>\n            {children}\n        </div>\n    </div>\n);\n\nconst PopoverContent = ({ contract }) => (\n    <div className='transactions__popover-content'>\n        {contract.transaction_ids && (\n            <PopoverItem title={localize('Reference IDs')}>\n                {contract.transaction_ids.buy && (\n                    <div className='transactions__popover-value'>\n                        {`${contract.transaction_ids.buy} ${localize('(Buy)')}`}\n                    </div>\n                )}\n                {contract.transaction_ids.sell && (\n                    <div className='transactions__popover-value'>\n                        {`${contract.transaction_ids.sell} ${localize('(Sell)')}`}\n                    </div>\n                )}\n            </PopoverItem>\n        )}\n        {contract.tick_count && (\n            <PopoverItem title={localize('Duration')}>\n                <div className='transactions__popover-value'>{`${contract.tick_count} ${localize('ticks')}`}</div>\n            </PopoverItem>\n        )}\n        {(contract.barrier && (\n            <PopoverItem title={localize('Barrier')}>\n                <div className='transactions__popover-value'>{contract.barrier}</div>\n            </PopoverItem>\n        )) ||\n            (contract.high_barrier && contract.low_barrier && (\n                <PopoverItem title={localize('Barriers')}>\n                    <div className='transactions__popover-value'>{`${contract.high_barrier} ${localize(\n                        '(High)'\n                    )}`}</div>\n                    <div className='transactions__popover-value'>{`${contract.low_barrier} ${localize('(Low)')}`}</div>\n                </PopoverItem>\n            ))}\n        {contract.date_start && (\n            <PopoverItem title={localize('Start time')}>\n                <div className='transactions__popover-value'>\n                    {convertDateFormat(contract.date_start, 'YYYY-M-D HH:mm:ss [GMT]', 'YYYY-MM-DD HH:mm:ss [GMT]')}\n                </div>\n            </PopoverItem>\n        )}\n        {\n            contract.entry_tick && (\n                <PopoverItem title={localize('Entry spot')}>\n                    <div className='transactions__popover-value'>{contract.entry_tick}</div>\n                    {contract.entry_tick_time && (\n                        <div className='transactions__popover-value'>\n                            {convertDateFormat(\n                                contract.entry_tick_time,\n                                'YYYY-M-D HH:mm:ss [GMT]',\n                                'YYYY-MM-DD HH:mm:ss [GMT]'\n                            )}\n                        </div>\n                    )}\n                </PopoverItem>\n            )\n            // TODO: Durations for non-tick contracts, requires helpers from Trader.\n        }\n        {(contract.exit_tick && contract.exit_tick_time && (\n            <PopoverItem title={localize('Exit spot')}>\n                <div className='transactions__popover-value'>{contract.exit_tick}</div>\n                <div className='transactions__popover-value'>\n                    {convertDateFormat(contract.exit_tick_time, 'YYYY-M-D HH:mm:ss [GMT]', 'YYYY-MM-DD HH:mm:ss [GMT]')}\n                </div>\n            </PopoverItem>\n        )) ||\n            (contract.exit_tick && (\n                <PopoverItem title={localize('Exit time')}>\n                    <div className='transactions__popover-value'>{contract.exit_tick}</div>\n                </PopoverItem>\n            ))}\n    </div>\n);\n\nconst Transaction = observer(({ contract }) => {\n    const { transactions } = useDBotStore();\n    const { active_transaction_id, setActiveTransactionId } = transactions;\n\n    return (\n        <Popover\n            zIndex={popover_zindex.TRANSACTION}\n            alignment='left'\n            className='transactions__item-wrapper'\n            is_open={contract && active_transaction_id === contract.transaction_ids.buy}\n            message={contract && <PopoverContent contract={contract} />}\n        >\n            <div\n                className='transactions__item'\n                onClick={contract && (() => setActiveTransactionId(contract.transaction_ids.buy))}\n            >\n                <div className='transactions__cell transactions__trade-type'>\n                    <div className='transactions__loader-container'>\n                        {contract ? (\n                            <TransactionIconWithText\n                                icon={<Icon icon={`IcUnderlying${contract.underlying}`} size={16} />}\n                                title={contract.display_name}\n                            />\n                        ) : (\n                            <TransactionIconLoader />\n                        )}\n                    </div>\n                    <div className='transactions__loader-container'>\n                        {contract ? (\n                            <TransactionIconWithText\n                                icon={<IconTradeTypes type={contract.contract_type} size={16} />}\n                                title={getContractTypeName(contract)}\n                            />\n                        ) : (\n                            <TransactionIconLoader />\n                        )}\n                    </div>\n                </div>\n                <div className='transactions__cell transactions__entry-spot'>\n                    <TransactionIconWithText\n                        icon={<Icon icon='IcContractEntrySpot' />}\n                        title={localize('Entry spot')}\n                        message={(contract && contract.entry_tick) || <TransactionFieldLoader />}\n                    />\n                </div>\n                <div className='transactions__cell transactions__exit-spot'>\n                    <TransactionIconWithText\n                        icon={<Icon icon='IcContractExitSpot' />}\n                        title={localize('Exit spot')}\n                        message={(contract && contract.exit_tick) || <TransactionFieldLoader />}\n                    />\n                </div>\n                <div className='transactions__cell transactions__stake'>\n                    {contract ? (\n                        <Money amount={contract.buy_price} currency={contract.currency} show_currency />\n                    ) : (\n                        <TransactionFieldLoader />\n                    )}\n                </div>\n                <div className='transactions__cell transactions__profit'>\n                    {contract?.is_completed ? (\n                        <div\n                            className={classNames({\n                                'transactions__profit--win': contract.profit >= 0,\n                                'transactions__profit--loss': contract.profit < 0,\n                            })}\n                        >\n                            <Money amount={Math.abs(contract.profit)} currency={contract.currency} show_currency />\n                        </div>\n                    ) : (\n                        <TransactionFieldLoader />\n                    )}\n                </div>\n            </div>\n        </Popover>\n    );\n});\n\nTransaction.propTypes = {\n    contract: PropTypes.object,\n};\n\nexport default Transaction;\n","import React from 'react';\nimport classnames from 'classnames';\nimport { PropTypes } from 'prop-types';\nimport { CSSTransition } from 'react-transition-group';\nimport { Button, DataList, DesktopWrapper, Icon, Text, ThemedScrollbars } from '@deriv/components';\nimport { isMobile, useNewRowTransition } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport Download from 'Components/download';\nimport { contract_stages } from 'Constants/contract-stage';\nimport { transaction_elements } from 'Constants/transactions';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport Transaction from './transaction.jsx';\n\nconst TransactionItem = ({ row, is_new_row }) => {\n    const { in_prop } = useNewRowTransition(is_new_row);\n\n    switch (row.type) {\n        case transaction_elements.CONTRACT: {\n            const { data: contract } = row;\n            return (\n                <CSSTransition in={in_prop} timeout={500} classNames='list__animation'>\n                    <Transaction contract={contract} />\n                </CSSTransition>\n            );\n        }\n        case transaction_elements.DIVIDER: {\n            return (\n                <div className='transactions__divider'>\n                    <div className='transactions__divider-line' />\n                </div>\n            );\n        }\n        default: {\n            return null;\n        }\n    }\n};\n\nconst Transactions = observer(({ is_drawer_open }) => {\n    const { run_panel, transactions } = useDBotStore();\n    const { contract_stage } = run_panel;\n    const { elements, onMount, onUnmount, toggleTransactionDetailsModal } = transactions;\n\n    React.useEffect(() => {\n        onMount();\n        return () => onUnmount();\n    }, [onMount, onUnmount]);\n\n    const is_mobile = isMobile();\n\n    return (\n        <div\n            className={classnames('transactions', {\n                'run-panel-tab__content': !is_mobile,\n                'run-panel-tab__content--mobile': is_mobile && is_drawer_open,\n            })}\n        >\n            <div className='download__container transaction-details__button-container'>\n                <DesktopWrapper>\n                    <Download tab='transactions' />\n                </DesktopWrapper>\n                <Button\n                    id='download__container-view-detail-button'\n                    className='download__container-view-detail-button'\n                    is_disabled={!elements.length}\n                    text={localize('View Detail')}\n                    onClick={() => {\n                        toggleTransactionDetailsModal(true);\n                    }}\n                    secondary\n                />\n            </div>\n            <div className='transactions__header'>\n                <span className='transactions__header-column transactions__header-type'>{localize('Type')}</span>\n                <span className='transactions__header-column transactions__header-spot'>\n                    {localize('Entry/Exit spot')}\n                </span>\n                <span className='transactions__header-column transactions__header-profit'>\n                    {localize('Buy price and P/L')}\n                </span>\n            </div>\n            <div\n                className={classnames({\n                    transactions__content: !is_mobile,\n                    'transactions__content--mobile': is_mobile,\n                })}\n            >\n                <div className='transactions__scrollbar'>\n                    {elements.length ? (\n                        <DataList\n                            className='transactions'\n                            data_source={elements}\n                            rowRenderer={props => <TransactionItem {...props} />}\n                            keyMapper={row => {\n                                switch (row.type) {\n                                    case transaction_elements.CONTRACT: {\n                                        return row.data.transaction_ids.buy;\n                                    }\n                                    case transaction_elements.DIVIDER: {\n                                        return row.data;\n                                    }\n                                    default: {\n                                        return null;\n                                    }\n                                }\n                            }}\n                            getRowSize={({ index }) => {\n                                const row = elements[index];\n                                switch (row.type) {\n                                    case transaction_elements.CONTRACT: {\n                                        return 50;\n                                    }\n                                    case transaction_elements.DIVIDER: {\n                                        return 21;\n                                    }\n                                    default: {\n                                        return 0;\n                                    }\n                                }\n                            }}\n                        />\n                    ) : (\n                        <>\n                            {contract_stage >= contract_stages.STARTING ? (\n                                <Transaction contract={null} />\n                            ) : (\n                                <ThemedScrollbars>\n                                    <div className='transactions-empty-box'>\n                                        <div className='transactions-empty'>\n                                            <div className='transactions-empty__icon-box'>\n                                                <Icon\n                                                    icon='IcBox'\n                                                    className='transactions-empty__icon'\n                                                    size={64}\n                                                    color='secondary'\n                                                />\n                                            </div>\n                                            <Text\n                                                as='h4'\n                                                size='xs'\n                                                weight='bold'\n                                                align='center'\n                                                color='less-prominent'\n                                                line_height='xxs'\n                                                className='transactions-empty__header'\n                                            >\n                                                {localize('There are no transactions to display')}\n                                            </Text>\n                                            <div className='transactions-empty__message'>\n                                                <Text size='xxs' color='less-prominent'>\n                                                    {localize('Here are the possible reasons:')}\n                                                </Text>\n                                                <ul className='transactions-empty__list'>\n                                                    <li>{localize('The bot is not running')}</li>\n                                                    <li>{localize('The stats are cleared')}</li>\n                                                </ul>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </ThemedScrollbars>\n                            )}\n                        </>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n});\n\nTransactions.propTypes = {\n    is_drawer_open: PropTypes.bool,\n};\n\nexport default Transactions;\n","import Transactions from './transactions.jsx';\nimport './transactions.scss';\n\nexport default Transactions;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Button, Drawer, Modal, Money, Tabs, Text, ThemedScrollbars } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport Journal from 'Components/journal';\nimport SelfExclusion from 'Components/self-exclusion';\nimport Summary from 'Components/summary';\nimport TradeAnimation from 'Components/trade-animation';\nimport Transactions from 'Components/transactions';\nimport { popover_zindex } from 'Constants/z-indexes';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\ntype TStatisticsTile = {\n    content: React.ElementType | string;\n    contentClassName: string;\n    title: string;\n};\n\ntype TStatisticsSummary = {\n    currency: string;\n    is_mobile: boolean;\n    lost_contracts: number;\n    number_of_runs: number;\n    total_stake: number;\n    total_payout: number;\n    has_started_onboarding_tour: boolean;\n    toggleStatisticsInfoModal: () => void;\n    total_profit: number;\n    won_contracts: number;\n};\ntype TDrawerHeader = {\n    is_clear_stat_disabled: boolean;\n    is_mobile: boolean;\n    is_drawer_open: boolean;\n    onClearStatClick: () => void;\n};\n\ntype TDrawerContent = {\n    active_index: number;\n    is_drawer_open: boolean;\n    has_started_onboarding_tour: boolean;\n    setActiveTabIndex: () => void;\n};\n\ntype TDrawerFooter = {\n    is_clear_stat_disabled: boolean;\n    onClearStatClick: () => void;\n};\n\ntype TStatisticsInfoModal = {\n    is_mobile: boolean;\n    is_statistics_info_modal_open: boolean;\n    toggleStatisticsInfoModal: () => void;\n};\n\nconst StatisticsTile = ({ content, contentClassName, title }: TStatisticsTile) => (\n    <div className='run-panel__tile'>\n        <div className='run-panel__tile-title'>{title}</div>\n        <div className={classNames('run-panel__tile-content', contentClassName)}>{content}</div>\n    </div>\n);\n\nexport const StatisticsSummary = ({\n    currency,\n    is_mobile,\n    lost_contracts,\n    number_of_runs,\n    total_stake,\n    total_payout,\n    has_started_onboarding_tour,\n    toggleStatisticsInfoModal,\n    total_profit,\n    won_contracts,\n}: TStatisticsSummary) => (\n    <div\n        className={classNames('run-panel__stat', {\n            'run-panel__stat--tour-active': has_started_onboarding_tour,\n            'run-panel__stat--mobile': is_mobile,\n        })}\n    >\n        <div className='run-panel__stat--info' onClick={toggleStatisticsInfoModal}>\n            <div className='run-panel__stat--info-item'>\n                <Localize i18n_default_text=\"What's this?\" />\n            </div>\n        </div>\n        <div className='run-panel__stat--tiles'>\n            <StatisticsTile\n                title={localize('Total stake')}\n                alignment='top'\n                content={<Money amount={total_stake} currency={currency} show_currency />}\n            />\n            <StatisticsTile\n                title={localize('Total payout')}\n                alignment='top'\n                content={<Money amount={total_payout} currency={currency} show_currency />}\n            />\n            <StatisticsTile title={localize('No. of runs')} alignment='top' content={number_of_runs} />\n            <StatisticsTile title={localize('Contracts lost')} alignment='bottom' content={lost_contracts} />\n            <StatisticsTile title={localize('Contracts won')} alignment='bottom' content={won_contracts} />\n            <StatisticsTile\n                title={localize('Total profit/loss')}\n                content={<Money amount={total_profit} currency={currency} has_sign show_currency />}\n                alignment='bottom'\n                contentClassName={classNames('run-panel__stat-amount', {\n                    'run-panel__stat-amount--positive': total_profit > 0,\n                    'run-panel__stat-amount--negative': total_profit < 0,\n                })}\n            />\n        </div>\n    </div>\n);\n\nconst DrawerHeader = ({ is_clear_stat_disabled, is_mobile, is_drawer_open, onClearStatClick }: TDrawerHeader) =>\n    is_mobile &&\n    is_drawer_open && (\n        <Button\n            id='db-run-panel__clear-button'\n            className='run-panel__clear-button'\n            is_disabled={is_clear_stat_disabled}\n            text={localize('Reset')}\n            onClick={onClearStatClick}\n            secondary\n        />\n    );\n\nconst DrawerContent = ({\n    active_index,\n    is_drawer_open,\n    has_started_onboarding_tour,\n    setActiveTabIndex,\n    ...props\n}: TDrawerContent) => {\n    return (\n        <>\n            <Tabs active_index={active_index} onTabItemClick={setActiveTabIndex} top>\n                <div id='db-run-panel-tab__summary' label={localize('Summary')}>\n                    <Summary is_drawer_open={is_drawer_open} />\n                </div>\n                <div id='db-run-panel-tab__transactions' label={localize('Transactions')}>\n                    <Transactions is_drawer_open={is_drawer_open} />\n                </div>\n                <div id='db-run-panel-tab__journal' label={localize('Journal')}>\n                    <Journal />\n                </div>\n            </Tabs>\n            {is_drawer_open && active_index !== 2 && (\n                <StatisticsSummary has_started_onboarding_tour={has_started_onboarding_tour} {...props} />\n            )}\n        </>\n    );\n};\n\nconst DrawerFooter = ({ is_clear_stat_disabled, onClearStatClick }: TDrawerFooter) => (\n    <div className='run-panel__footer'>\n        <Button\n            id='db-run-panel__clear-button'\n            className='run-panel__footer-button'\n            is_disabled={is_clear_stat_disabled}\n            text={localize('Reset')}\n            onClick={onClearStatClick}\n            has_effect\n            secondary\n        />\n    </div>\n);\n\nconst MobileDrawerFooter = () => {\n    return (\n        <div className='controls__section'>\n            <div className='controls__buttons'>\n                <TradeAnimation className='controls__animation' should_show_overlay info_direction={'right'} />\n            </div>\n        </div>\n    );\n};\n\nconst StatisticsInfoModal = ({\n    is_mobile,\n    is_statistics_info_modal_open,\n    toggleStatisticsInfoModal,\n}: TStatisticsInfoModal) => {\n    return (\n        <Modal\n            className={classNames('statistics__modal', { 'statistics__modal--mobile': is_mobile })}\n            title={localize(\"What's this?\")}\n            is_open={is_statistics_info_modal_open}\n            toggleModal={toggleStatisticsInfoModal}\n            width={'440px'}\n        >\n            <Modal.Body>\n                <div className={classNames('statistics__modal-body', { 'statistics__modal-body--mobile': is_mobile })}>\n                    <ThemedScrollbars className='statistics__modal-scrollbar'>\n                        <Text as='p' weight='bold' className='statistics__modal-body--content no-margin'>\n                            {localize('Total stake')}\n                        </Text>\n                        <Text as='p'>{localize('Total stake since you last cleared your stats.')}</Text>\n                        <Text as='p' weight='bold' className='statistics__modal-body--content'>\n                            {localize('Total payout')}\n                        </Text>\n                        <Text as='p'>{localize('Total payout since you last cleared your stats.')}</Text>\n                        <Text as='p' weight='bold' className='statistics__modal-body--content'>\n                            {localize('No. of runs')}\n                        </Text>\n                        <Text as='p'>\n                            {localize(\n                                'The number of times your bot has run since you last cleared your stats. Each run includes the execution of all the root blocks.'\n                            )}\n                        </Text>\n                        <Text as='p' weight='bold' className='statistics__modal-body--content'>\n                            {localize('Contracts lost')}\n                        </Text>\n                        <Text as='p'>\n                            {localize('The number of contracts you have lost since you last cleared your stats.')}\n                        </Text>\n                        <Text as='p' weight='bold' className='statistics__modal-body--content'>\n                            {localize('Contracts won')}\n                        </Text>\n                        <Text as='p'>\n                            {localize('The number of contracts you have won since you last cleared your stats.')}\n                        </Text>\n                        <Text as='p' weight='bold' className='statistics__modal-body--content'>\n                            {localize('Total profit/loss')}\n                        </Text>\n                        <Text as='p'>\n                            {localize(\n                                'Your total profit/loss since you last cleared your stats. It is the difference between your total payout and your total stake.'\n                            )}\n                        </Text>\n                    </ThemedScrollbars>\n                </div>\n            </Modal.Body>\n        </Modal>\n    );\n};\n\nconst RunPanel = observer(() => {\n    const { run_panel, dashboard } = useDBotStore();\n    const { client } = useStore();\n    const { currency } = client;\n    const {\n        active_index,\n        is_drawer_open,\n        is_statistics_info_modal_open,\n        is_clear_stat_disabled,\n        onClearStatClick,\n        onMount,\n        onRunButtonClick,\n        onUnmount,\n        setActiveTabIndex,\n        toggleDrawer,\n        toggleStatisticsInfoModal,\n        statistics,\n    } = run_panel;\n    const { has_started_onboarding_tour } = dashboard;\n    const { total_payout, total_profit, total_stake, won_contracts, lost_contracts, number_of_runs } = statistics;\n\n    const is_mobile = isMobile();\n\n    React.useEffect(() => {\n        onMount();\n        return () => onUnmount();\n    }, [onMount, onUnmount]);\n\n    React.useEffect(() => {\n        if (is_mobile) {\n            toggleDrawer(false);\n        }\n    }, []);\n\n    const content = (\n        <DrawerContent\n            active_index={active_index}\n            currency={currency}\n            is_drawer_open={is_drawer_open}\n            is_mobile={is_mobile}\n            lost_contracts={lost_contracts}\n            number_of_runs={number_of_runs}\n            setActiveTabIndex={setActiveTabIndex}\n            toggleStatisticsInfoModal={toggleStatisticsInfoModal}\n            total_payout={total_payout}\n            total_profit={total_profit}\n            total_stake={total_stake}\n            won_contracts={won_contracts}\n            has_started_onboarding_tour={has_started_onboarding_tour}\n        />\n    );\n\n    const footer = <DrawerFooter is_clear_stat_disabled={is_clear_stat_disabled} onClearStatClick={onClearStatClick} />;\n\n    const header = (\n        <DrawerHeader\n            is_clear_stat_disabled={is_clear_stat_disabled}\n            is_mobile={is_mobile}\n            is_drawer_open={is_drawer_open}\n            onClearStatClick={onClearStatClick}\n        />\n    );\n\n    return (\n        <>\n            <div className={is_mobile && is_drawer_open ? 'run-panel__container--mobile' : 'run-panel'}>\n                <Drawer\n                    anchor='right'\n                    className={classNames('run-panel', {\n                        'run-panel__container': !is_mobile,\n                        'run-panel__container--tour-active': !is_mobile && has_started_onboarding_tour,\n                    })}\n                    contentClassName='run-panel__content'\n                    header={header}\n                    footer={!is_mobile && footer}\n                    is_open={is_drawer_open}\n                    toggleDrawer={toggleDrawer}\n                    width={366}\n                    zIndex={popover_zindex.RUN_PANEL}\n                >\n                    {content}\n                </Drawer>\n                {is_mobile && <MobileDrawerFooter />}\n            </div>\n            <SelfExclusion onRunButtonClick={onRunButtonClick} />\n            <StatisticsInfoModal\n                is_mobile={is_mobile}\n                is_statistics_info_modal_open={is_statistics_info_modal_open}\n                toggleStatisticsInfoModal={toggleStatisticsInfoModal}\n            />\n        </>\n    );\n});\n\nexport default RunPanel;\n","import RunPanel from './run-panel';\nimport './run-panel.scss';\n\nexport default RunPanel;\n","import React from 'react';\nimport TradeAnimation from 'Components/trade-animation';\n\nconst RunStrategy = () => (\n    <div className='toolbar__section'>\n        <TradeAnimation should_show_overlay info_direction='left' />\n    </div>\n);\n\nexport default RunStrategy;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Toast } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst BotNotification = observer(() => {\n    const { dashboard } = useDBotStore();\n    const { show_toast, toast_message, setOpenSettings } = dashboard;\n\n    React.useEffect(() => {\n        setTimeout(() => {\n            setOpenSettings(toast_message, false);\n        }, 3000);\n    }, [show_toast]);\n    const el_portal = document.getElementById('popup_root');\n\n    if (el_portal && show_toast) {\n        return ReactDOM.createPortal(\n            <div className='import-notification'>\n                <div>\n                    <Toast>\n                        {toast_message === 'delete'\n                            ? localize('Youve successfully deleted a bot.')\n                            : localize('Youve successfully imported a bot.')}\n                    </Toast>\n                </div>\n            </div>,\n            el_portal\n        );\n    }\n    return null;\n});\n\nexport default BotNotification;\n","import React from 'react';\nimport { Icon } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst WorkspaceControl = observer(() => {\n    const { dashboard } = useDBotStore();\n    const { onZoomInOutClick } = dashboard;\n    return (\n        <div className='load-strategy__preview-workspace-controls'>\n            <Icon\n                icon={'IcAddRounded'}\n                className='load-strategy__preview-workspace-icon'\n                custom_color='$color-black-1'\n                onClick={() => onZoomInOutClick(true)}\n            />\n            <Icon\n                icon={'IcMinusRounded'}\n                className='load-strategy__preview-workspace-icon'\n                custom_color='$color-black-1'\n                onClick={() => onZoomInOutClick(false)}\n            />\n        </div>\n    );\n});\n\nexport default WorkspaceControl;\n","import React from 'react';\nimport WorkspaceControl from './workspace-control';\n\ntype TBotPreview = {\n    id_ref: HTMLElement | React.ReactNode | null;\n};\n\nconst BotPreview = ({ id_ref }: TBotPreview) => {\n    return (\n        <div className='load-strategy__preview-workspace-container' id='load-strategy__blockly-container' ref={id_ref}>\n            <WorkspaceControl />\n        </div>\n    );\n};\n\nexport default BotPreview;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Dialog, Icon, MobileWrapper, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { clearInjectionDiv } from 'Constants/load-modal';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport BotPreview from './bot-preview';\nimport './index.scss';\n\nconst LocalComponent = observer(() => {\n    const { load_modal, save_modal, dashboard } = useDBotStore();\n    const { handleFileChange, loadFileFromRecent, dashboard_strategies } = load_modal;\n    const { onConfirmSave } = save_modal;\n    const { setActiveTab, setPreviewOnDialog, has_mobile_preview_loaded, setActiveTabTutorial } = dashboard;\n\n    const file_input_ref = React.useRef<HTMLInputElement | null>(null);\n    const [is_file_supported, setIsFileSupported] = React.useState<boolean>(true);\n    const el_ref = React.useRef<HTMLInputElement | null>(null);\n    const is_mobile = isMobile();\n    const has_dashboard_strategies = !!dashboard_strategies?.length;\n\n    React.useEffect(() => {\n        if (el_ref.current?.children.length === 3) {\n            el_ref?.current?.removeChild(el_ref?.current?.children[1]);\n        }\n    }, [el_ref.current?.children.length]);\n\n    const renderOpenButton = () => (\n        <button\n            className='load-strategy__button-group--open'\n            onClick={() => {\n                setPreviewOnDialog(false);\n                loadFileFromRecent();\n                setActiveTab(DBOT_TABS.BOT_BUILDER);\n            }}\n        >\n            {localize('Open')}\n        </button>\n    );\n    return (\n        <div className='load-strategy__container load-strategy__container--has-footer'>\n            {is_file_supported && (\n                <div\n                    className={classNames('load-strategy__local-preview', {\n                        'load-strategy__local-preview--listed': has_dashboard_strategies,\n                    })}\n                >\n                    <div className='load-strategy__recent-preview'>\n                        <div\n                            className={classNames('load-strategy__title', 'load-strategy__recent-preview-title', {\n                                'load-strategy__title--listed': has_dashboard_strategies && is_mobile,\n                            })}\n                        >\n                            {!is_mobile && <Localize i18n_default_text='Preview' />}\n                            <div className='tab__dashboard__preview__retrigger'>\n                                <button\n                                    onClick={() => {\n                                        setActiveTab(DBOT_TABS.TUTORIAL);\n                                        setActiveTabTutorial(0);\n                                    }}\n                                >\n                                    <Icon\n                                        className='tab__dashboard__preview__retrigger__icon'\n                                        icon={'IcDbotUserGuide'}\n                                    />\n                                    {!is_mobile && (\n                                        <Text\n                                            size='xs'\n                                            line_height='s'\n                                            className={'tab__dashboard__preview__retrigger__text'}\n                                        >\n                                            {localize('User Guide')}\n                                        </Text>\n                                    )}\n                                </button>\n                            </div>\n                        </div>\n\n                        {!is_mobile && (\n                            <>\n                                <div className='load-strategy__preview-workspace'>\n                                    <BotPreview id_ref={el_ref} type={'local'} />\n                                </div>\n                                <div className='load-strategy__button-group'>\n                                    <input\n                                        type='file'\n                                        ref={file_input_ref}\n                                        accept='.xml'\n                                        style={{ display: 'none' }}\n                                        onChange={e => {\n                                            clearInjectionDiv('component', el_ref);\n                                            onConfirmSave();\n                                            setIsFileSupported(handleFileChange(e, false));\n                                        }}\n                                    />\n                                    {renderOpenButton()}\n                                </div>\n                            </>\n                        )}\n                        <MobileWrapper>\n                            <Dialog\n                                is_visible={has_mobile_preview_loaded}\n                                onCancel={() => setPreviewOnDialog(false)}\n                                is_mobile_full_width\n                                className='dc-dialog__wrapper--preview'\n                                has_close_icon\n                                title={localize('Preview')}\n                            >\n                                <BotPreview id_ref={el_ref} type='local' />\n                                <div className='load-strategy__button-group'>{renderOpenButton()}</div>\n                            </Dialog>\n                        </MobileWrapper>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n});\n\nexport default LocalComponent;\n","import React from 'react';\nimport classnames from 'classnames';\nimport { Button, Icon, StaticUrl } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst GoogleDrive = observer(() => {\n    const { google_drive, load_modal, dashboard } = useDBotStore();\n    const { is_authorised } = google_drive;\n    const { is_open_button_loading, onDriveConnect, onDriveOpen } = load_modal;\n    const { setOpenSettings } = dashboard;\n\n    return (\n        <div className='load-strategy__container'>\n            <div className='load-strategy__google-drive'>\n                <Icon\n                    icon={'IcGoogleDrive'}\n                    className={classnames('load-strategy__google-drive-icon', {\n                        'load-strategy__google-drive-icon--disabled': !is_authorised,\n                    })}\n                    size={isMobile() ? 96 : 128}\n                />\n                <div className='load-strategy__google-drive-connected-text'>\n                    {is_authorised ? (\n                        <Localize i18n_default_text='You are connected to Google Drive' />\n                    ) : (\n                        'Google Drive'\n                    )}\n                </div>\n                {is_authorised ? (\n                    <Button.Group>\n                        <Button text={localize('Disconnect')} onClick={onDriveConnect} has_effect secondary large />\n                        <Button\n                            text={localize('Open')}\n                            onClick={() => {\n                                onDriveOpen();\n                                setOpenSettings('import');\n                            }}\n                            is_loading={is_open_button_loading}\n                            has_effect\n                            primary\n                            large\n                        />\n                    </Button.Group>\n                ) : (\n                    <React.Fragment>\n                        <div className='load-strategy__google-drive-terms'>\n                            <div className='load-strategy__google-drive-text'>\n                                <Localize i18n_default_text=\"To import your bot from your Google Drive, you'll need to sign in to your Google account.\" />\n                            </div>\n                            <div className='load-strategy__google-drive-text'>\n                                <Localize\n                                    i18n_default_text='To know how Google Drive handles your data, please review Derivs <0>Privacy policy.</0>'\n                                    components={[\n                                        <StaticUrl\n                                            key={0}\n                                            className='link'\n                                            href='tnc/security-and-privacy.pdf'\n                                            is_document\n                                        />,\n                                    ]}\n                                />\n                            </div>\n                        </div>\n                        <Button text={localize('Sign in')} onClick={onDriveConnect} has_effect primary large />\n                    </React.Fragment>\n                )}\n            </div>\n        </div>\n    );\n});\n\nexport default GoogleDrive;\n","import React from 'react';\nimport localForage from 'localforage';\nimport LZString from 'lz-string';\nimport { getSavedWorkspaces } from '@deriv/bot-skeleton';\nimport { Dialog, Text } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst DeleteDialog = observer(() => {\n    const { load_modal, dashboard } = useDBotStore();\n    const { is_delete_modal_open, onToggleDeleteDialog, selected_strategy_id, setDashboardStrategies } = load_modal;\n    const { setOpenSettings } = dashboard;\n\n    const removeBotStrategy = async (strategy_id: string) => {\n        const workspaces = await getSavedWorkspaces();\n        workspaces.map((strategy_from_workspace: string[] | { [key: string]: string }, index: number) => {\n            if (strategy_from_workspace.id === strategy_id) {\n                if (index > -1) {\n                    workspaces.splice(index, 1);\n                }\n                setDashboardStrategies(workspaces);\n                localForage.setItem('saved_workspaces', LZString.compress(JSON.stringify(workspaces)));\n                onToggleDeleteDialog(false);\n            }\n        });\n    };\n\n    const onHandleChange = (type: string, param: boolean) => {\n        if (type === 'confirm') {\n            removeBotStrategy(selected_strategy_id);\n            setOpenSettings('delete', true);\n        }\n        onToggleDeleteDialog(param);\n    };\n\n    return (\n        <div>\n            <Dialog\n                title={localize('Delete bot')}\n                is_visible={is_delete_modal_open}\n                confirm_button_text={localize('Yes, delete')}\n                onConfirm={() => {\n                    onHandleChange('confirm', false);\n                    setOpenSettings('delete', true);\n                }}\n                cancel_button_text={localize('No')}\n                onCancel={() => {\n                    onHandleChange('cancel', false);\n                }}\n                is_mobile_full_width={false}\n                className={'dc-dialog__delete-strategy--delete'}\n                has_close_icon\n            >\n                <div>\n                    <Text color='prominent' line_height='s' size='xs'>\n                        {localize('Your bot will be permanently deleted when you hit ')}\n                        <strong>{localize('Yes, delete.')}</strong>\n                    </Text>\n                </div>\n                <div>\n                    <Text color='prominent' line_height='xl' size='xs'>\n                        {localize('Are you sure you want to delete it?')}\n                    </Text>\n                </div>\n            </Dialog>\n        </div>\n    );\n});\n\nexport default DeleteDialog;\n","import React from 'react';\n\ntype TComponentVisibility = {\n    ref?: React.RefObject<HTMLInputElement>;\n};\n\nexport const useComponentVisibility = (ref: TComponentVisibility) => {\n    const [is_dropdown_visible, setDropdownVisibility] = React.useState(false);\n\n    const handleHideDropdown = (event: KeyboardEvent) => {\n        if (event.key.toUpperCase() === 'ESCAPE') {\n            setDropdownVisibility(false);\n        }\n    };\n\n    const handleClickOutside = (event: Event) => {\n        if (!ref?.current?.contains(event.target as Node)) {\n            setDropdownVisibility(false);\n        }\n    };\n\n    React.useEffect(() => {\n        document.addEventListener('keydown', handleHideDropdown, true);\n        document.addEventListener('click', handleClickOutside, true);\n        return () => {\n            document.removeEventListener('keydown', handleHideDropdown, true);\n            document.removeEventListener('click', handleClickOutside, true);\n        };\n    }, []);\n\n    return {\n        is_dropdown_visible,\n        setDropdownVisibility,\n    };\n};\n","import { localize } from '@deriv/translations';\n\nexport const STRATEGY = {\n    EDIT: 'edit',\n    SAVE: 'save',\n    DELETE: 'delete',\n    PREVIEW: 'preview',\n    PREVIEW_LIST: 'list',\n};\n\nexport const MENU_DESKTOP = [\n    {\n        type: STRATEGY.EDIT,\n        icon: 'IcEdit',\n    },\n    {\n        type: STRATEGY.SAVE,\n        icon: 'IcSave',\n    },\n    {\n        type: STRATEGY.DELETE,\n        icon: 'IcDelete',\n    },\n];\n\nexport const CONTEXT_MENU_MOBILE = [\n    {\n        type: STRATEGY.PREVIEW_LIST,\n        icon: 'IcPreview',\n        label: localize('Preview'),\n    },\n    {\n        type: STRATEGY.EDIT,\n        icon: 'IcEdit',\n        label: localize('Edit'),\n    },\n    {\n        type: STRATEGY.SAVE,\n        icon: 'IcSave',\n        label: localize('Save'),\n    },\n    {\n        type: STRATEGY.DELETE,\n        icon: 'IcDelete',\n        label: localize('Delete'),\n    },\n];\n","import React from 'react';\nimport classnames from 'classnames';\nimport { timeSince } from '@deriv/bot-skeleton';\nimport { save_types } from '@deriv/bot-skeleton/src/constants/save-type';\nimport { DesktopWrapper, Icon, MobileWrapper, Text } from '@deriv/components';\nimport { isDesktop, isMobile } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { useComponentVisibility } from '../../hooks/useComponentVisibility';\nimport { CONTEXT_MENU_MOBILE, MENU_DESKTOP, STRATEGY } from './constants';\nimport './index.scss';\n\ntype TRecentWorkspace = {\n    index: number;\n    workspace: { [key: string]: string };\n};\n\nconst RecentWorkspace = observer(({ workspace, index }: TRecentWorkspace) => {\n    const { dashboard, load_modal, save_modal } = useDBotStore();\n    const { active_tab, setActiveTab, setPreviewOnDialog } = dashboard;\n    const { toggleSaveModal } = save_modal;\n    const {\n        dashboard_strategies,\n        getRecentFileIcon,\n        getSaveType,\n        getSelectedStrategyID,\n        loadFileFromRecent,\n        onToggleDeleteDialog,\n        previewRecentStrategy,\n        selected_strategy_id,\n    } = load_modal;\n\n    const trigger_div_ref = React.useRef<HTMLInputElement | null>(null);\n    const toggle_ref = React.useRef<HTMLDivElement>(null);\n    const visible = useComponentVisibility(toggle_ref);\n    const { setDropdownVisibility, is_dropdown_visible } = visible;\n    const is_mobile = isMobile();\n    const is_desktop = isDesktop();\n\n    React.useEffect(() => {\n        if (dashboard_strategies && dashboard_strategies.length && index === 0) {\n            setTimeout(() => {\n                trigger_div_ref?.current?.click();\n            }, 50);\n        }\n    }, []);\n\n    const onToggleDropdown = (e: React.MouseEvent<HTMLElement>) => {\n        e.preventDefault();\n        setDropdownVisibility(!is_dropdown_visible);\n    };\n\n    const viewRecentStrategy = (type: string) => {\n        if (is_mobile && type === STRATEGY.PREVIEW_LIST) {\n            setPreviewOnDialog(true);\n            setTimeout(() => {\n                previewRecentStrategy(workspace.id);\n            }, 0); // made this async to give it a split second delay\n        }\n        if (selected_strategy_id !== workspace.id || (active_tab === 0 && type === STRATEGY.PREVIEW)) {\n            setTimeout(() => {\n                previewRecentStrategy(workspace.id);\n            }, 0); // made this async to give it a split second delay\n        }\n\n        switch (type) {\n            case 'edit': {\n                loadFileFromRecent();\n                setActiveTab(DBOT_TABS.BOT_BUILDER);\n                break;\n            }\n            case 'save': {\n                toggleSaveModal();\n                break;\n            }\n            case 'delete': {\n                onToggleDeleteDialog(true);\n                break;\n            }\n            default:\n                break;\n        }\n    };\n\n    const is_active_mobile = selected_strategy_id === workspace.id && is_dropdown_visible;\n\n    return (\n        <div\n            className={classnames('load-strategy__recent-item', {\n                'load-strategy__recent-item--selected': selected_strategy_id === workspace.id,\n                'load-strategy__recent-item__loaded': dashboard_strategies,\n                'load-strategy__recent-item--minimized': !!dashboard_strategies?.length && !is_desktop,\n            })}\n            key={workspace.id}\n            ref={trigger_div_ref}\n            onClick={e => {\n                e.stopPropagation(); //stop event bubbling for child element\n                if (is_dropdown_visible) setDropdownVisibility(false);\n                viewRecentStrategy(STRATEGY.PREVIEW);\n                getSelectedStrategyID(workspace.id);\n            }}\n        >\n            <div className='load-strategy__recent-item-text'>\n                <div className='load-strategy__recent-item-title'>\n                    <Text align='left' as='p' size={is_desktop ? 'xs' : 'xxs'} line_height='l'>\n                        {workspace.name}\n                    </Text>\n                </div>\n            </div>\n            <div className='load-strategy__recent-item-time'>\n                <Text align='left' as='p' size={is_desktop ? 'xs' : 'xxs'} line_height='l'>\n                    {timeSince(workspace.timestamp)}\n                </Text>\n            </div>\n            <div className='load-strategy__recent-item-location'>\n                <Icon\n                    icon={getRecentFileIcon(workspace.save_type)}\n                    className={classnames({\n                        'load-strategy__recent-icon--active': workspace.save_type === save_types.GOOGLE_DRIVE,\n                    })}\n                />\n                <div className='load-strategy__recent-item-saved'>\n                    <Text align='left' as='p' size={is_desktop ? 'xs' : 'xxs'} line_height='l'>\n                        {getSaveType(workspace.save_type)}\n                    </Text>\n                </div>\n            </div>\n            <DesktopWrapper>\n                <div className='load-strategy__recent-item__button'>\n                    {MENU_DESKTOP.map(item => (\n                        <div\n                            key={item.type}\n                            className='load-strategy__recent-item__button'\n                            onClick={() => {\n                                viewRecentStrategy(item.type);\n                            }}\n                        >\n                            <Icon icon={item.icon} />\n                        </div>\n                    ))}\n                </div>\n            </DesktopWrapper>\n            <MobileWrapper>\n                <div ref={toggle_ref} onClick={onToggleDropdown}>\n                    <Icon icon='IcMenuDots' />\n                </div>\n                <div\n                    className={classnames('load-strategy__recent-item__mobile', {\n                        'load-strategy__recent-item__mobile--active': is_active_mobile,\n                        'load-strategy__recent-item__mobile--min': dashboard_strategies.length <= 5,\n                    })}\n                >\n                    {CONTEXT_MENU_MOBILE.map(item => (\n                        <div\n                            key={item.type}\n                            className='load-strategy__recent-item__group'\n                            onClick={() => {\n                                viewRecentStrategy(item.type);\n                            }}\n                        >\n                            <div>\n                                <Icon icon={item.icon} />\n                            </div>\n                            <Text\n                                color='prominent'\n                                className='load-strategy__recent-item__group__label'\n                                as='p'\n                                size='xxs'\n                            >\n                                {item.label}\n                            </Text>\n                        </div>\n                    ))}\n                </div>\n            </MobileWrapper>\n        </div>\n    );\n});\n\nexport default RecentWorkspace;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\n\ntype TIconRadio = {\n    google_drive_connected: boolean;\n    icon: string;\n    text: string;\n    onDriveConnect: () => void;\n};\nconst IconRadio = ({ icon, text, google_drive_connected, onDriveConnect }: TIconRadio) => {\n    const is_drive_radio = text === 'Google Drive';\n\n    return (\n        <div className='save-type__container'>\n            <div className='save-type__radio'>\n                {icon &&\n                    React.cloneElement(icon, {\n                        className: classNames(\n                            'save-type__icon',\n                            {\n                                'save-type__icon--active': is_drive_radio && google_drive_connected,\n                                'save-type__icon--disabled': is_drive_radio && !google_drive_connected,\n                            },\n                            icon.props.className\n                        ),\n                    })}\n                <Text\n                    as='p'\n                    align='center'\n                    size='xxs'\n                    color={is_drive_radio && !google_drive_connected ? 'disabled' : 'prominent'}\n                    line_height='s'\n                    className='save-type__radio-text'\n                >\n                    {localize(text)}\n                </Text>\n            </div>\n            {is_drive_radio && (\n                <Text\n                    as='p'\n                    align='center'\n                    size='xs'\n                    weight='bold'\n                    styles={{ color: 'var(--brand-red-coral)' }}\n                    className='save-type__drive-status'\n                    onClick={onDriveConnect}\n                >\n                    {localize(google_drive_connected ? localize('Disconnect') : localize('Connect'))}\n                </Text>\n            )}\n        </div>\n    );\n};\n\nexport default IconRadio;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Field, Form, Formik } from 'formik';\nimport { config, save_types } from '@deriv/bot-skeleton';\nimport { Button, Icon, Input, MobileFullPageModal, Modal, RadioGroup, Text, ThemedScrollbars } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from '../../../../stores/useDBotStore';\nimport IconRadio from './icon-radio';\n\ntype TSaveModalForm = {\n    bot_name: string;\n    button_status: number;\n    google_drive_connected?: boolean;\n    is_authorised: boolean;\n    is_mobile?: boolean;\n    is_onscreen_keyboard_active?: boolean;\n    is_save_modal_open?: boolean;\n    icon?: string;\n    text?: string;\n    onConfirmSave: () => void;\n    onDriveConnect: () => void;\n    toggleSaveModal: () => void;\n    setCurrentFocus: () => void;\n    validateBotName: () => void;\n};\n\nconst SaveModalForm = ({\n    bot_name,\n    button_status,\n    is_authorised,\n    onConfirmSave,\n    onDriveConnect,\n    validateBotName,\n    toggleSaveModal,\n    is_mobile,\n    is_onscreen_keyboard_active,\n    setCurrentFocus,\n}: TSaveModalForm) => (\n    <Formik\n        initialValues={{\n            is_local: true,\n            save_as_collection: false,\n            bot_name: bot_name === config.default_file_name ? '' : bot_name,\n        }}\n        validate={validateBotName}\n        onSubmit={onConfirmSave}\n    >\n        {({ values: { is_local }, setFieldValue, touched, errors }) => {\n            const content_height = !is_mobile ? '500px' : `calc(100%)`;\n            return (\n                <ThemedScrollbars height={content_height} autohide>\n                    <Form className={classNames({ 'form--active-keyboard': is_onscreen_keyboard_active })}>\n                        <div className='modal__content'>\n                            <Text size='xs' line_height='l'>\n                                {localize(\n                                    'Enter your bot name, choose to save on your computer or Google Drive, and hit '\n                                )}\n                                <strong>{localize('Save.')}</strong>\n                            </Text>\n                            <div className='modal__content-row'>\n                                <Field name='bot_name'>\n                                    {({ field }) => (\n                                        <Input\n                                            className='save-type__input'\n                                            type='text'\n                                            placeholder={localize('Untitled Strategy')}\n                                            error={touched[field.name] && errors[field.name]}\n                                            label={localize('Bot name')}\n                                            onFocus={e => setCurrentFocus(e.currentTarget.name)}\n                                            onBlur={() => setCurrentFocus(null)}\n                                            {...field}\n                                        />\n                                    )}\n                                </Field>\n                            </div>\n                            <div className='modal__content-row'>\n                                <RadioGroup\n                                    className='radio-group__save-type'\n                                    name='is_local'\n                                    selected={() => {\n                                        if (is_authorised && !is_local) return save_types.GOOGLE_DRIVE;\n                                        return save_types.LOCAL;\n                                    }}\n                                    onToggle={() => setFieldValue('is_local', !is_local)}\n                                >\n                                    <RadioGroup.Item\n                                        id='local'\n                                        label={\n                                            <IconRadio\n                                                text={localize('Local')}\n                                                icon={<Icon icon={is_mobile ? 'IcLocal' : 'IcMyComputer'} size={48} />}\n                                            />\n                                        }\n                                        value={save_types.LOCAL}\n                                    />\n                                    <RadioGroup.Item\n                                        id='drive'\n                                        label={\n                                            <IconRadio\n                                                text={'Google Drive'}\n                                                icon={<Icon icon={'IcGoogleDrive'} size={48} />}\n                                                google_drive_connected={is_authorised}\n                                                onDriveConnect={onDriveConnect}\n                                            />\n                                        }\n                                        value={save_types.GOOGLE_DRIVE}\n                                        disabled={!is_authorised}\n                                        className={classNames({\n                                            'dc-radio-group__item-disabled': !is_authorised,\n                                        })}\n                                    />\n                                </RadioGroup>\n                            </div>\n                            {/* removed this from the save modal popup because it is not there in the design */}\n                            {/* <>\n                                <Field name='save_as_collection'>\n                                    {({ field }) => (\n                                        <Checkbox\n                                            onChange={() => setFieldValue('save_as_collection', !save_as_collection)}\n                                            defaultChecked={save_as_collection}\n                                            label={\n                                                <Text size='xs' line_height='s' weight='bold'>\n                                                    <Localize i18n_default_text='Save as collection' />\n                                                </Text>\n                                            }\n                                            classNameLabel='save-type__checkbox-text'\n                                            {...field}\n                                        />\n                                    )}\n                                </Field>\n                                <div className='save-type__checkbox-description'>\n                                    {localize(\n                                        'Enabling this allows you to save your blocks as one collection which can be easily integrated into other bots.'\n                                    )}\n                                </div>\n                            </> */}\n                        </div>\n                        <div\n                            className={classNames('modal__footer', {\n                                'modal__footer--active-keyboard': is_onscreen_keyboard_active,\n                            })}\n                        >\n                            <Button\n                                type='button'\n                                className='modal__footer--button'\n                                text={localize('Cancel')}\n                                onClick={toggleSaveModal}\n                                secondary\n                            />\n                            <Button\n                                className='modal__footer--button'\n                                type='submit'\n                                is_loading={button_status === 1}\n                                is_submit_success={button_status === 2}\n                                text={localize('Continue')}\n                                primary\n                            />\n                        </div>\n                    </Form>\n                </ThemedScrollbars>\n            );\n        }}\n    </Formik>\n);\nconst SaveModal = observer(() => {\n    const { save_modal, google_drive } = useDBotStore();\n    const { ui } = useStore();\n\n    const {\n        button_status,\n        is_save_modal_open,\n        onConfirmSave,\n        onDriveConnect,\n        toggleSaveModal,\n        validateBotName,\n        bot_name,\n    } = save_modal;\n    const { is_authorised } = google_drive;\n    const { is_onscreen_keyboard_active, setCurrentFocus } = ui;\n\n    const is_mobile = isMobile();\n    return is_mobile ? (\n        <MobileFullPageModal\n            is_modal_open={is_save_modal_open}\n            className='save-modal__wrapper'\n            header={localize('Save strategy')}\n            onClickClose={toggleSaveModal}\n            height_offset='80px'\n            page_overlay\n        >\n            <SaveModalForm\n                bot_name={bot_name}\n                button_status={button_status}\n                is_authorised={is_authorised}\n                onConfirmSave={onConfirmSave}\n                onDriveConnect={onDriveConnect}\n                validateBotName={validateBotName}\n                toggleSaveModal={toggleSaveModal}\n                is_mobile={is_mobile}\n                is_onscreen_keyboard_active={is_onscreen_keyboard_active}\n                setCurrentFocus={setCurrentFocus}\n            />\n        </MobileFullPageModal>\n    ) : (\n        <Modal\n            title={localize('Save Strategy')}\n            className='modal--save'\n            width='32.8rem'\n            height='50rem'\n            is_open={is_save_modal_open}\n            toggleModal={toggleSaveModal}\n        >\n            <SaveModalForm\n                bot_name={bot_name}\n                button_status={button_status}\n                is_authorised={is_authorised}\n                onConfirmSave={onConfirmSave}\n                onDriveConnect={onDriveConnect}\n                validateBotName={validateBotName}\n                toggleSaveModal={toggleSaveModal}\n                setCurrentFocus={setCurrentFocus}\n            />\n        </Modal>\n    );\n});\n\nexport default SaveModal;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { getSavedWorkspaces } from '@deriv/bot-skeleton';\nimport { MobileWrapper, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport DeleteDialog from './delete-dialog';\nimport RecentWorkspace from './recent-workspace';\nimport SaveModal from './save-modal';\nimport './index.scss';\n\nconst HEADERS = [localize('Bot name'), localize('Last modified'), localize('Status')];\n\nconst RecentComponent = observer(() => {\n    const { load_modal, dashboard } = useDBotStore();\n    const { setDashboardStrategies, dashboard_strategies } = load_modal;\n    const { setStrategySaveType, strategy_save_type } = dashboard;\n\n    React.useEffect(() => {\n        setStrategySaveType('');\n        const getStrategies = async () => {\n            const recent_strategies = await getSavedWorkspaces();\n            setDashboardStrategies(recent_strategies);\n        };\n        getStrategies();\n        //this dependency is used when we use the save modal popup\n    }, [strategy_save_type]);\n\n    const is_mobile = isMobile();\n\n    if (!dashboard_strategies?.length) return null;\n    return (\n        <div className='load-strategy__container load-strategy__container--has-footer'>\n            <div className='load-strategy__recent'>\n                <div className='load-strategy__recent__files'>\n                    <div className='load-strategy__title'>\n                        <Text size={is_mobile ? 'xs' : 's'} weight='bold'>\n                            <Localize i18n_default_text='Your bots:' />\n                        </Text>\n                    </div>\n                    <div className='load-strategy__recent__files__list'>\n                        <div\n                            className={classNames('load-strategy__recent-item load-strategy__recent-item__loaded', {\n                                'load-strategy__recent-item__loaded--first-child': !is_mobile,\n                            })}\n                        >\n                            {HEADERS.map(tab_name => {\n                                return (\n                                    <Text size='xs' weight='bold' key={tab_name}>\n                                        {tab_name}\n                                    </Text>\n                                );\n                            })}\n                        </div>\n                        {dashboard_strategies.map((workspace, index) => {\n                            return <RecentWorkspace key={workspace.id} workspace={workspace} index={index} />;\n                        })}\n                    </div>\n                    <DeleteDialog setStrategies={setDashboardStrategies} />\n                    <MobileWrapper>\n                        <SaveModal />\n                    </MobileWrapper>\n                </div>\n            </div>\n        </div>\n    );\n});\n\nexport default RecentComponent;\n","//kept sometihings commented beacuse of mobx to integrate popup functionality here\nimport React from 'react';\nimport classNames from 'classnames';\nimport { DesktopWrapper, Dialog, Icon, MobileFullPageModal, MobileWrapper, Text } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport GoogleDrive from './load-bot-preview/google-drive';\nimport Recent from './load-bot-preview/recent';\n\ntype TCardProps = {\n    has_dashboard_strategies: boolean;\n    is_mobile: boolean;\n};\n\ntype TCardArray = {\n    icon: string;\n    content: string;\n    method: () => void;\n};\n\nconst Cards = observer(({ is_mobile, has_dashboard_strategies }: TCardProps) => {\n    const { dashboard, load_modal, quick_strategy } = useDBotStore();\n    const {\n        onCloseDialog,\n        dialog_options,\n        is_dialog_open,\n        setActiveTab,\n        setFileLoaded,\n        setPreviewOnPopup,\n        setOpenSettings,\n        showVideoDialog,\n    } = dashboard;\n    const { handleFileChange, loadFileFromLocal } = load_modal;\n    const { loadDataStrategy } = quick_strategy;\n\n    const [is_file_supported, setIsFileSupported] = React.useState<boolean>(true);\n    const file_input_ref = React.useRef<HTMLInputElement | null>(null);\n\n    const openGoogleDriveDialog = () => {\n        showVideoDialog({\n            type: 'google',\n        });\n    };\n\n    const openFileLoader = () => {\n        file_input_ref?.current?.click();\n    };\n\n    const actions: TCardArray[] = [\n        {\n            icon: is_mobile ? 'IcLocal' : 'IcMyComputer',\n            content: is_mobile ? localize('Local') : localize('My computer'),\n            method: openFileLoader,\n        },\n        {\n            icon: 'IcGoogleDriveDbot',\n            content: localize('Google Drive'),\n            method: openGoogleDriveDialog,\n        },\n        {\n            icon: 'IcBotBuilder',\n            content: localize('Bot Builder'),\n            method: () => setActiveTab(DBOT_TABS.BOT_BUILDER),\n        },\n        {\n            icon: 'IcQuickStrategy',\n            content: localize('Quick strategy'),\n            method: () => {\n                setActiveTab(DBOT_TABS.BOT_BUILDER);\n                loadDataStrategy();\n            },\n        },\n    ];\n\n    return React.useMemo(\n        () => (\n            <div\n                className={classNames('tab__dashboard__table', {\n                    'tab__dashboard__table--minimized': has_dashboard_strategies && is_mobile,\n                })}\n            >\n                <div\n                    className={classNames('tab__dashboard__table__tiles', {\n                        'tab__dashboard__table__tiles--minimized': has_dashboard_strategies && is_mobile,\n                    })}\n                    id='tab__dashboard__table__tiles'\n                >\n                    {actions.map(icons => {\n                        const { icon, content, method } = icons;\n                        return (\n                            <div\n                                key={content}\n                                className={classNames('tab__dashboard__table__block', {\n                                    'tab__dashboard__table__block--minimized': has_dashboard_strategies && is_mobile,\n                                })}\n                            >\n                                <Icon\n                                    className={classNames('tab__dashboard__table__images', {\n                                        'tab__dashboard__table__images--minimized': has_dashboard_strategies,\n                                    })}\n                                    width='8rem'\n                                    height='8rem'\n                                    icon={icon}\n                                    id={icon}\n                                    onClick={method}\n                                />\n                                <Text color='prominent' size={is_mobile ? 'xxs' : 'xs'}>\n                                    {content}\n                                </Text>\n                            </div>\n                        );\n                    })}\n                    <input\n                        type='file'\n                        ref={file_input_ref}\n                        accept='.xml'\n                        hidden\n                        onChange={e => {\n                            setIsFileSupported(handleFileChange(e, false));\n                            loadFileFromLocal();\n                            setFileLoaded(true);\n                            setOpenSettings('import');\n                        }}\n                    />\n                    <DesktopWrapper>\n                        <Dialog\n                            title={dialog_options.title}\n                            is_visible={is_dialog_open}\n                            onCancel={onCloseDialog}\n                            is_mobile_full_width\n                            className='dc-dialog__wrapper--google-drive'\n                            has_close_icon\n                        >\n                            <GoogleDrive />\n                        </Dialog>\n                    </DesktopWrapper>\n                    <MobileWrapper>\n                        <MobileFullPageModal\n                            is_modal_open={is_dialog_open}\n                            className='load-strategy__wrapper'\n                            header={localize('Load strategy')}\n                            onClickClose={() => {\n                                setPreviewOnPopup(false);\n                                onCloseDialog();\n                            }}\n                            height_offset='80px'\n                            page_overlay\n                        >\n                            <div label='Google Drive' className='google-drive-label'>\n                                <GoogleDrive />\n                            </div>\n                        </MobileFullPageModal>\n                    </MobileWrapper>\n                </div>\n                <Recent is_file_supported={is_file_supported} />\n            </div>\n        ),\n        [is_dialog_open, has_dashboard_strategies]\n    );\n});\n\nexport default Cards;\n","import { localize } from '@deriv/translations';\n\nexport type TSidebarItem = {\n    label: string;\n    content: string[];\n    link: boolean;\n};\n\nexport const SIDEBAR_INTRO: TSidebarItem[] = [\n    {\n        label: localize('Welcome to Deriv Bot!'),\n        content: [\n            localize(\n                'Ready to automate your trading strategy without writing any code? Youve come to the right place.'\n            ),\n            localize('Check out these guides and FAQs to learn more about building your bot:'),\n        ],\n        link: false,\n    },\n    {\n        label: localize('Guide'),\n        content: [localize('Deriv Bot - your automated trading partner')],\n        link: true,\n    },\n    {\n        label: localize('FAQs'),\n        content: [\n            localize('What is Deriv Bot?'),\n            localize('Where do I find the blocks I need?'),\n            localize('How do I remove blocks from the workspace?'),\n        ],\n        link: true,\n    },\n];\n","import React from 'react';\nimport classNames from 'classnames';\nimport { DesktopWrapper, Icon, MobileWrapper, Modal, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { SIDEBAR_INTRO } from './constants';\n\nconst InfoPanel = observer(() => {\n    const is_mobile = isMobile();\n    const { dashboard } = useDBotStore();\n    const {\n        has_started_onboarding_tour,\n        is_info_panel_visible,\n        setActiveTab,\n        setActiveTabTutorial,\n        setInfoPanelVisibility,\n    } = dashboard;\n    const switchTab = (link: boolean, label: string) => {\n        const tutorial_link = link ? setActiveTab(DBOT_TABS.TUTORIAL) : null;\n        const tutorial_label = label === 'Guide' ? setActiveTabTutorial(0) : setActiveTabTutorial(1);\n        return {\n            tutorial_link,\n            tutorial_label,\n        };\n    };\n\n    const handleClose = () => {\n        setInfoPanelVisibility(false);\n        localStorage.setItem('dbot_should_show_info', JSON.stringify(Date.now()));\n    };\n\n    const renderInfo = () => (\n        <div className='db-info-panel'>\n            <div className='db-info-panel__close-action' onClick={handleClose}>\n                <Icon width='1rem' height='1rem' icon='IcCloseIconDbot' />\n            </div>\n\n            {SIDEBAR_INTRO.map(sidebar_item => {\n                const { label, content, link } = sidebar_item;\n                return (\n                    <div key={`${label}-${content}`}>\n                        <Text color='prominent' line_height='xxl' size={is_mobile ? 's' : 'm'} weight='bold' as='h1'>\n                            {label}\n                        </Text>\n                        {content.map(text => (\n                            <Text\n                                key={`info-panel-tour${text}`}\n                                className={classNames('db-info-panel__card', {\n                                    'db-info-panel__content': link,\n                                })}\n                                color='prominent'\n                                line_height='xl'\n                                as='p'\n                                onClick={() => switchTab(link, label)}\n                                size={is_mobile ? 'xxs' : 's'}\n                            >\n                                {text}\n                            </Text>\n                        ))}\n                    </div>\n                );\n            })}\n        </div>\n    );\n\n    return (\n        <>\n            <DesktopWrapper>\n                {!has_started_onboarding_tour && (\n                    <div\n                        className={classNames('tab__dashboard__info-panel', {\n                            'tab__dashboard__info-panel--active': is_info_panel_visible,\n                        })}\n                    >\n                        {renderInfo()}\n                    </div>\n                )}\n            </DesktopWrapper>\n            <MobileWrapper>\n                <Modal\n                    className='statistics__modal statistics__modal--mobile'\n                    is_open={is_info_panel_visible}\n                    toggleModal={handleClose}\n                    width={'440px'}\n                >\n                    <Modal.Body>{renderInfo()}</Modal.Body>\n                </Modal>\n            </MobileWrapper>\n        </>\n    );\n});\n\nexport default InfoPanel;\n","import React from 'react';\nimport { Icon, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport { DBOT_TABS } from 'Constants/bot-contents';\n\ntype TUserGuide = {\n    setActiveTab: (param: number) => void;\n    setActiveTabTutorial: (active_tab_tutorials: number) => void;\n};\n\nconst UserGuide = ({ setActiveTab, setActiveTabTutorial }: TUserGuide) => {\n    return (\n        <div className='tab__dashboard__home__retrigger'>\n            <button\n                data-testid='btn-user-guide'\n                onClick={() => {\n                    setActiveTab(DBOT_TABS.TUTORIAL);\n                    setActiveTabTutorial(0);\n                }}\n            >\n                <Icon className='tab__dashboard__home__retrigger__icon' icon={'IcDbotUserGuide'} />\n                <Text size='xs' line_height='s' className={'tab__dashboard__home__retrigger__text'}>\n                    {localize('User Guide')}\n                </Text>\n            </button>\n        </div>\n    );\n};\n\nexport default UserGuide;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { DesktopWrapper, MobileWrapper, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport Local from './load-bot-preview/local';\nimport Cards from './cards';\nimport InfoPanel from './info-panel';\nimport UserGuide from './user-guide';\n\ntype TMobileIconGuide = {\n    has_dashboard_strategies: boolean;\n    handleTabChange: (active_number: number) => void;\n};\n\ntype TDashboardMobileCommonProps = {\n    is_mobile: boolean;\n    has_dashboard_strategies: boolean;\n};\n\nconst DashboardTitle = ({ is_mobile, has_dashboard_strategies }: TDashboardMobileCommonProps) => (\n    <div\n        className={classNames('tab__dashboard__header', {\n            'tab__dashboard__header--not-listed': !has_dashboard_strategies && is_mobile,\n        })}\n    >\n        <Text color='prominent' line_height='xxl' size={is_mobile ? 's' : 'm'} weight='bold'>\n            {localize('Load or build your bot')}\n        </Text>\n    </div>\n);\n\nconst MobileIconGuide = ({ handleTabChange }: TMobileIconGuide) => (\n    <MobileWrapper>\n        <div>\n            <Local handleTabChange={handleTabChange} />\n        </div>\n    </MobileWrapper>\n);\n\nconst DashboardDescription = ({ is_mobile, has_dashboard_strategies }: TDashboardMobileCommonProps) => (\n    <div\n        className={classNames('tab__dashboard__description', {\n            'tab__dashboard__description__loaded--listed': has_dashboard_strategies && !is_mobile,\n            'tab__dashboard__description__loaded--not-listed':\n                !has_dashboard_strategies || (!has_dashboard_strategies && is_mobile),\n        })}\n    >\n        <Text color='prominent' line_height='s' size={is_mobile ? 'xxs' : 's'}>\n            {localize(\n                'Import a bot from your computer or Google Drive, build it from scratch, or start with a quick strategy.'\n            )}\n        </Text>\n    </div>\n);\n\nconst DashboardComponent = observer(({ handleTabChange }: TMobileIconGuide) => {\n    const { load_modal, dashboard } = useDBotStore();\n    const { dashboard_strategies } = load_modal;\n    const { setActiveTab, setActiveTabTutorial, has_started_onboarding_tour } = dashboard;\n    const has_dashboard_strategies = !!dashboard_strategies?.length;\n    const is_mobile = isMobile();\n\n    return (\n        <React.Fragment>\n            <div\n                className={classNames('tab__dashboard', {\n                    'tab__dashboard--tour-active': has_started_onboarding_tour,\n                })}\n            >\n                <div className='tab__dashboard__content'>\n                    <div\n                        className={classNames('tab__dashboard__centered', {\n                            'tab__dashboard__centered--listed': !is_mobile && has_dashboard_strategies,\n                            'tab__dashboard__centered--not-listed': !has_dashboard_strategies,\n                        })}\n                    >\n                        {!has_dashboard_strategies && !is_mobile && (\n                            <DashboardTitle is_mobile={is_mobile} has_dashboard_strategies={has_dashboard_strategies} />\n                        )}\n                        <DesktopWrapper>\n                            {!has_dashboard_strategies && (\n                                <UserGuide setActiveTab={setActiveTab} setActiveTabTutorial={setActiveTabTutorial} />\n                            )}\n                        </DesktopWrapper>\n                        <div>\n                            <div\n                                className={classNames({\n                                    'tab__dashboard__mobile-container': is_mobile,\n                                    'tab__dashboard__mobile-container--minimized':\n                                        is_mobile && has_dashboard_strategies,\n                                })}\n                            >\n                                {is_mobile && !has_dashboard_strategies && (\n                                    <DashboardTitle\n                                        is_mobile={is_mobile}\n                                        has_dashboard_strategies={has_dashboard_strategies}\n                                    />\n                                )}\n                                {(!is_mobile || (is_mobile && has_dashboard_strategies)) && (\n                                    <DashboardDescription\n                                        is_mobile={is_mobile}\n                                        has_dashboard_strategies={has_dashboard_strategies}\n                                    />\n                                )}\n                                <MobileIconGuide\n                                    handleTabChange={handleTabChange}\n                                    has_dashboard_strategies={has_dashboard_strategies}\n                                />\n                            </div>\n                            {is_mobile && !has_dashboard_strategies && (\n                                <DashboardDescription\n                                    is_mobile={is_mobile}\n                                    has_dashboard_strategies={has_dashboard_strategies}\n                                />\n                            )}\n                        </div>\n                        <Cards has_dashboard_strategies={has_dashboard_strategies} is_mobile={is_mobile} />\n                    </div>\n\n                    {has_dashboard_strategies && !is_mobile && (\n                        <div className='tab__dashboard__preview'>\n                            <Local handleTabChange={handleTabChange} />\n                        </div>\n                    )}\n                </div>\n            </div>\n            <InfoPanel />\n        </React.Fragment>\n    );\n});\n\nexport default DashboardComponent;\n","import DashboardComponent from './dashboard-component';\n\nexport default DashboardComponent;\n","import React from 'react';\nimport ReactJoyride, { Step, Styles } from 'react-joyride';\nimport { localize } from '@deriv/translations';\nimport { handleJoyrideCallback } from './joyride-config';\n\nconst common_tour_button_properties = {\n    fontWeight: '700',\n    fontSize: '1.4rem',\n    height: '4rem',\n    padding: '1rem 1.6rem',\n};\n\nconst ReactJoyrideWrapper = ({ steps, styles, ...props }: { steps: Step[]; styles: Styles }) => {\n    return (\n        <ReactJoyride\n            steps={steps}\n            continuous\n            callback={handleJoyrideCallback}\n            locale={{ back: localize('Previous'), next: localize('Next') }}\n            {...props}\n            styles={{\n                options: {\n                    arrowColor: 'var(--general-main-2)',\n                    backgroundColor: 'var(--general-main-2)',\n                    primaryColor: 'var(--brand-red-coral)',\n                    textColor: 'var(--text-general)',\n                    spotlightShadow: '0 0 15px rgba(0, 0, 0, 0.5)',\n                },\n                buttonBack: {\n                    border: '0.2rem solid var(--text-less-prominent)',\n                    marginRight: '1rem',\n                    borderRadius: '0.4rem',\n                    color: 'var(--text-general)',\n                    ...common_tour_button_properties,\n                },\n                buttonNext: {\n                    ...common_tour_button_properties,\n                },\n                overlay: {\n                    height: '100%',\n                },\n                ...styles,\n            }}\n        />\n    );\n};\n\nexport default ReactJoyrideWrapper;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Icon, ProgressBarOnboarding, Text } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { BOT_BUILDER_MOBILE, DBOT_ONBOARDING_MOBILE, TStepMobile } from './joyride-config';\n\ntype TTourButton = {\n    type?: string;\n    onClick: () => void;\n    label: string;\n};\n\ntype TAccordion = {\n    content_data: TStepMobile;\n    expanded: boolean;\n};\n\nconst TourButton = ({ label, type = 'default', ...props }: TTourButton) => {\n    return (\n        <button className={type} {...props}>\n            <Text color='prominent' align='center' weight='bold' as='span' line_height='s' size='xs'>\n                {label}\n            </Text>\n        </button>\n    );\n};\n\nconst Accordion = ({ content_data, expanded = false, ...props }: TAccordion) => {\n    const [is_open, setOpen] = React.useState(expanded);\n    const { content, header } = content_data;\n\n    return (\n        <div className='dbot-accordion' {...props}>\n            <div>\n                <div className='dbot-accordion__navbar' onClick={() => setOpen(!is_open)}>\n                    <div className='dbot-accordion__header'>\n                        <Text as='span' size='xs' weight='bold'>\n                            {localize(header)}\n                        </Text>\n                    </div>\n                    <div className='dbot-accordion__icon'>\n                        <Icon icon={is_open ? 'IcChevronDownBold' : 'IcChevronUpBold'} />\n                    </div>\n                </div>\n                <div\n                    className={classNames('dbot-accordion__content', {\n                        'dbot-accordion__content--open': is_open,\n                    })}\n                >\n                    <Text as='span' size='xxs' line_height='s'>\n                        {localize(content)}\n                    </Text>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst TourSlider = observer(() => {\n    const { dashboard, load_modal } = useDBotStore();\n    const { has_started_bot_builder_tour, has_started_onboarding_tour, onCloseTour, onTourEnd, setTourActiveStep } =\n        dashboard;\n    const { toggleTourLoadModal } = load_modal;\n    const [step, setStep] = React.useState<number>(1);\n    const [slider_content, setContent] = React.useState<string | string[]>('');\n    const [slider_header, setheader] = React.useState<string>('');\n    const [slider_image, setimg] = React.useState<string>('');\n    const [step_key, setStepKey] = React.useState<number>(0);\n\n    React.useEffect(() => {\n        setTourActiveStep(step);\n        Object.values(!has_started_onboarding_tour ? BOT_BUILDER_MOBILE : DBOT_ONBOARDING_MOBILE).forEach(data => {\n            if (data.key === step) {\n                setContent(data?.content);\n                setheader(data?.header);\n                setimg(data?.img);\n                setStepKey(data?.step_key);\n            }\n        });\n        const el_ref = document.querySelector('.toolbar__group-btn svg:nth-child(2)');\n        if (has_started_bot_builder_tour && step === 1) {\n            //component does not rerender\n            el_ref?.classList.add('dbot-tour-blink');\n        } else {\n            el_ref?.classList.remove('dbot-tour-blink');\n        }\n        if (has_started_bot_builder_tour && step === 2) {\n            toggleTourLoadModal(true);\n        } else toggleTourLoadModal(false);\n    }, [step]);\n\n    const onChange = React.useCallback(\n        (param: string) => {\n            const MOBILE_TOUR = !has_started_onboarding_tour ? BOT_BUILDER_MOBILE : DBOT_ONBOARDING_MOBILE;\n            if (param === 'inc' && step < Object.keys(MOBILE_TOUR).length) setStep(step + 1);\n            else if (param === 'dec' && step > 1) setStep(step - 1);\n            else if (param === 'skip') onCloseTour();\n        },\n        [step]\n    );\n\n    const content_data = BOT_BUILDER_MOBILE.find(({ key }) => key === step);\n    const onClickNext = React.useCallback(() => {\n        onChange('inc');\n        onTourEnd(step, has_started_onboarding_tour);\n    }, [step]);\n\n    const bot_tour_text = !has_started_onboarding_tour && step === 3 ? localize('Finish') : localize('Next');\n\n    const tour_button_text = has_started_onboarding_tour && step_key === 0 ? localize('Start') : bot_tour_text;\n\n    return (\n        <>\n            <div\n                className={classNames('dbot-slider', {\n                    'dbot-slider__bot-builder-tour': !has_started_onboarding_tour,\n                    'dbot-slider--active': has_started_onboarding_tour && step === 1,\n                    'dbot-slider--tour-position': has_started_onboarding_tour && step_key !== 0,\n                })}\n            >\n                {has_started_onboarding_tour && slider_header && step_key !== 0 && (\n                    <div className='dbot-slider__navbar'>\n                        <Text\n                            color='less-prominent'\n                            weight='less-prominent'\n                            line_height='s'\n                            size='xxs'\n                        >{`${step_key}/6`}</Text>\n                        <Text\n                            color='prominent'\n                            weight='--text-less-prominent'\n                            line_height='s'\n                            size='xxs'\n                            onClick={onCloseTour}\n                        >\n                            {localize('Exit Tour')}\n                        </Text>\n                    </div>\n                )}\n\n                {has_started_onboarding_tour && slider_header && (\n                    <Text\n                        color='prominent'\n                        weight='bold'\n                        align='center'\n                        className='dbot-slider__title'\n                        as='span'\n                        line_height='s'\n                        size='xs'\n                    >\n                        {localize(slider_header)}\n                    </Text>\n                )}\n                {has_started_onboarding_tour && slider_image && (\n                    <div className='dbot-slider__image'>\n                        <img src={slider_image} />\n                    </div>\n                )}\n                {has_started_onboarding_tour && slider_content && (\n                    <>\n                        {slider_content.map(data => {\n                            return (\n                                <Text\n                                    key={data}\n                                    align='center'\n                                    color='prominent'\n                                    className='dbot-slider__content'\n                                    as='div'\n                                    line_height='s'\n                                    size='xxs'\n                                >\n                                    {localize(data)}\n                                </Text>\n                            );\n                        })}\n                    </>\n                )}\n                {!has_started_onboarding_tour && content_data && <Accordion content_data={content_data} expanded />}\n                <div className='dbot-slider__status'>\n                    <div className='dbot-slider__progress-bar'>\n                        {(!has_started_onboarding_tour || (has_started_onboarding_tour && step !== 1)) && (\n                            <ProgressBarOnboarding\n                                step={step}\n                                amount_of_steps={Object.keys(\n                                    !has_started_onboarding_tour ? BOT_BUILDER_MOBILE : DBOT_ONBOARDING_MOBILE\n                                )}\n                                setStep={setStep}\n                            />\n                        )}\n                    </div>\n                    <div className='dbot-slider__button-group'>\n                        {has_started_onboarding_tour && step === 1 && (\n                            <TourButton\n                                onClick={() => {\n                                    onChange('skip');\n                                }}\n                                label={localize('Skip')}\n                            />\n                        )}\n                        {((has_started_bot_builder_tour && step !== 1) ||\n                            (has_started_onboarding_tour && step !== 1 && step !== 2)) && (\n                            <TourButton\n                                onClick={() => {\n                                    onChange('dec');\n                                }}\n                                label={localize('Previous')}\n                            />\n                        )}\n                        <TourButton type='danger' onClick={onClickNext} label={tour_button_text} />\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n});\n\nexport default TourSlider;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Dialog, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport { useDBotStore } from '../../stores/useDBotStore';\nimport { setTourSettings, tour_status_ended, tour_type } from './joyride-config';\n\nconst TourTriggrerDialog = observer(() => {\n    const { dashboard } = useDBotStore();\n    const { active_tab, has_tour_ended, is_tour_dialog_visible, setTourDialogVisibility, toggleOnConfirm } = dashboard;\n\n    const is_mobile = isMobile();\n\n    const toggleTour = (value: boolean, type: string) => {\n        if (tour_type.key === 'onboard_tour') {\n            if (type === 'onConfirm') {\n                toggleOnConfirm(active_tab, value);\n            } else {\n                setTourSettings(new Date().getTime(), `${tour_type.key}_token`);\n            }\n            tour_type.key = 'onboard_tour';\n        } else if (tour_type.key === 'bot_builder') {\n            if (type === 'onConfirm') {\n                toggleOnConfirm(active_tab, value);\n            } else {\n                setTourSettings(new Date().getTime(), `${tour_type.key}_token`);\n            }\n            tour_type.key = 'bot_builder';\n        }\n        setTourDialogVisibility(false);\n    };\n\n    const dashboardTourContent = () => {\n        if (!has_tour_ended) {\n            return (\n                <Localize\n                    key={0}\n                    i18n_default_text={'Hi! Hit <0>Start</0> for a quick tour to help you get started.'}\n                    components={[<strong key={0} />]}\n                />\n            );\n        }\n        return (\n            <Localize key={0} i18n_default_text={'If yes, go to <0>Tutorials</0>.'} components={[<strong key={0} />]} />\n        );\n    };\n\n    const getTourHeaders = (tour_check: boolean, tab_id: number) => {\n        let text;\n        if (!tour_check) {\n            if (tab_id === 1 && is_mobile) text = localize('Bot Builder guide');\n            else if (tab_id === 1) text = localize(\"Let's build a Bot!\");\n            else text = localize('Get started on Deriv Bot');\n        } else if (tab_id === 1) text = localize('Congratulations');\n        else text = localize('Want to retake the tour?');\n        return text;\n    };\n\n    const tourDialogInfo = is_mobile\n        ? localize('Heres a quick guide on how to use Deriv Bot on the go.')\n        : localize('Learn how to build your bot from scratch using a simple strategy.');\n\n    const tourDialogAction = is_mobile\n        ? localize(\n              'You can import a bot from your mobile device or from Google drive, see a preview in the bot builder, and start trading by running the bot.'\n          )\n        : localize('Hit the <0>Start</0> button to begin and follow the tutorial.');\n\n    const getTourContent = (type: string) => {\n        return (\n            <>\n                {type === 'header' && getTourHeaders(has_tour_ended, active_tab)}\n                {type === 'content' && active_tab === 0 && dashboardTourContent()}\n                {type === 'content' &&\n                    active_tab === 1 &&\n                    (!has_tour_ended ? (\n                        <>\n                            <div className='dc-dialog__content__description__text'>\n                                <Localize key={0} i18n_default_text={tourDialogInfo} />\n                            </div>\n                            <div className='dc-dialog__content__description__text'>\n                                <Localize\n                                    key={0}\n                                    i18n_default_text={tourDialogAction}\n                                    components={[<strong key={0} />]}\n                                />\n                            </div>\n                            <div className='dc-dialog__content__description__text'>\n                                <Localize\n                                    key={0}\n                                    i18n_default_text={\n                                        'Note: You can also find this tutorial in the <0>Tutorials</0> tab.'\n                                    }\n                                    components={[<strong key={0} />]}\n                                />\n                            </div>\n                        </>\n                    ) : (\n                        <>\n                            <div className='dc-dialog__content__description__text' data-testid='tour-success-message'>\n                                <Localize\n                                    key={0}\n                                    i18n_default_text={\n                                        'You have successfully created your bot using a simple strategy.'\n                                    }\n                                />\n                            </div>\n                            <div className='dc-dialog__content__description__text'>\n                                <Localize\n                                    key={0}\n                                    i18n_default_text={'Now, <0>run the bot</0> to test out the strategy.'}\n                                    components={[<strong key={0} />]}\n                                />\n                            </div>\n                            <div className='dc-dialog__content__description__text'>\n                                <Localize\n                                    key={0}\n                                    i18n_default_text={\n                                        'Note: If you wish to learn more about the Bot Builder, you can proceed to the <0>Tutorials</0> tab.'\n                                    }\n                                    components={[<strong key={0} />]}\n                                />\n                            </div>\n                        </>\n                    ))}\n            </>\n        );\n    };\n\n    const confirm_button = active_tab === 0 ? localize('Got it, thanks!') : localize('OK');\n\n    const onHandleConfirm = React.useCallback(() => {\n        const status = tour_status_ended.key === 'finished';\n        toggleTour(status ? false : !has_tour_ended, 'onConfirm');\n        tour_status_ended.key = '';\n        return status ? tour_status_ended.key : null;\n    }, [has_tour_ended, active_tab]);\n\n    return (\n        <div>\n            <Dialog\n                is_visible={is_tour_dialog_visible}\n                cancel_button_text={localize('Skip')}\n                onCancel={() => toggleTour(false, 'onCancel')}\n                confirm_button_text={has_tour_ended ? confirm_button : localize('Start')}\n                onConfirm={onHandleConfirm}\n                is_mobile_full_width\n                className={classNames('dc-dialog', {\n                    'tour-dialog': active_tab === 0 || active_tab === 1,\n                    'tour-dialog--end': (active_tab === 0 || active_tab === 1) && has_tour_ended,\n                })}\n                has_close_icon={false}\n            >\n                <div className='dc-dialog__content__header'>\n                    <Text weight='bold' color='prominent' size={is_mobile ? 'xs' : 's'}>\n                        {is_tour_dialog_visible && getTourContent('header')}\n                    </Text>\n                </div>\n                <div className='dc-dialog__content__description'>\n                    <Text size={is_mobile ? 'xxs' : 's'} color='prominent'>\n                        {is_tour_dialog_visible && getTourContent('content')}\n                    </Text>\n                </div>\n            </Dialog>\n        </div>\n    );\n});\n\nexport default TourTriggrerDialog;\n","import React from 'react';\nimport { Accordion, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { TDescription } from './tutorial-content';\n\ntype TFAQContent = {\n    faq_list: TFAQList[];\n    hide_header?: boolean;\n};\n\ntype TFAQList = {\n    title: string;\n    description: TDescription[];\n};\n\nconst FAQ = ({ type, content, src }: TDescription) => {\n    if (type === 'image') return <img src={src} />;\n    const is_mobile = isMobile();\n\n    return (\n        <Text\n            as='p'\n            size={is_mobile ? 'xs' : 's'}\n            line_height={is_mobile ? 'xl' : 'xxl'}\n            className='faq__description'\n            weight='normal'\n            key={content}\n            dangerouslySetInnerHTML={{ __html: content }}\n        />\n    );\n};\n\nconst FAQContent = observer(({ faq_list, hide_header = false }: TFAQContent) => {\n    const { dashboard } = useDBotStore();\n\n    const { faq_search_value } = dashboard;\n\n    const getList = () => {\n        return faq_list.map(({ title, description }: TFAQList) => ({\n            header: (\n                <Text\n                    as='p'\n                    line_height='xl'\n                    className='faq__title'\n                    weight='bold'\n                    key={title}\n                    size={isMobile() ? 'xs' : 's'}\n                >\n                    {title}\n                </Text>\n            ),\n            content: description.map(item => <FAQ {...item} key={`faq-description-item-${item}`} />),\n        }));\n    };\n\n    return (\n        <div>\n            <div className='faq__wrapper'>\n                {!hide_header && (\n                    <Text as='p' line_height='xl' className='faq__wrapper__header' weight='bold'>\n                        {localize('FAQ')}\n                    </Text>\n                )}\n                {faq_list?.length ? (\n                    <Accordion className='faq__wrapper__content' list={getList()} icon_close='' icon_open='' />\n                ) : (\n                    <div className='faq__wrapper__nosearch'>\n                        <Text as='h1' weight='bold' line_height='xxs'>\n                            {localize('No results found \"{{ faq_search_value }}\"', {\n                                faq_search_value,\n                            })}\n                        </Text>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n});\n\nexport default FAQContent;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Dialog, Icon, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { removeKeyValue } from '../../../utils/settings';\nimport { tour_type } from '../joyride-config';\n\ntype TGuideContent = {\n    guide_list: [];\n};\n\nconst GuideContent = observer(({ guide_list }: TGuideContent) => {\n    const { dashboard } = useDBotStore();\n    const {\n        dialog_options,\n        faq_search_value,\n        is_dialog_open,\n        onCloseDialog: onOkButtonClick,\n        setActiveTab,\n        setHasTourEnded,\n        setOnBoardTourRunState,\n        setTourActive,\n        setTourDialogVisibility,\n        showVideoDialog,\n    } = dashboard;\n\n    const triggerTour = (type: string) => {\n        const storage = JSON.parse(localStorage?.dbot_settings);\n        if (type === 'OnBoard') {\n            if (storage.onboard_tour_token) {\n                removeKeyValue('onboard_tour_token');\n                removeKeyValue('onboard_tour_status');\n                removeKeyValue('bot_builder_status');\n            }\n            tour_type.key = 'onboard_tour';\n            setHasTourEnded(false);\n            if (is_mobile) {\n                setTourActive(true);\n                setOnBoardTourRunState(true);\n            } else {\n                setTourDialogVisibility(true);\n            }\n            setActiveTab(DBOT_TABS.DASHBOARD);\n        } else {\n            if (storage.bot_builder_token) {\n                removeKeyValue('bot_builder_token');\n                removeKeyValue('bot_builder_status');\n                removeKeyValue('onboard_tour_status');\n            }\n            tour_type.key = 'bot_builder';\n            setHasTourEnded(false);\n            setTourDialogVisibility(true);\n            setActiveTab(DBOT_TABS.BOT_BUILDER);\n        }\n    };\n    const is_mobile = isMobile();\n\n    return React.useMemo(\n        () => (\n            <div className='tutorials-wrap'>\n                {guide_list?.length > 0 && (\n                    <Text align='center' weight='bold' color='prominent' line_height='s' size={is_mobile ? 'xxs' : 's'}>\n                        {localize('Step-by-step guides')}\n                    </Text>\n                )}\n                <div className='tutorials-wrap__group'>\n                    {guide_list &&\n                        guide_list.map(({ id, content, src, type, subtype }) => {\n                            return (\n                                type === 'Tour' && (\n                                    <div\n                                        className='tutorials-wrap__group__cards tutorials-wrap--tour'\n                                        key={id}\n                                        onClick={() => triggerTour(subtype)}\n                                    >\n                                        <div\n                                            className={classNames('tutorials-wrap__placeholder__tours', {\n                                                'tutorials-wrap__placeholder--disabled': !src,\n                                            })}\n                                            style={{\n                                                backgroundImage: `url(${src})`,\n                                            }}\n                                        />\n                                        <Text\n                                            align='center'\n                                            color='prominent'\n                                            line_height='s'\n                                            size={is_mobile ? 'xxs' : 's'}\n                                        >\n                                            {content}\n                                        </Text>\n                                    </div>\n                                )\n                            );\n                        })}\n                </div>\n                {guide_list?.length > 0 && (\n                    <Text align='center' weight='bold' color='prominent' line_height='s' size={is_mobile ? 'xxs' : 's'}>\n                        {localize('Videos on Deriv Bot')}\n                    </Text>\n                )}\n                <div className='tutorials-wrap__group'>\n                    {guide_list &&\n                        guide_list.map(({ id, content, url, type, src }) => {\n                            return (\n                                type !== 'Tour' && (\n                                    <div className='tutorials-wrap__group__cards tutorials-wrap--placeholder' key={id}>\n                                        <div\n                                            className={classNames('tutorials-wrap__placeholder', {\n                                                'tutorials-wrap__placeholder--disabled': !url,\n                                            })}\n                                            style={{\n                                                backgroundImage: `url(${src})`,\n                                            }}\n                                        >\n                                            <div className='tutorials-wrap__placeholder__button-group'>\n                                                <Icon\n                                                    className='tutorials-wrap__placeholder__button-group--play'\n                                                    width='4rem'\n                                                    height='4rem'\n                                                    icon={'IcPlayOutline'}\n                                                    onClick={() =>\n                                                        showVideoDialog({\n                                                            type: 'url',\n                                                            url,\n                                                        })\n                                                    }\n                                                />\n                                            </div>\n                                        </div>\n                                        <Text\n                                            align='center'\n                                            color='prominent'\n                                            line_height='s'\n                                            size={is_mobile ? 'xxs' : 's'}\n                                        >\n                                            {content}\n                                        </Text>\n                                    </div>\n                                )\n                            );\n                        })}\n                    {!guide_list.length && (\n                        <div className='tutorials-wrap__group__nosearch'>\n                            <Text as='h1' weight='bold' line_height='xxs'>\n                                {localize('No results found \"{{ faq_search_value }}\"', {\n                                    faq_search_value,\n                                })}\n                            </Text>\n                        </div>\n                    )}\n                </div>\n                <Dialog\n                    title={dialog_options.title}\n                    is_visible={is_dialog_open}\n                    cancel_button_text={localize('Cancel')}\n                    onCancel={onOkButtonClick}\n                    confirm_button_text={localize('OK')}\n                    onConfirm={onOkButtonClick}\n                    is_mobile_full_width\n                    className={'dc-dialog'}\n                    has_close_icon\n                    onClose={onOkButtonClick}\n                >\n                    <iframe width='100%' height='100%' src={dialog_options.url} frameBorder='0' allowFullScreen />\n                </Dialog>\n            </div>\n        ),\n        [guide_list, is_dialog_open]\n    );\n});\n\nexport default GuideContent;\n","import { getImageLocation } from '../../../public-path';\nimport { localize } from '@deriv/translations';\n\nexport type TDescription = Pick<TContent, 'type' | 'content' | 'src'>;\n\nexport type TFaqContent = Pick<TContent, 'title' | 'description' | 'src'>;\n\nexport type TGuideContent = Omit<TContent, 'title' | 'description'>;\n\nexport type TUserGuideContent = Omit<TContent, 'title' | 'description'>;\n\nexport type TContent = {\n    content?: string;\n    description: TDescription[];\n    id: number;\n    src?: string;\n    subtype?: string;\n    title: string;\n    type: string;\n    url?: string;\n};\nexport const user_guide_content: TUserGuideContent[] = [\n    {\n        id: 1,\n        type: 'Tour',\n        subtype: 'OnBoard',\n        content: localize('Get started on Deriv Bot'),\n        src: getImageLocation('onboard-tour.png'),\n    },\n    {\n        id: 2,\n        type: 'Tour',\n        subtype: 'BotBuilder',\n        content: localize('Lets build a bot!'),\n        src: getImageLocation('builder-tour.png'),\n    },\n];\n\nexport const guide_content: TGuideContent[] = [\n    {\n        id: 1,\n        type: 'DBotVideo',\n        content: localize('Deriv Bot - your automated trading partner'),\n        url: 'https://www.youtube.com/embed/QdI5zCkO4Gk',\n        src: getImageLocation('video_dbot.webp'),\n    },\n];\n\nexport const faq_content: TFaqContent[] = [\n    {\n        title: localize('What is Deriv Bot?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    \"Deriv Bot is a web-based strategy builder for trading digital options. Its a platform where you can build your own automated trading bot using drag-and-drop 'blocks'.\"\n                ),\n            },\n        ],\n    },\n    {\n        title: localize('Where do I find the blocks I need?'),\n        description: [\n            {\n                type: 'text',\n                content: localize('Follow these steps:'),\n            },\n            {\n                type: 'text',\n                content: localize('1. Go to <strong>Bot Builder</strong>.'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    \"2. Under the <strong>Blocks menu</strong>, you'll see a list of categories. Blocks are grouped within these categories. Choose the block you want and drag them to the workspace.\"\n                ),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('blocks_menu.png'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '3. You can also search for the blocks you want using the search bar above the categories.'\n                ),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('blocks_menu_search.png'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    'For more info, <a href=\"https://deriv.com/academy/blog/posts/how-to-build-a-basic-trading-bot-with-dbot/\" target=\"_blank\">check out this blog post</a> on the basics of building a trading bot.'\n                ),\n            },\n        ],\n    },\n    {\n        title: localize('How do I remove blocks from the workspace?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'Click on the block you want to remove and press <strong>Delete</strong> on your keyboard.'\n                ),\n            },\n        ],\n    },\n    {\n        title: localize('How do I create variables?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    '1. Under the <strong>Blocks</strong> menu, go to <strong>Utility > Variables</strong>.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '2. Enter a name for your variable, and hit <strong>Create</strong>. New blocks containing your new variable will appear below.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize('3. Choose the block you want and drag it to the workspace.'),\n            },\n        ],\n    },\n    {\n        title: localize('Do you offer pre-built trading bots on Deriv Bot?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    \"Yes, you can get started with a pre-built bot using the <strong>Quick strategy</strong> feature. Youll find some of the most popular trading strategies here: Martingale, D'Alembert, and Oscar's Grind. Just select the strategy, enter your trade parameters, and your bot will be created for you. You can always tweak the parameters later.\"\n                ),\n            },\n        ],\n    },\n    {\n        title: localize('What is a quick strategy?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    \"A quick strategy is a ready-made strategy that you can use in Deriv Bot. There are 3 quick strategies you can choose from: Martingale, D'Alembert, and Oscar's Grind.\"\n                ),\n            },\n            {\n                type: 'text',\n                content: localize('<strong>Using a quick strategy</strong>'),\n            },\n            {\n                type: 'text',\n                content: localize('1. Go to <strong>Quick strategy</strong> and select the strategy you want.'),\n            },\n            {\n                type: 'text',\n                content: localize('2. Select the asset and trade type.'),\n            },\n            {\n                type: 'text',\n                content: localize('3. Set your trade parameters and hit <strong>Create</strong>.'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '4. Once the blocks are loaded onto the workspace, tweak the parameters if you want, or hit <strong>Run</strong> to start trading.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '5. Hit <strong>Save</strong> to download your bot. You can choose to download your bot to your device or your Google Drive.'\n                ),\n            },\n        ],\n    },\n    {\n        title: localize('How do I save my strategy?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'In <strong>Bot Builder</strong>, hit <strong>Save</strong> on the toolbar at the top to download your bot. Give your bot a name, and choose to download your bot to your device or Google Drive. Your bot will be downloaded as an XML file.'\n                ),\n            },\n        ],\n    },\n    {\n        title: localize('How do I import my own trading bot into Deriv Bot?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'Just drag the XML file from your computer onto the workspace, and your bot will be loaded accordingly. Alternatively, you can hit <strong>Import</strong> in <strong>Bot Builder</strong>, and choose to import your bot from your computer or from your Google Drive.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize('<strong>Import from your computer</strong>'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '1. After hitting <strong>Import</strong>, select <strong>Local</strong> and click <strong>Continue</strong>.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize('2. Select your XML file and hit <strong>Open</strong>.'),\n            },\n            {\n                type: 'text',\n                content: localize('3. Your bot will be loaded accordingly.'),\n            },\n            {\n                type: 'text',\n                content: localize('<strong>Import from your Google Drive</strong>'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '1. After hitting <strong>Import</strong>, select <strong>Google Drive</strong> and click <strong>Continue</strong>.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize('2. Select your XML file and hit <strong>Select</strong>.'),\n            },\n            {\n                type: 'text',\n                content: localize('3. Your bot will be loaded accordingly.'),\n            },\n        ],\n    },\n    {\n        title: localize('How do I reset the workspace?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'In <strong>Bot Builder</strong>, hit <strong>Reset</strong> on the toolbar at the top. This will clear the workspace. Please note that any unsaved changes will be lost.'\n                ),\n            },\n        ],\n    },\n    {\n        title: localize('How do I clear my transaction log?'),\n        description: [\n            {\n                type: 'text',\n                content: localize('1. Hit <strong>Reset</strong> at the bottom of stats panel.'),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('reset_transaction_log.png'),\n            },\n            {\n                type: 'text',\n                content: localize('2. Hit <strong>Ok</strong> to confirm.'),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('reset_transaction_log_message.png'),\n            },\n        ],\n    },\n    {\n        title: localize('How do I control my losses with Deriv Bot?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'There are several ways to control your losses with Deriv Bot. Heres a simple example of how you can implement loss control in your strategy:'\n                ),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('loss_control.png'),\n            },\n            {\n                type: 'text',\n                content: localize('1. Create the following variables:'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '- <strong>currentPL</strong>: Use this variable to store the cumulative profit or loss while your bot is running. Set the initial value to <strong>0</strong>.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '- <strong>currentStake</strong>: Use this variable to store the stake amount used in the last contract. You can assign any amount you want, but it must be a positive number.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '- <strong>maximumLoss</strong>: Use this variable to store your maximum loss limit. You can assign any amount you want, but it must be a positive number.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '- <strong>tradeAgain</strong>: Use this variable to stop trading when your loss limit is reached. Set the initial value to <strong>true</strong>.'\n                ),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('loss_control_trade_parameters.png'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '2. Use a logic block to check if <strong>currentPL</strong> exceeds <strong>maximumLoss</strong>. If it does, set <strong>tradeAgain</strong> to false to prevent the bot from running another cycle.'\n                ),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('loss_control_purchase_conditions.png'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '3. Update <strong>currentPL</strong> with the profit from the last contract. If the last contract was lost, the value of <strong>currentPL</strong> will be negative.'\n                ),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('loss_control_restart_trade_conditions.png'),\n            },\n        ],\n    },\n    {\n        title: localize('Can I run Deriv Bot on multiple tabs in my web browser?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'Yes, you can. However, there are limits on your account, such as maximum number of open positions and maximum aggregate payouts on open positions. So, just keep these limits in mind when opening multiple positions. You can find more info about these limits at <a href=\"https://app.deriv.com/account/account-limits\" target=\"_blank\">Settings > Account limits</a>.'\n                ),\n            },\n        ],\n    },\n    {\n        title: localize('Can I trade cryptocurrencies on Deriv Bot?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\"No, we don't offer cryptocurrencies on Deriv Bot.\"),\n            },\n        ],\n    },\n    {\n        title: localize('Do you sell trading bots?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    \"No, we don't. However, you'll find quick strategies on Deriv Bot that'll help you build your own trading bot for free.\"\n                ),\n            },\n        ],\n    },\n    {\n        title: localize('In which countries is Deriv Bot available?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'We offer our services in all countries, except for the ones <a href=\"https://deriv.com/tnc/general-terms.pdf\" target=\"_blank\">mentioned in our terms and conditions.</a>'\n                ),\n            },\n        ],\n    },\n    {\n        title: localize('If I close my web browser, will Deriv Bot continue to run?'),\n        description: [\n            {\n                type: 'text',\n                content: localize('No, Deriv Bot will stop running when your web browser is closed.'),\n            },\n        ],\n    },\n    {\n        title: localize('What are the most popular strategies for automated trading?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    \"Three of the most commonly used strategies in automated trading are Martingale, D'Alembert, and Oscar's Grind  you can find them all ready-made and waiting for you in Deriv Bot.\"\n                ),\n            },\n        ],\n    },\n    {\n        title: localize('How do I build a trading bot?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    '<a href=\"https://www.youtube.com/watch?v=QdI5zCkO4Gk&t=203s\" target=\"_blank\">Watch this video</a> to learn how to build a trading bot on Deriv Bot. Also, <a href=\"https://deriv.com/academy/blog/posts/how-to-build-a-basic-trading-bot-with-dbot/\" target=\"_blank\">check out this blog post</a> on building a trading bot.'\n                ),\n            },\n        ],\n    },\n];\n","import React from 'react';\nimport classNames from 'classnames';\nimport debounce from 'lodash.debounce';\nimport { DesktopWrapper, Icon, MobileWrapper, SelectNative, Tabs } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport FAQContent from './faq-content';\nimport GuideContent from './guide-content';\nimport { faq_content, guide_content, user_guide_content } from './tutorial-content';\n\nconst Sidebar = observer(() => {\n    const { dashboard } = useDBotStore();\n    const { active_tab_tutorials, active_tab, faq_search_value, setActiveTabTutorial, setFAQSearchValue } = dashboard;\n    const guide_tab_content = [...user_guide_content, ...guide_content];\n    const [search_filtered_list, setsearchFilteredList] = React.useState(guide_tab_content);\n    const [search_faq_list, setsearchFAQList] = React.useState(faq_content);\n    const search_input = React.useRef<HTMLInputElement | null>(null);\n    const menu_items = [\n        {\n            label: localize('Guide'),\n            content: <GuideContent guide_list={search_filtered_list} />,\n        },\n        {\n            label: localize('FAQ'),\n            content: <FAQContent faq_list={search_faq_list} hide_header={isMobile()} />,\n        },\n    ];\n    const selected_tab = menu_items?.[active_tab_tutorials] || {};\n\n    React.useEffect(() => {\n        if (search_input?.current?.value) {\n            search_input.current.value = '';\n            setsearchFAQList([]);\n        }\n\n        setsearchFilteredList(guide_tab_content);\n        setsearchFAQList(faq_content);\n    }, [active_tab_tutorials, active_tab]);\n\n    React.useEffect(() => {\n        const content_list = active_tab_tutorials === 0 ? guide_tab_content : faq_content;\n        const filtered_list = content_list.filter(data => {\n            return content_list === guide_tab_content\n                ? data.content.toLowerCase().includes(faq_search_value)\n                : data.title.toLowerCase().includes(faq_search_value);\n        });\n        return active_tab_tutorials === 0 ? setsearchFilteredList(filtered_list) : setsearchFAQList(filtered_list);\n    }, [faq_search_value]);\n\n    const onSearch = (event: React.ChangeEvent<HTMLInputElement>) => {\n        const value = event.target.value;\n        debounce(() => {\n            setFAQSearchValue(value);\n        }, 700)();\n    };\n\n    const onChangeHandle = React.useCallback(\n        ({ target }: React.ChangeEvent<HTMLInputElement>) => {\n            setActiveTabTutorial(menu_items.findIndex(i => i.label === target.value));\n        },\n        [active_tab_tutorials]\n    );\n\n    return (\n        <>\n            <DesktopWrapper>\n                <div className='dc-tabs__wrapper'>\n                    <div className='dc-tabs__wrapper__group'>\n                        <Icon data-testid='id-test-search' width='1.6rem' height='1.6rem' icon={'IcSearch'} />\n                        <input\n                            data-testid='id-test-search'\n                            ref={search_input}\n                            type='text'\n                            placeholder={localize('Search')}\n                            className='dc-tabs__wrapper__group__search-input'\n                            onChange={onSearch}\n                        />\n                    </div>\n                    <Tabs\n                        className='tutorials'\n                        active_index={active_tab_tutorials}\n                        onTabItemClick={setActiveTabTutorial}\n                        top\n                    >\n                        {menu_items.map(({ label, content }) => (\n                            <div label={label} key={label}>\n                                {content}\n                            </div>\n                        ))}\n                    </Tabs>\n                </div>\n            </DesktopWrapper>\n            <MobileWrapper>\n                <div className='tutorials-mobile'>\n                    <div className='tutorials-mobile__select'>\n                        <SelectNative\n                            data-testid='id-test-search'\n                            list_items={menu_items.map(({ label }, idx) => ({ id: idx, value: label, text: label }))}\n                            value={selected_tab.label}\n                            label={''}\n                            should_show_empty_option={false}\n                            onChange={onChangeHandle}\n                        />\n                    </div>\n                    <div className={classNames({ 'tutorials-mobile__guide': active_tab_tutorials === 0 })}>\n                        {selected_tab.content}\n                    </div>\n                </div>\n            </MobileWrapper>\n        </>\n    );\n});\n\nexport default Sidebar;\n","import Sidebar from './sidebar';\nimport './index.scss';\n\nexport default Sidebar;\n","import React from 'react';\nimport { Icon } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst WorkspaceControl = observer(() => {\n    const { dashboard } = useDBotStore();\n    const { onZoomInOutClick } = dashboard;\n    return (\n        <div className='load-strategy__preview-workspace-controls'>\n            <Icon\n                icon={'IcAddRounded'}\n                className='load-strategy__preview-workspace-icon'\n                custom_color='$color-black-1'\n                onClick={() => onZoomInOutClick(true)}\n            />\n            <Icon\n                icon={'IcMinusRounded'}\n                className='load-strategy__preview-workspace-icon'\n                custom_color='$color-black-1'\n                onClick={() => onZoomInOutClick(false)}\n            />\n        </div>\n    );\n});\n\nexport default WorkspaceControl;\n","import React from 'react';\nimport WorkspaceControl from './workspace-control';\n\ntype TBotPreview = {\n    id_ref: HTMLElement | React.ReactNode | null;\n};\n\nconst BotPreview = ({ id_ref }: TBotPreview) => {\n    return (\n        <div className='load-strategy__preview-workspace-container' id='load-strategy__blockly-container' ref={id_ref}>\n            <WorkspaceControl />\n        </div>\n    );\n};\n\nexport default BotPreview;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Dialog, Icon, MobileWrapper, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { clearInjectionDiv } from 'Constants/load-modal';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport BotPreview from './bot-preview';\nimport './index.scss';\n\nconst LocalComponent = observer(() => {\n    const { load_modal, save_modal, dashboard } = useDBotStore();\n    const { handleFileChange, loadFileFromRecent, dashboard_strategies } = load_modal;\n    const { onConfirmSave } = save_modal;\n    const { setActiveTab, setPreviewOnDialog, has_mobile_preview_loaded, setActiveTabTutorial } = dashboard;\n\n    const file_input_ref = React.useRef<HTMLInputElement | null>(null);\n    const [is_file_supported, setIsFileSupported] = React.useState<boolean>(true);\n    const el_ref = React.useRef<HTMLInputElement | null>(null);\n    const is_mobile = isMobile();\n    const has_dashboard_strategies = !!dashboard_strategies?.length;\n\n    React.useEffect(() => {\n        if (el_ref.current?.children.length === 3) {\n            el_ref?.current?.removeChild(el_ref?.current?.children[1]);\n        }\n    }, [el_ref.current?.children.length]);\n\n    const renderOpenButton = () => (\n        <button\n            className='load-strategy__button-group--open'\n            onClick={() => {\n                setPreviewOnDialog(false);\n                loadFileFromRecent();\n                setActiveTab(DBOT_TABS.BOT_BUILDER);\n            }}\n        >\n            {localize('Open')}\n        </button>\n    );\n    return (\n        <div className='load-strategy__container load-strategy__container--has-footer'>\n            {is_file_supported && (\n                <div\n                    className={classNames('load-strategy__local-preview', {\n                        'load-strategy__local-preview--listed': has_dashboard_strategies,\n                    })}\n                >\n                    <div className='load-strategy__recent-preview'>\n                        <div\n                            className={classNames('load-strategy__title', 'load-strategy__recent-preview-title', {\n                                'load-strategy__title--listed': has_dashboard_strategies && is_mobile,\n                            })}\n                        >\n                            {!is_mobile && <Localize i18n_default_text='Preview' />}\n                            <div className='tab__dashboard__preview__retrigger'>\n                                <button\n                                    onClick={() => {\n                                        setActiveTab(DBOT_TABS.TUTORIAL);\n                                        setActiveTabTutorial(0);\n                                    }}\n                                >\n                                    <Icon\n                                        className='tab__dashboard__preview__retrigger__icon'\n                                        icon={'IcDbotUserGuide'}\n                                    />\n                                    {!is_mobile && (\n                                        <Text\n                                            size='xs'\n                                            line_height='s'\n                                            className={'tab__dashboard__preview__retrigger__text'}\n                                        >\n                                            {localize('User Guide')}\n                                        </Text>\n                                    )}\n                                </button>\n                            </div>\n                        </div>\n\n                        {!is_mobile && (\n                            <>\n                                <div className='load-strategy__preview-workspace'>\n                                    <BotPreview id_ref={el_ref} type={'local'} />\n                                </div>\n                                <div className='load-strategy__button-group'>\n                                    <input\n                                        type='file'\n                                        ref={file_input_ref}\n                                        accept='.xml'\n                                        style={{ display: 'none' }}\n                                        onChange={e => {\n                                            clearInjectionDiv('component', el_ref);\n                                            onConfirmSave();\n                                            setIsFileSupported(handleFileChange(e, false));\n                                        }}\n                                    />\n                                    {renderOpenButton()}\n                                </div>\n                            </>\n                        )}\n                        <MobileWrapper>\n                            <Dialog\n                                is_visible={has_mobile_preview_loaded}\n                                onCancel={() => setPreviewOnDialog(false)}\n                                is_mobile_full_width\n                                className='dc-dialog__wrapper--preview'\n                                has_close_icon\n                                title={localize('Preview')}\n                            >\n                                <BotPreview id_ref={el_ref} type='local' />\n                                <div className='load-strategy__button-group'>{renderOpenButton()}</div>\n                            </Dialog>\n                        </MobileWrapper>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n});\n\nexport default LocalComponent;\n","import React from 'react';\nimport classnames from 'classnames';\nimport { Button, Icon, StaticUrl } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst GoogleDrive = observer(() => {\n    const { google_drive, load_modal, dashboard } = useDBotStore();\n    const { is_authorised } = google_drive;\n    const { is_open_button_loading, onDriveConnect, onDriveOpen } = load_modal;\n    const { setOpenSettings } = dashboard;\n\n    return (\n        <div className='load-strategy__container'>\n            <div className='load-strategy__google-drive'>\n                <Icon\n                    icon={'IcGoogleDrive'}\n                    className={classnames('load-strategy__google-drive-icon', {\n                        'load-strategy__google-drive-icon--disabled': !is_authorised,\n                    })}\n                    size={isMobile() ? 96 : 128}\n                />\n                <div className='load-strategy__google-drive-connected-text'>\n                    {is_authorised ? (\n                        <Localize i18n_default_text='You are connected to Google Drive' />\n                    ) : (\n                        'Google Drive'\n                    )}\n                </div>\n                {is_authorised ? (\n                    <Button.Group>\n                        <Button text={localize('Disconnect')} onClick={onDriveConnect} has_effect secondary large />\n                        <Button\n                            text={localize('Open')}\n                            onClick={() => {\n                                onDriveOpen();\n                                setOpenSettings('import');\n                            }}\n                            is_loading={is_open_button_loading}\n                            has_effect\n                            primary\n                            large\n                        />\n                    </Button.Group>\n                ) : (\n                    <React.Fragment>\n                        <div className='load-strategy__google-drive-terms'>\n                            <div className='load-strategy__google-drive-text'>\n                                <Localize i18n_default_text=\"To import your bot from your Google Drive, you'll need to sign in to your Google account.\" />\n                            </div>\n                            <div className='load-strategy__google-drive-text'>\n                                <Localize\n                                    i18n_default_text='To know how Google Drive handles your data, please review Derivs <0>Privacy policy.</0>'\n                                    components={[\n                                        <StaticUrl\n                                            key={0}\n                                            className='link'\n                                            href='tnc/security-and-privacy.pdf'\n                                            is_document\n                                        />,\n                                    ]}\n                                />\n                            </div>\n                        </div>\n                        <Button text={localize('Sign in')} onClick={onDriveConnect} has_effect primary large />\n                    </React.Fragment>\n                )}\n            </div>\n        </div>\n    );\n});\n\nexport default GoogleDrive;\n","import React from 'react';\nimport localForage from 'localforage';\nimport LZString from 'lz-string';\nimport { getSavedWorkspaces } from '@deriv/bot-skeleton';\nimport { Dialog, Text } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst DeleteDialog = observer(() => {\n    const { load_modal, dashboard } = useDBotStore();\n    const { is_delete_modal_open, onToggleDeleteDialog, selected_strategy_id, setDashboardStrategies } = load_modal;\n    const { setOpenSettings } = dashboard;\n\n    const removeBotStrategy = async (strategy_id: string) => {\n        const workspaces = await getSavedWorkspaces();\n        workspaces.map((strategy_from_workspace: string[] | { [key: string]: string }, index: number) => {\n            if (strategy_from_workspace.id === strategy_id) {\n                if (index > -1) {\n                    workspaces.splice(index, 1);\n                }\n                setDashboardStrategies(workspaces);\n                localForage.setItem('saved_workspaces', LZString.compress(JSON.stringify(workspaces)));\n                onToggleDeleteDialog(false);\n            }\n        });\n    };\n\n    const onHandleChange = (type: string, param: boolean) => {\n        if (type === 'confirm') {\n            removeBotStrategy(selected_strategy_id);\n            setOpenSettings('delete', true);\n        }\n        onToggleDeleteDialog(param);\n    };\n\n    return (\n        <div>\n            <Dialog\n                title={localize('Delete bot')}\n                is_visible={is_delete_modal_open}\n                confirm_button_text={localize('Yes, delete')}\n                onConfirm={() => {\n                    onHandleChange('confirm', false);\n                    setOpenSettings('delete', true);\n                }}\n                cancel_button_text={localize('No')}\n                onCancel={() => {\n                    onHandleChange('cancel', false);\n                }}\n                is_mobile_full_width={false}\n                className={'dc-dialog__delete-strategy--delete'}\n                has_close_icon\n            >\n                <div>\n                    <Text color='prominent' line_height='s' size='xs'>\n                        {localize('Your bot will be permanently deleted when you hit ')}\n                        <strong>{localize('Yes, delete.')}</strong>\n                    </Text>\n                </div>\n                <div>\n                    <Text color='prominent' line_height='xl' size='xs'>\n                        {localize('Are you sure you want to delete it?')}\n                    </Text>\n                </div>\n            </Dialog>\n        </div>\n    );\n});\n\nexport default DeleteDialog;\n","import { localize } from '@deriv/translations';\n\nexport const STRATEGY = {\n    EDIT: 'edit',\n    SAVE: 'save',\n    DELETE: 'delete',\n    PREVIEW: 'preview',\n    PREVIEW_LIST: 'list',\n};\n\nexport const MENU_DESKTOP = [\n    {\n        type: STRATEGY.EDIT,\n        icon: 'IcEdit',\n    },\n    {\n        type: STRATEGY.SAVE,\n        icon: 'IcSave',\n    },\n    {\n        type: STRATEGY.DELETE,\n        icon: 'IcDelete',\n    },\n];\n\nexport const CONTEXT_MENU_MOBILE = [\n    {\n        type: STRATEGY.PREVIEW_LIST,\n        icon: 'IcPreview',\n        label: localize('Preview'),\n    },\n    {\n        type: STRATEGY.EDIT,\n        icon: 'IcEdit',\n        label: localize('Edit'),\n    },\n    {\n        type: STRATEGY.SAVE,\n        icon: 'IcSave',\n        label: localize('Save'),\n    },\n    {\n        type: STRATEGY.DELETE,\n        icon: 'IcDelete',\n        label: localize('Delete'),\n    },\n];\n","import React from 'react';\nimport classnames from 'classnames';\nimport { timeSince } from '@deriv/bot-skeleton';\nimport { save_types } from '@deriv/bot-skeleton/src/constants/save-type';\nimport { DesktopWrapper, Icon, MobileWrapper, Text } from '@deriv/components';\nimport { isDesktop, isMobile } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { useComponentVisibility } from '../../hooks/useComponentVisibility';\nimport { CONTEXT_MENU_MOBILE, MENU_DESKTOP, STRATEGY } from './constants';\nimport './index.scss';\n\ntype TRecentWorkspace = {\n    index: number;\n    workspace: { [key: string]: string };\n};\n\nconst RecentWorkspace = observer(({ workspace, index }: TRecentWorkspace) => {\n    const { dashboard, load_modal, save_modal } = useDBotStore();\n    const { active_tab, setActiveTab, setPreviewOnDialog } = dashboard;\n    const { toggleSaveModal } = save_modal;\n    const {\n        dashboard_strategies,\n        getRecentFileIcon,\n        getSaveType,\n        getSelectedStrategyID,\n        loadFileFromRecent,\n        onToggleDeleteDialog,\n        previewRecentStrategy,\n        selected_strategy_id,\n    } = load_modal;\n\n    const trigger_div_ref = React.useRef<HTMLInputElement | null>(null);\n    const toggle_ref = React.useRef<HTMLDivElement>(null);\n    const visible = useComponentVisibility(toggle_ref);\n    const { setDropdownVisibility, is_dropdown_visible } = visible;\n    const is_mobile = isMobile();\n    const is_desktop = isDesktop();\n\n    React.useEffect(() => {\n        if (dashboard_strategies && dashboard_strategies.length && index === 0) {\n            setTimeout(() => {\n                trigger_div_ref?.current?.click();\n            }, 50);\n        }\n    }, []);\n\n    const onToggleDropdown = (e: React.MouseEvent<HTMLElement>) => {\n        e.preventDefault();\n        setDropdownVisibility(!is_dropdown_visible);\n    };\n\n    const viewRecentStrategy = (type: string) => {\n        if (is_mobile && type === STRATEGY.PREVIEW_LIST) {\n            setPreviewOnDialog(true);\n            setTimeout(() => {\n                previewRecentStrategy(workspace.id);\n            }, 0); // made this async to give it a split second delay\n        }\n        if (selected_strategy_id !== workspace.id || (active_tab === 0 && type === STRATEGY.PREVIEW)) {\n            setTimeout(() => {\n                previewRecentStrategy(workspace.id);\n            }, 0); // made this async to give it a split second delay\n        }\n\n        switch (type) {\n            case 'edit': {\n                loadFileFromRecent();\n                setActiveTab(DBOT_TABS.BOT_BUILDER);\n                break;\n            }\n            case 'save': {\n                toggleSaveModal();\n                break;\n            }\n            case 'delete': {\n                onToggleDeleteDialog(true);\n                break;\n            }\n            default:\n                break;\n        }\n    };\n\n    const is_active_mobile = selected_strategy_id === workspace.id && is_dropdown_visible;\n\n    return (\n        <div\n            className={classnames('load-strategy__recent-item', {\n                'load-strategy__recent-item--selected': selected_strategy_id === workspace.id,\n                'load-strategy__recent-item__loaded': dashboard_strategies,\n                'load-strategy__recent-item--minimized': !!dashboard_strategies?.length && !is_desktop,\n            })}\n            key={workspace.id}\n            ref={trigger_div_ref}\n            onClick={e => {\n                e.stopPropagation(); //stop event bubbling for child element\n                if (is_dropdown_visible) setDropdownVisibility(false);\n                viewRecentStrategy(STRATEGY.PREVIEW);\n                getSelectedStrategyID(workspace.id);\n            }}\n        >\n            <div className='load-strategy__recent-item-text'>\n                <div className='load-strategy__recent-item-title'>\n                    <Text align='left' as='p' size={is_desktop ? 'xs' : 'xxs'} line_height='l'>\n                        {workspace.name}\n                    </Text>\n                </div>\n            </div>\n            <div className='load-strategy__recent-item-time'>\n                <Text align='left' as='p' size={is_desktop ? 'xs' : 'xxs'} line_height='l'>\n                    {timeSince(workspace.timestamp)}\n                </Text>\n            </div>\n            <div className='load-strategy__recent-item-location'>\n                <Icon\n                    icon={getRecentFileIcon(workspace.save_type)}\n                    className={classnames({\n                        'load-strategy__recent-icon--active': workspace.save_type === save_types.GOOGLE_DRIVE,\n                    })}\n                />\n                <div className='load-strategy__recent-item-saved'>\n                    <Text align='left' as='p' size={is_desktop ? 'xs' : 'xxs'} line_height='l'>\n                        {getSaveType(workspace.save_type)}\n                    </Text>\n                </div>\n            </div>\n            <DesktopWrapper>\n                <div className='load-strategy__recent-item__button'>\n                    {MENU_DESKTOP.map(item => (\n                        <div\n                            key={item.type}\n                            className='load-strategy__recent-item__button'\n                            onClick={() => {\n                                viewRecentStrategy(item.type);\n                            }}\n                        >\n                            <Icon icon={item.icon} />\n                        </div>\n                    ))}\n                </div>\n            </DesktopWrapper>\n            <MobileWrapper>\n                <div ref={toggle_ref} onClick={onToggleDropdown}>\n                    <Icon icon='IcMenuDots' />\n                </div>\n                <div\n                    className={classnames('load-strategy__recent-item__mobile', {\n                        'load-strategy__recent-item__mobile--active': is_active_mobile,\n                        'load-strategy__recent-item__mobile--min': dashboard_strategies.length <= 5,\n                    })}\n                >\n                    {CONTEXT_MENU_MOBILE.map(item => (\n                        <div\n                            key={item.type}\n                            className='load-strategy__recent-item__group'\n                            onClick={() => {\n                                viewRecentStrategy(item.type);\n                            }}\n                        >\n                            <div>\n                                <Icon icon={item.icon} />\n                            </div>\n                            <Text\n                                color='prominent'\n                                className='load-strategy__recent-item__group__label'\n                                as='p'\n                                size='xxs'\n                            >\n                                {item.label}\n                            </Text>\n                        </div>\n                    ))}\n                </div>\n            </MobileWrapper>\n        </div>\n    );\n});\n\nexport default RecentWorkspace;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\n\ntype TIconRadio = {\n    google_drive_connected: boolean;\n    icon: string;\n    text: string;\n    onDriveConnect: () => void;\n};\nconst IconRadio = ({ icon, text, google_drive_connected, onDriveConnect }: TIconRadio) => {\n    const is_drive_radio = text === 'Google Drive';\n\n    return (\n        <div className='save-type__container'>\n            <div className='save-type__radio'>\n                {icon &&\n                    React.cloneElement(icon, {\n                        className: classNames(\n                            'save-type__icon',\n                            {\n                                'save-type__icon--active': is_drive_radio && google_drive_connected,\n                                'save-type__icon--disabled': is_drive_radio && !google_drive_connected,\n                            },\n                            icon.props.className\n                        ),\n                    })}\n                <Text\n                    as='p'\n                    align='center'\n                    size='xxs'\n                    color={is_drive_radio && !google_drive_connected ? 'disabled' : 'prominent'}\n                    line_height='s'\n                    className='save-type__radio-text'\n                >\n                    {localize(text)}\n                </Text>\n            </div>\n            {is_drive_radio && (\n                <Text\n                    as='p'\n                    align='center'\n                    size='xs'\n                    weight='bold'\n                    styles={{ color: 'var(--brand-red-coral)' }}\n                    className='save-type__drive-status'\n                    onClick={onDriveConnect}\n                >\n                    {localize(google_drive_connected ? localize('Disconnect') : localize('Connect'))}\n                </Text>\n            )}\n        </div>\n    );\n};\n\nexport default IconRadio;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Field, Form, Formik } from 'formik';\nimport { config, save_types } from '@deriv/bot-skeleton';\nimport { Button, Icon, Input, MobileFullPageModal, Modal, RadioGroup, Text, ThemedScrollbars } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from '../../../../stores/useDBotStore';\nimport IconRadio from './icon-radio';\n\ntype TSaveModalForm = {\n    bot_name: string;\n    button_status: number;\n    google_drive_connected?: boolean;\n    is_authorised: boolean;\n    is_mobile?: boolean;\n    is_onscreen_keyboard_active?: boolean;\n    is_save_modal_open?: boolean;\n    icon?: string;\n    text?: string;\n    onConfirmSave: () => void;\n    onDriveConnect: () => void;\n    toggleSaveModal: () => void;\n    setCurrentFocus: () => void;\n    validateBotName: () => void;\n};\n\nconst SaveModalForm = ({\n    bot_name,\n    button_status,\n    is_authorised,\n    onConfirmSave,\n    onDriveConnect,\n    validateBotName,\n    toggleSaveModal,\n    is_mobile,\n    is_onscreen_keyboard_active,\n    setCurrentFocus,\n}: TSaveModalForm) => (\n    <Formik\n        initialValues={{\n            is_local: true,\n            save_as_collection: false,\n            bot_name: bot_name === config.default_file_name ? '' : bot_name,\n        }}\n        validate={validateBotName}\n        onSubmit={onConfirmSave}\n    >\n        {({ values: { is_local }, setFieldValue, touched, errors }) => {\n            const content_height = !is_mobile ? '500px' : `calc(100%)`;\n            return (\n                <ThemedScrollbars height={content_height} autohide>\n                    <Form className={classNames({ 'form--active-keyboard': is_onscreen_keyboard_active })}>\n                        <div className='modal__content'>\n                            <Text size='xs' line_height='l'>\n                                {localize(\n                                    'Enter your bot name, choose to save on your computer or Google Drive, and hit '\n                                )}\n                                <strong>{localize('Save.')}</strong>\n                            </Text>\n                            <div className='modal__content-row'>\n                                <Field name='bot_name'>\n                                    {({ field }) => (\n                                        <Input\n                                            className='save-type__input'\n                                            type='text'\n                                            placeholder={localize('Untitled Strategy')}\n                                            error={touched[field.name] && errors[field.name]}\n                                            label={localize('Bot name')}\n                                            onFocus={e => setCurrentFocus(e.currentTarget.name)}\n                                            onBlur={() => setCurrentFocus(null)}\n                                            {...field}\n                                        />\n                                    )}\n                                </Field>\n                            </div>\n                            <div className='modal__content-row'>\n                                <RadioGroup\n                                    className='radio-group__save-type'\n                                    name='is_local'\n                                    selected={() => {\n                                        if (is_authorised && !is_local) return save_types.GOOGLE_DRIVE;\n                                        return save_types.LOCAL;\n                                    }}\n                                    onToggle={() => setFieldValue('is_local', !is_local)}\n                                >\n                                    <RadioGroup.Item\n                                        id='local'\n                                        label={\n                                            <IconRadio\n                                                text={localize('Local')}\n                                                icon={<Icon icon={is_mobile ? 'IcLocal' : 'IcMyComputer'} size={48} />}\n                                            />\n                                        }\n                                        value={save_types.LOCAL}\n                                    />\n                                    <RadioGroup.Item\n                                        id='drive'\n                                        label={\n                                            <IconRadio\n                                                text={'Google Drive'}\n                                                icon={<Icon icon={'IcGoogleDrive'} size={48} />}\n                                                google_drive_connected={is_authorised}\n                                                onDriveConnect={onDriveConnect}\n                                            />\n                                        }\n                                        value={save_types.GOOGLE_DRIVE}\n                                        disabled={!is_authorised}\n                                        className={classNames({\n                                            'dc-radio-group__item-disabled': !is_authorised,\n                                        })}\n                                    />\n                                </RadioGroup>\n                            </div>\n                            {/* removed this from the save modal popup because it is not there in the design */}\n                            {/* <>\n                                <Field name='save_as_collection'>\n                                    {({ field }) => (\n                                        <Checkbox\n                                            onChange={() => setFieldValue('save_as_collection', !save_as_collection)}\n                                            defaultChecked={save_as_collection}\n                                            label={\n                                                <Text size='xs' line_height='s' weight='bold'>\n                                                    <Localize i18n_default_text='Save as collection' />\n                                                </Text>\n                                            }\n                                            classNameLabel='save-type__checkbox-text'\n                                            {...field}\n                                        />\n                                    )}\n                                </Field>\n                                <div className='save-type__checkbox-description'>\n                                    {localize(\n                                        'Enabling this allows you to save your blocks as one collection which can be easily integrated into other bots.'\n                                    )}\n                                </div>\n                            </> */}\n                        </div>\n                        <div\n                            className={classNames('modal__footer', {\n                                'modal__footer--active-keyboard': is_onscreen_keyboard_active,\n                            })}\n                        >\n                            <Button\n                                type='button'\n                                className='modal__footer--button'\n                                text={localize('Cancel')}\n                                onClick={toggleSaveModal}\n                                secondary\n                            />\n                            <Button\n                                className='modal__footer--button'\n                                type='submit'\n                                is_loading={button_status === 1}\n                                is_submit_success={button_status === 2}\n                                text={localize('Continue')}\n                                primary\n                            />\n                        </div>\n                    </Form>\n                </ThemedScrollbars>\n            );\n        }}\n    </Formik>\n);\nconst SaveModal = observer(() => {\n    const { save_modal, google_drive } = useDBotStore();\n    const { ui } = useStore();\n\n    const {\n        button_status,\n        is_save_modal_open,\n        onConfirmSave,\n        onDriveConnect,\n        toggleSaveModal,\n        validateBotName,\n        bot_name,\n    } = save_modal;\n    const { is_authorised } = google_drive;\n    const { is_onscreen_keyboard_active, setCurrentFocus } = ui;\n\n    const is_mobile = isMobile();\n    return is_mobile ? (\n        <MobileFullPageModal\n            is_modal_open={is_save_modal_open}\n            className='save-modal__wrapper'\n            header={localize('Save strategy')}\n            onClickClose={toggleSaveModal}\n            height_offset='80px'\n            page_overlay\n        >\n            <SaveModalForm\n                bot_name={bot_name}\n                button_status={button_status}\n                is_authorised={is_authorised}\n                onConfirmSave={onConfirmSave}\n                onDriveConnect={onDriveConnect}\n                validateBotName={validateBotName}\n                toggleSaveModal={toggleSaveModal}\n                is_mobile={is_mobile}\n                is_onscreen_keyboard_active={is_onscreen_keyboard_active}\n                setCurrentFocus={setCurrentFocus}\n            />\n        </MobileFullPageModal>\n    ) : (\n        <Modal\n            title={localize('Save Strategy')}\n            className='modal--save'\n            width='32.8rem'\n            height='50rem'\n            is_open={is_save_modal_open}\n            toggleModal={toggleSaveModal}\n        >\n            <SaveModalForm\n                bot_name={bot_name}\n                button_status={button_status}\n                is_authorised={is_authorised}\n                onConfirmSave={onConfirmSave}\n                onDriveConnect={onDriveConnect}\n                validateBotName={validateBotName}\n                toggleSaveModal={toggleSaveModal}\n                setCurrentFocus={setCurrentFocus}\n            />\n        </Modal>\n    );\n});\n\nexport default SaveModal;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { getSavedWorkspaces, saveWorkspaceToRecent, save_types,readStorage } from '@deriv/bot-skeleton';\nimport { MobileWrapper, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport DeleteDialog from './delete-dialog';\nimport RecentWorkspace from './recent-workspace';\nimport SaveModal from './save-modal';\nimport './index.scss';\n\n// temporary\nimport localForage from 'localforage';\n\nconst HEADERS = [localize('Bot name'), localize('Last modified'), localize('Status')];\n\nconst RecentComponent = observer(() => {\n    const { load_modal, dashboard } = useDBotStore();\n    const { setDashboardStrategies, dashboard_strategies } = load_modal;\n    const { setStrategySaveType, strategy_save_type } = dashboard;\n\n    React.useEffect(() => {\n        setStrategySaveType('');\n        const getStrategies = async () => {\n            const recent_strategies = await getSavedWorkspaces(true);\n            console.log('the recent strategies is', recent_strategies.length);\n            if (recent_strategies.length < 1) {\n                await readStorage();\n            }else{\n                localForage.setItem('apollo_workspaces', []);\n            }\n            setDashboardStrategies(recent_strategies);\n        };\n        getStrategies();\n        //this dependency is used when we use the save modal popup\n    }, [strategy_save_type]);\n\n    const is_mobile = isMobile();\n\n    if (!dashboard_strategies?.length) return null;\n    return (\n        <div className='load-strategy__container load-strategy__container--has-footer'>\n            <div className='load-strategy__recent'>\n                <div className='load-strategy__recent__files'>\n                    <div className='load-strategy__title'>\n                        <Text size={is_mobile ? 'xs' : 's'} weight='bold'>\n                            <Localize i18n_default_text='Apollo Bots:' />\n                        </Text>\n                    </div>\n                    <div className='load-strategy__recent__files__list'>\n                        <div\n                            className={classNames('load-strategy__recent-item load-strategy__recent-item__loaded', {\n                                'load-strategy__recent-item__loaded--first-child': !is_mobile,\n                            })}\n                        >\n                            {HEADERS.map(tab_name => {\n                                return (\n                                    <Text size='xs' weight='bold' key={tab_name}>\n                                        {tab_name}\n                                    </Text>\n                                );\n                            })}\n                        </div>\n                        {dashboard_strategies.map((workspace, index) => {\n                            return <RecentWorkspace key={workspace.id} workspace={workspace} index={index} />;\n                        })}\n                    </div>\n                    <DeleteDialog setStrategies={setDashboardStrategies} />\n                    <MobileWrapper>\n                        <SaveModal />\n                    </MobileWrapper>\n                </div>\n            </div>\n        </div>\n    );\n});\n\nexport default RecentComponent;\n","//kept sometihings commented beacuse of mobx to integrate popup functionality here\nimport React from 'react';\nimport classNames from 'classnames';\nimport { DesktopWrapper, Dialog, Icon, MobileFullPageModal, MobileWrapper, Text } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport GoogleDrive from './load-bot-preview/google-drive';\nimport Recent from './load-bot-preview/recent';\n\ntype TCardProps = {\n    has_dashboard_strategies: boolean;\n    is_mobile: boolean;\n};\n\nconst Cards = observer(({ is_mobile, has_dashboard_strategies }: TCardProps) => {\n    const { dashboard, load_modal, quick_strategy } = useDBotStore();\n    const {\n        onCloseDialog,\n        dialog_options,\n        is_dialog_open,\n        setActiveTab,\n        setFileLoaded,\n        setPreviewOnPopup,\n        setOpenSettings,\n        showVideoDialog,\n    } = dashboard;\n    const { handleFileChange, loadFileFromLocal } = load_modal;\n    const { loadDataStrategy } = quick_strategy;\n\n    const [is_file_supported, setIsFileSupported] = React.useState<boolean>(true);\n    const file_input_ref = React.useRef<HTMLInputElement | null>(null);\n\n    const openGoogleDriveDialog = () => {\n        showVideoDialog({\n            type: 'google',\n        });\n    };\n\n    const openFileLoader = () => {\n        file_input_ref?.current?.click();\n    };\n\n    return React.useMemo(\n        () => (\n            <div\n                className={classNames('tab__dashboard__table', {\n                    'tab__dashboard__table--minimized': has_dashboard_strategies && is_mobile,\n                })}\n            >\n                <div\n                    className={classNames('tab__dashboard__table__tiles', {\n                        'tab__dashboard__table__tiles--minimized': has_dashboard_strategies && is_mobile,\n                    })}\n                    id='tab__dashboard__table__tiles'\n                >\n                    <input\n                        type='file'\n                        ref={file_input_ref}\n                        accept='.xml'\n                        hidden\n                        onChange={e => {\n                            setIsFileSupported(handleFileChange(e, false));\n                            loadFileFromLocal();\n                            setFileLoaded(true);\n                            setOpenSettings('import');\n                        }}\n                    />\n                    <DesktopWrapper>\n                        <Dialog\n                            title={dialog_options.title}\n                            is_visible={is_dialog_open}\n                            onCancel={onCloseDialog}\n                            is_mobile_full_width\n                            className='dc-dialog__wrapper--google-drive'\n                            has_close_icon\n                        >\n                            <GoogleDrive />\n                        </Dialog>\n                    </DesktopWrapper>\n                    <MobileWrapper>\n                        <MobileFullPageModal\n                            is_modal_open={is_dialog_open}\n                            className='load-strategy__wrapper'\n                            header={localize('Load strategy')}\n                            onClickClose={() => {\n                                setPreviewOnPopup(false);\n                                onCloseDialog();\n                            }}\n                            height_offset='80px'\n                            page_overlay\n                        >\n                            <div label='Google Drive' className='google-drive-label'>\n                                <GoogleDrive />\n                            </div>\n                        </MobileFullPageModal>\n                    </MobileWrapper>\n                </div>\n                <Recent is_file_supported={is_file_supported} />\n            </div>\n        ),\n        [is_dialog_open, has_dashboard_strategies]\n    );\n});\n\nexport default Cards;\n","import { localize } from '@deriv/translations';\n\nexport type TSidebarItem = {\n    label: string;\n    content: string[];\n    link: boolean;\n};\n\nexport const SIDEBAR_INTRO: TSidebarItem[] = [\n    {\n        label: localize('Welcome to Deriv Bot!'),\n        content: [\n            localize(\n                'Ready to automate your trading strategy without writing any code? Youve come to the right place.'\n            ),\n            localize('Check out these guides and FAQs to learn more about building your bot:'),\n        ],\n        link: false,\n    },\n    {\n        label: localize('Guide'),\n        content: [localize('Deriv Bot - your automated trading partner')],\n        link: true,\n    },\n    {\n        label: localize('FAQs'),\n        content: [\n            localize('What is Deriv Bot?'),\n            localize('Where do I find the blocks I need?'),\n            localize('How do I remove blocks from the workspace?'),\n        ],\n        link: true,\n    },\n];\n","import React from 'react';\nimport classNames from 'classnames';\nimport { DesktopWrapper, Icon, MobileWrapper, Modal, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { SIDEBAR_INTRO } from './constants';\n\nconst InfoPanel = observer(() => {\n    const is_mobile = isMobile();\n    const { dashboard } = useDBotStore();\n    const {\n        has_started_onboarding_tour,\n        is_info_panel_visible,\n        setActiveTab,\n        setActiveTabTutorial,\n        setInfoPanelVisibility,\n    } = dashboard;\n    const switchTab = (link: boolean, label: string) => {\n        const tutorial_link = link ? setActiveTab(DBOT_TABS.TUTORIAL) : null;\n        const tutorial_label = label === 'Guide' ? setActiveTabTutorial(0) : setActiveTabTutorial(1);\n        return {\n            tutorial_link,\n            tutorial_label,\n        };\n    };\n\n    const handleClose = () => {\n        setInfoPanelVisibility(false);\n        localStorage.setItem('dbot_should_show_info', JSON.stringify(Date.now()));\n    };\n\n    const renderInfo = () => (\n        <div className='db-info-panel'>\n            <div className='db-info-panel__close-action' onClick={handleClose}>\n                <Icon width='1rem' height='1rem' icon='IcCloseIconDbot' />\n            </div>\n\n            {SIDEBAR_INTRO.map(sidebar_item => {\n                const { label, content, link } = sidebar_item;\n                return (\n                    <div key={`${label}-${content}`}>\n                        <Text color='prominent' line_height='xxl' size={is_mobile ? 's' : 'm'} weight='bold' as='h1'>\n                            {label}\n                        </Text>\n                        {content.map(text => (\n                            <Text\n                                key={`info-panel-tour${text}`}\n                                className={classNames('db-info-panel__card', {\n                                    'db-info-panel__content': link,\n                                })}\n                                color='prominent'\n                                line_height='xl'\n                                as='p'\n                                onClick={() => switchTab(link, label)}\n                                size={is_mobile ? 'xxs' : 's'}\n                            >\n                                {text}\n                            </Text>\n                        ))}\n                    </div>\n                );\n            })}\n        </div>\n    );\n\n    return (\n        <>\n            <DesktopWrapper>\n                {!has_started_onboarding_tour && (\n                    <div\n                        className={classNames('tab__dashboard__info-panel', {\n                            'tab__dashboard__info-panel--active': is_info_panel_visible,\n                        })}\n                    >\n                        {renderInfo()}\n                    </div>\n                )}\n            </DesktopWrapper>\n            <MobileWrapper>\n                <Modal\n                    className='statistics__modal statistics__modal--mobile'\n                    is_open={is_info_panel_visible}\n                    toggleModal={handleClose}\n                    width={'440px'}\n                >\n                    <Modal.Body>{renderInfo()}</Modal.Body>\n                </Modal>\n            </MobileWrapper>\n        </>\n    );\n});\n\nexport default InfoPanel;\n","import React from 'react';\nimport { Icon, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport { DBOT_TABS } from 'Constants/bot-contents';\n\ntype TUserGuide = {\n    setActiveTab: (param: number) => void;\n    setActiveTabTutorial: (active_tab_tutorials: number) => void;\n};\n\nconst UserGuide = ({ setActiveTab, setActiveTabTutorial }: TUserGuide) => {\n    return (\n        <div className='tab__dashboard__home__retrigger'>\n            <button\n                data-testid='btn-user-guide'\n                onClick={() => {\n                    setActiveTab(DBOT_TABS.TUTORIAL);\n                    setActiveTabTutorial(0);\n                }}\n            >\n                <Icon className='tab__dashboard__home__retrigger__icon' icon={'IcDbotUserGuide'} />\n                <Text size='xs' line_height='s' className={'tab__dashboard__home__retrigger__text'}>\n                    {localize('User Guide')}\n                </Text>\n            </button>\n        </div>\n    );\n};\n\nexport default UserGuide;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { DesktopWrapper, MobileWrapper, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport Local from './load-bot-preview/local';\nimport Cards from './cards';\nimport InfoPanel from './info-panel';\nimport UserGuide from './user-guide';\n// custom\nimport { useEffect } from 'react';\nimport { saveWorkspaceToRecent } from '@deriv/bot-skeleton';\nimport { save_types } from '@deriv/bot-skeleton';\n\ntype TMobileIconGuide = {\n    has_dashboard_strategies: boolean;\n    handleTabChange: (active_number: number) => void;\n};\n\ntype TDashboardMobileCommonProps = {\n    is_mobile: boolean;\n    has_dashboard_strategies: boolean;\n};\n\nconst DashboardTitle = ({ is_mobile, has_dashboard_strategies }: TDashboardMobileCommonProps) => (\n    <div\n        className={classNames('tab__dashboard__header', {\n            'tab__dashboard__header--not-listed': !has_dashboard_strategies && is_mobile,\n        })}\n    >\n        <Text color='prominent' line_height='xxl' size={is_mobile ? 's' : 'm'} weight='bold'>\n            {localize('Load or build your bot')}\n        </Text>\n    </div>\n);\n\nconst MobileIconGuide = ({ handleTabChange }: TMobileIconGuide) => (\n    <MobileWrapper>\n        <div>\n            <Local handleTabChange={handleTabChange} />\n        </div>\n    </MobileWrapper>\n);\n\nconst DashboardDescription = ({ is_mobile, has_dashboard_strategies }: TDashboardMobileCommonProps) => (\n    <div\n        className={classNames('tab__dashboard__description', {\n            'tab__dashboard__description__loaded--listed': has_dashboard_strategies && !is_mobile,\n            'tab__dashboard__description__loaded--not-listed':\n                !has_dashboard_strategies || (!has_dashboard_strategies && is_mobile),\n        })}\n    >\n        <Text color='prominent' line_height='s' size={is_mobile ? 'xxs' : 's'}>\n            {localize('Use our custom apollo designed bots for FREE')}\n        </Text>\n    </div>\n);\n\nconst ApolloDashboardComponent = observer(({ handleTabChange }: TMobileIconGuide) => {\n    const { load_modal, dashboard } = useDBotStore();\n    const { dashboard_strategies } = load_modal;\n    const { setActiveTab, setActiveTabTutorial, has_started_onboarding_tour } = dashboard;\n    const has_dashboard_strategies = !!dashboard_strategies?.length;\n    const is_mobile = isMobile();\n\n    return (\n        <React.Fragment>\n            <div\n                className={classNames('tab__dashboard', {\n                    'tab__dashboard--tour-active': has_started_onboarding_tour,\n                })}\n            >\n                <div className='tab__dashboard__content'>\n                    <div\n                        className={classNames('tab__dashboard__centered', {\n                            'tab__dashboard__centered--listed': !is_mobile && has_dashboard_strategies,\n                            'tab__dashboard__centered--not-listed': !has_dashboard_strategies,\n                        })}\n                    >\n                        {!has_dashboard_strategies && !is_mobile && (\n                            <DashboardTitle is_mobile={is_mobile} has_dashboard_strategies={has_dashboard_strategies} />\n                        )}\n                        <DesktopWrapper>\n                            {!has_dashboard_strategies && (\n                                <UserGuide setActiveTab={setActiveTab} setActiveTabTutorial={setActiveTabTutorial} />\n                            )}\n                        </DesktopWrapper>\n                        <div>\n                            <div\n                                className={classNames({\n                                    'tab__dashboard__mobile-container': is_mobile,\n                                    'tab__dashboard__mobile-container--minimized':\n                                        is_mobile && has_dashboard_strategies,\n                                })}\n                            >\n                                {is_mobile && !has_dashboard_strategies && (\n                                    <DashboardTitle\n                                        is_mobile={is_mobile}\n                                        has_dashboard_strategies={has_dashboard_strategies}\n                                    />\n                                )}\n                                {(!is_mobile || (is_mobile && has_dashboard_strategies)) && (\n                                    <DashboardDescription\n                                        is_mobile={is_mobile}\n                                        has_dashboard_strategies={has_dashboard_strategies}\n                                    />\n                                )}\n                                <MobileIconGuide\n                                    handleTabChange={handleTabChange}\n                                    has_dashboard_strategies={has_dashboard_strategies}\n                                />\n                            </div>\n                            {is_mobile && !has_dashboard_strategies && (\n                                <DashboardDescription\n                                    is_mobile={is_mobile}\n                                    has_dashboard_strategies={has_dashboard_strategies}\n                                />\n                            )}\n                        </div>\n                        <Cards has_dashboard_strategies={has_dashboard_strategies} is_mobile={is_mobile} />\n                    </div>\n\n                    {has_dashboard_strategies && !is_mobile && (\n                        <div className='tab__dashboard__preview'>\n                            <Local handleTabChange={handleTabChange} />\n                        </div>\n                    )}\n                </div>\n            </div>\n            <InfoPanel />\n        </React.Fragment>\n    );\n});\n\nexport default ApolloDashboardComponent;\n","import ApolloDashboardComponent from './dashboard-component';\n\nexport default ApolloDashboardComponent;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { initTrashCan } from '@deriv/bot-skeleton/src/scratch/hooks/trashcan';\nimport { DesktopWrapper, Dialog, MobileWrapper, Tabs } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport Chart from 'Components/chart';\nimport { DBOT_TABS, TAB_IDS } from 'Constants/bot-contents';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport RunPanel from '../run-panel';\nimport RunStrategy from './dashboard-component/run-strategy';\nimport BotNotification from './bot-notification';\nimport DashboardComponent from './dashboard-component';\nimport {\n    DBOT_ONBOARDING,\n    getTourSettings,\n    setTourSettings,\n    setTourType,\n    tour_status_ended,\n    tour_type,\n} from './joyride-config';\nimport ReactJoyrideWrapper from './react-joyride-wrapper';\nimport TourSlider from './tour-slider';\nimport TourTriggrerDialog from './tour-trigger-dialog';\nimport Tutorial from './tutorial-tab';\nimport ApolloDashboardComponent from './apollo-tab';\n\nconst Dashboard = observer(() => {\n    const { dashboard, load_modal, run_panel, quick_strategy } = useDBotStore();\n    const {\n        active_tab,\n        has_file_loaded,\n        has_tour_started,\n        setTourActive,\n        has_started_onboarding_tour,\n        setOnBoardTourRunState,\n        setBotBuilderTourState,\n        setTourDialogVisibility,\n        setHasTourEnded,\n        has_started_bot_builder_tour,\n        is_tour_dialog_visible,\n        setActiveTab,\n        setBotBuilderTokenCheck,\n        setOnBoardingTokenCheck,\n    } = dashboard;\n    const { onEntered } = load_modal;\n    const { is_dialog_open, is_drawer_open, dialog_options, onCancelButtonClick, onCloseDialog, onOkButtonClick } =\n        run_panel;\n    const { is_strategy_modal_open } = quick_strategy;\n\n    const { DASHBOARD, BOT_BUILDER, CHART, TUTORIAL, APOLLO_BOTS} = DBOT_TABS;\n    const is_tour_complete = React.useRef(true);\n    let bot_tour_token: string | number = '';\n    let onboard_tour_token: string | number = '';\n    let storage = '';\n    let tour_status: { [key: string]: string };\n    const is_mobile = isMobile();\n    const init_render = React.useRef(true);\n    const { ui } = useStore();\n    const { url_hashed_values } = ui;\n\n    let tab_value = active_tab;\n    const GetHashedValue = (tab: number) => {\n        tab_value = url_hashed_values?.split('#')[1];\n        if (tab_value === 'dashboard') return DASHBOARD;\n        if (tab_value === 'bot_builder') return BOT_BUILDER;\n        if (tab_value === 'chart') return CHART;\n        if (tab_value === 'tutorial') return TUTORIAL;\n        if (tab_value == 'apollo-bots') return APOLLO_BOTS;\n        if (isNaN(tab_value) || isNaN(tab)) return active_tab;\n        if (tab_value > 4 || tab > 4) return active_tab;\n        return tab_value;\n    };\n    const active_hash_tab = GetHashedValue(active_tab);\n\n    React.useEffect(() => {\n        if (init_render.current) {\n            setActiveTab(Number(active_hash_tab));\n            if (is_mobile) handleTabChange(Number(active_hash_tab));\n            init_render.current = false;\n        } else {\n            let active_tab_name = 'dashboard';\n            if (active_tab === 0) active_tab_name = 'dashboard';\n            if (active_tab === 1) active_tab_name = 'bot_builder';\n            if (active_tab === 2) active_tab_name = 'chart';\n            if (active_tab === 3) active_tab_name = 'tutorial';\n            window.location.hash = active_tab_name;\n        }\n    }, [active_tab]);\n\n    const setTourStatus = (status: { [key: string]: string }) => {\n        if (status) {\n            const { action } = status;\n            const actions = ['skip', 'close'];\n\n            if (actions.includes(action)) {\n                if (tour_type.key === 'bot_builder') {\n                    setBotBuilderTourState(false);\n                } else {\n                    setOnBoardTourRunState(false);\n                }\n                setTourActive(false);\n            }\n        }\n    };\n\n    React.useEffect(() => {\n        if (active_tab === BOT_BUILDER) {\n            if (is_drawer_open) {\n                initTrashCan(400);\n            } else {\n                initTrashCan(20);\n            }\n            setTimeout(() => {\n                window.dispatchEvent(new Event('resize')); // make the trash can work again after resize\n            }, 500);\n        }\n        if (active_tab === DASHBOARD && has_file_loaded) {\n            onEntered();\n        }\n        if (active_tab === DASHBOARD) {\n            setTourType('onboard_tour');\n            onboard_tour_token = getTourSettings('token');\n            setOnBoardingTokenCheck(onboard_tour_token);\n        }\n        if (active_tab === BOT_BUILDER && !has_started_onboarding_tour) {\n            setTourType('bot_builder');\n            bot_tour_token = getTourSettings('token');\n            setBotBuilderTokenCheck(bot_tour_token);\n        }\n        if (active_tab === APOLLO_BOTS && has_file_loaded) {\n            onEntered();\n        }\n\n        if (!is_tour_dialog_visible) {\n            window.removeEventListener('storage', botStorageSetting);\n        }\n        tour_status = getTourSettings('onboard_tour_status');\n        setTourStatus(tour_status);\n    }, [active_tab, is_drawer_open, has_started_onboarding_tour, tour_status_ended, is_tour_dialog_visible]);\n\n    const botStorageSetting = () => {\n        tour_status = getTourSettings('bot_builder_status');\n        if (tour_status_ended.key === 'finished' && !is_mobile) {\n            setTourDialogVisibility(true);\n            setHasTourEnded(true);\n            is_tour_complete.current = false;\n            window.removeEventListener('storage', botStorageSetting);\n        }\n        setTourStatus(tour_status);\n        bot_tour_token = getTourSettings('token');\n        if (active_tab === 1 && !storage.bot_builder_token && !has_started_onboarding_tour) {\n            setTourSettings(new Date().getTime(), `${tour_type.key}_token`);\n        }\n    };\n    if (!bot_tour_token && !is_mobile && !has_started_onboarding_tour) {\n        window.addEventListener('storage', botStorageSetting);\n    }\n\n    if (localStorage?.dbot_settings !== undefined) {\n        storage = JSON.parse(localStorage?.dbot_settings);\n    }\n\n    React.useEffect(() => {\n        const dbot_settings = JSON.parse(localStorage.getItem('dbot_settings') as string);\n        const has_onboard_token_set = active_tab === DASHBOARD && !dbot_settings?.onboard_tour_token;\n        const has_bot_builder_token_set = active_tab === BOT_BUILDER && !dbot_settings?.bot_builder_token;\n        const show_tour_dialog_desktop = (active_tab === DASHBOARD && !is_mobile) || active_tab === BOT_BUILDER;\n        const show_tour_dialog_mobile = active_tab !== DASHBOARD && is_mobile;\n        if (has_bot_builder_token_set || has_onboard_token_set) {\n            if (is_mobile && has_started_onboarding_tour) {\n                setTourActive(true);\n                setOnBoardTourRunState(true);\n            } else {\n                setHasTourEnded(false);\n                if (!is_strategy_modal_open) {\n                    if (show_tour_dialog_mobile || show_tour_dialog_desktop) {\n                        setTourDialogVisibility(true);\n                    } else {\n                        setTourActive(true);\n                        setOnBoardTourRunState(true);\n                    }\n                }\n            }\n        }\n        if (has_started_bot_builder_tour && active_tab !== BOT_BUILDER && is_mobile) {\n            setTourActive(false);\n            setBotBuilderTourState(false);\n            setTourSettings(new Date().getTime(), `${tour_type.key}_token`);\n        }\n    }, [active_tab]);\n\n    const handleTabChange = React.useCallback(\n        (tab_index: number) => {\n            setActiveTab(tab_index);\n            const el_id = TAB_IDS[tab_index];\n            if (el_id) {\n                const el_tab = document.getElementById(el_id);\n                el_tab?.scrollIntoView({\n                    behavior: 'smooth',\n                    block: 'center',\n                    inline: 'center',\n                });\n            }\n        },\n        [active_tab]\n    );\n\n    return (\n        <React.Fragment>\n            <div className='dashboard__main'>\n                <div\n                    className={classNames('dashboard__container', {\n                        'dashboard__container--active': has_tour_started && active_tab === DASHBOARD && is_mobile,\n                    })}\n                >\n                    {(active_tab === DASHBOARD || active_tab === BOT_BUILDER) && <TourTriggrerDialog />}\n\n                    {has_tour_started &&\n                        active_tab === DASHBOARD &&\n                        (is_mobile ? (\n                            <TourSlider />\n                        ) : (\n                            <ReactJoyrideWrapper steps={DBOT_ONBOARDING} spotlightClicks hideCloseButton />\n                        ))}\n                    <Tabs\n                        active_index={active_tab}\n                        className='dashboard__tabs'\n                        onTabItemChange={onEntered}\n                        onTabItemClick={handleTabChange}\n                        top\n                    >\n                        <div icon='IcDashboardComponentTab' label={localize('Dashboard')} id='id-dbot-dashboard'>\n                            <DashboardComponent handleTabChange={handleTabChange} />\n                        </div>\n                        <div icon='IcBotBuilderTabIcon' label={localize('Bot Builder')} id='id-bot-builder' />\n                        <div icon='IcChartsTabDbot' label={localize('Charts')} id='id-charts'>\n                            <Chart />\n                        </div>\n                        <div icon='IcTutorialsTabs' label={localize('Tutorials')} id='id-tutorials'>\n                            <div className='tutorials-wrapper'>\n                                <Tutorial />\n                            </div>\n                        </div>\n                        <div icon='IcEmptyStar' label={localize('Apollo')} id='id-apollo-bots'>\n                            <ApolloDashboardComponent handleTabChange={handleTabChange} />\n                        </div>\n                        \n                    </Tabs>\n                </div>\n            </div>\n            <DesktopWrapper>\n                <div className={'dashboard__run-strategy-wrapper'}>\n                    <RunStrategy />\n                    {([BOT_BUILDER, CHART].includes(active_tab) || has_started_onboarding_tour) &&\n                        !has_started_bot_builder_tour && <RunPanel />}\n                </div>\n            </DesktopWrapper>\n            <MobileWrapper>{!is_strategy_modal_open && <RunPanel />}</MobileWrapper>\n            <Dialog\n                cancel_button_text={dialog_options.cancel_button_text || localize('Cancel')}\n                className={'dc-dialog__wrapper--fixed'}\n                confirm_button_text={dialog_options.ok_button_text || localize('OK')}\n                has_close_icon\n                is_mobile_full_width={false}\n                is_visible={is_dialog_open}\n                onCancel={onCancelButtonClick}\n                onClose={onCloseDialog}\n                onConfirm={onOkButtonClick || onCloseDialog}\n                portal_element_id='modal_root'\n                title={dialog_options.title}\n            >\n                {dialog_options.message}\n            </Dialog>\n            <BotNotification />\n        </React.Fragment>\n    );\n});\n\nexport default Dashboard;\n","export const initTrashCan = (margin = 16, height = 36) => {\n    /**\n     * Distance between trashcan and bottom edge of workspace.\n     * @type {number}\n     * @private\n     */\n    Blockly.Trashcan.prototype.MARGIN_BOTTOM_ = margin * 2 + height; // eslint-disable-line\n\n    /**\n     * Distance between trashcan and right edge of workspace.\n     * @type {number}\n     * @private\n     */\n    Blockly.Trashcan.prototype.MARGIN_SIDE_ = margin; // eslint-disable-line\n\n    /**\n     * Inspect the contents of the trash.\n     * @deriv/bot: Noop for us, restore original functionality when trashcan can be inspected.\n     */\n    Blockly.Trashcan.prototype.click = function () {};\n\n    window.dispatchEvent(new Event('resize')); // trigger UI update\n};\n","import Dashboard from './dashboard';\nimport './dashboard.scss';\n\nexport default Dashboard;\n","import React from 'react';\nimport { TQuickStrategyProps, TSymbolItem } from '../quick-strategy.types';\nimport { MarketOption, QuickStrategyForm, TradeTypeOption } from '.';\n\nconst QuickStrategyContainer = (props: TQuickStrategyProps) => {\n    const {\n        symbol_dropdown,\n        trade_type_dropdown,\n        active_index,\n        description,\n        duration_unit_dropdown,\n        types_strategies_dropdown,\n        initial_values,\n        is_onscreen_keyboard_active,\n        is_stop_button_visible,\n        selected_symbol,\n        selected_trade_type,\n        selected_duration_unit,\n        selected_type_strategy,\n        is_running,\n        is_contract_dialog_open,\n        is_stop_bot_dialog_open,\n        createStrategy,\n        getSizeDesc,\n        onChangeDropdownItem,\n        onChangeInputValue,\n        onHideDropdownList,\n        onScrollStopDropdownList,\n        setCurrentFocus,\n        toggleStopBotDialog,\n    } = props;\n\n    const symbol_dropdown_options = React.useMemo(\n        () =>\n            symbol_dropdown\n                .map((symbol: TSymbolItem) => ({\n                    component: <MarketOption key={symbol.text} symbol={symbol} />,\n                    ...symbol,\n                }))\n                // Until Crypto enabled for Dbot\n                .filter(option => option.group !== 'Cryptocurrencies')\n                .filter(\n                    option => option.text !== 'Volatility 150 (1s) Index' && option.text !== 'Volatility 250 (1s) Index'\n                ),\n        [symbol_dropdown]\n    );\n\n    const trade_type_dropdown_options = React.useMemo(\n        () =>\n            trade_type_dropdown.map(trade_type => ({\n                component: <TradeTypeOption key={trade_type.text} trade_type={trade_type} />,\n                ...trade_type,\n            })),\n        [trade_type_dropdown]\n    );\n\n    return (\n        <QuickStrategyForm\n            active_index={active_index}\n            description={description}\n            duration_unit_dropdown={duration_unit_dropdown}\n            types_strategies_dropdown={types_strategies_dropdown}\n            initial_values={initial_values}\n            is_onscreen_keyboard_active={is_onscreen_keyboard_active}\n            is_stop_button_visible={is_stop_button_visible}\n            symbol_dropdown={symbol_dropdown_options}\n            trade_type_dropdown={trade_type_dropdown_options}\n            selected_symbol={selected_symbol}\n            selected_trade_type={selected_trade_type}\n            selected_duration_unit={selected_duration_unit}\n            selected_type_strategy={selected_type_strategy}\n            getSizeDesc={getSizeDesc}\n            createStrategy={createStrategy}\n            onChangeDropdownItem={onChangeDropdownItem}\n            onChangeInputValue={onChangeInputValue}\n            onHideDropdownList={onHideDropdownList}\n            onScrollStopDropdownList={onScrollStopDropdownList}\n            setCurrentFocus={setCurrentFocus}\n            toggleStopBotDialog={toggleStopBotDialog}\n            is_running={is_running}\n            is_contract_dialog_open={is_contract_dialog_open}\n            is_stop_bot_dialog_open={is_stop_bot_dialog_open}\n        />\n    );\n};\n\nexport default React.memo(QuickStrategyContainer);\n","import { popover_zindex } from 'Constants/z-indexes';\n\nexport type TCommonInputsProperties = {\n    className?: string;\n    zIndex?: number;\n};\n\nconst common_inputs_properties: Readonly<TCommonInputsProperties> = {\n    className: 'quick-strategy__input',\n    zIndex: popover_zindex.QUICK_STRATEGY,\n};\n\nexport default common_inputs_properties;\n","import { localize } from '@deriv/translations';\nimport { TDropdownItems, TInputBaseFields, TInputsFieldNames, TSelectsFieldNames } from '../../quick-strategy.types';\nimport { common_inputs_properties } from '..';\nimport { TCommonInputsProperties } from './common-input-properties';\n\nconst getMessage = (property: string) => `The bot will stop trading if your total ${property} exceeds this amount.`;\n\nexport type TDataFields = {\n    id: string;\n    field_name: TSelectsFieldNames | TInputsFieldNames;\n    className?: string;\n    input_value?: TInputBaseFields;\n    select_value?: TDropdownItems;\n    label: string;\n    placeholder?: string;\n    trailing_icon_message?: string;\n    is_able_disabled?: boolean;\n    is_uniq_strategy_field?: boolean;\n} & Readonly<TCommonInputsProperties>;\n\nconst data_fields: ReadonlyArray<TDataFields> = [\n    {\n        id: 'type-strategy',\n        field_name: 'quick-strategy__type-strategy',\n        className: '',\n        select_value: 'type-strategy',\n        label: '',\n    },\n    {\n        id: 'symbol',\n        field_name: 'quick-strategy__symbol',\n        className: 'quick-strategy__dropdown quick-strategy__leading',\n        select_value: 'symbol',\n        label: localize('Asset'),\n    },\n    {\n        id: 'trade-type',\n        field_name: 'quick-strategy__trade-type',\n        className: 'quick-strategy__dropdown quick-strategy__leading',\n        select_value: 'trade-type',\n        label: localize('Trade type'),\n    },\n    {\n        id: 'duration-unit',\n        field_name: 'quick-strategy__duration-unit',\n        className: '',\n        select_value: 'duration-unit',\n        label: localize('Duration unit'),\n        is_able_disabled: true,\n    },\n    {\n        id: 'duration-value',\n        field_name: 'quick-strategy__duration-value',\n        input_value: 'input_duration_value',\n        label: localize('Duration value'),\n        placeholder: '5',\n        trailing_icon_message: 'The trade length of your purchased contract.',\n        ...common_inputs_properties,\n    },\n    {\n        id: 'stake',\n        field_name: 'quick-strategy__stake',\n        input_value: 'input_stake',\n        label: localize('Initial stake'),\n        placeholder: '10',\n        trailing_icon_message: 'The amount that you pay to enter a trade.',\n        ...common_inputs_properties,\n    },\n    {\n        id: 'loss',\n        field_name: 'quick-strategy__loss',\n        input_value: 'input_loss',\n        label: localize('Loss threshold'),\n        placeholder: '5000',\n        trailing_icon_message: getMessage('loss'),\n        ...common_inputs_properties,\n    },\n    {\n        id: 'strategy-data',\n        is_uniq_strategy_field: true,\n        label: '',\n        field_name: '',\n    },\n    {\n        id: 'profit',\n        field_name: 'quick-strategy__profit',\n        input_value: 'input_profit',\n        label: localize('Profit threshold'),\n        placeholder: '5000',\n        trailing_icon_message: getMessage('profit'),\n        ...common_inputs_properties,\n    },\n];\n\nexport default data_fields;\n","import QuickStrategyStore from 'Stores/quick-strategy-store';\nimport RootStore from 'Stores/root-store';\nimport { TInputUniqFields } from '../../quick-strategy.types';\nimport common_inputs_properties, { TCommonInputsProperties } from './common-input-properties';\n\nconst quick_strategy_store = new QuickStrategyStore(RootStore);\n\nexport type TDataUniqInput = {\n    id: TFieldNameUniqInput;\n    field_name: TFieldNameUniqInput;\n    input_value: TInputUniqFields;\n    label: TFieldNameUniqLabel;\n    placeholder: string;\n    trailing_icon_message: string;\n} & Readonly<TCommonInputsProperties>;\n\ntype TFieldNameUniqInput = 'martingale-size' | 'alembert-unit' | 'oscar-unit';\ntype TFieldNameUniqLabel = 'Size' | '' | 'Units';\n\nconst data_uniq_input_obj: ReadonlyArray<TDataUniqInput> = [\n    {\n        id: 'martingale-size',\n        field_name: 'martingale-size',\n        input_value: 'input_martingale_size',\n        label: 'Size',\n        placeholder: '2',\n        trailing_icon_message: quick_strategy_store.getSizeDesc(0),\n        ...common_inputs_properties,\n    },\n    {\n        id: 'alembert-unit',\n        field_name: 'alembert-unit',\n        input_value: 'input_alembert_unit',\n        label: 'Units',\n        placeholder: '2',\n        trailing_icon_message: quick_strategy_store.getSizeDesc(1),\n        ...common_inputs_properties,\n    },\n    {\n        id: 'oscar-unit',\n        field_name: 'oscar-unit',\n        input_value: 'input_oscar_unit',\n        label: 'Units',\n        placeholder: '2',\n        trailing_icon_message: quick_strategy_store.getSizeDesc(2),\n        ...common_inputs_properties,\n    },\n];\n\nexport default data_uniq_input_obj;\n","import React from 'react';\nimport { Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\n\ntype TDescription = {\n    id: string;\n    description: string;\n};\n\nconst Description = ({ id, description }: TDescription) => (\n    <React.Fragment>\n        {id === 'type-strategy' && (\n            <div key='description' className='quick-strategy__text'>\n                <Text size={isMobile() ? 'xxs' : 's'} align='justify'>\n                    {description}\n                </Text>\n            </div>\n        )}\n    </React.Fragment>\n);\n\nDescription.displayName = 'Description';\n\nexport default React.memo(Description);\n","import React from 'react';\nimport classNames from 'classnames';\nimport { isMobile } from '@deriv/shared';\nimport { TDropdownItems, TSelectsFieldNames } from '../quick-strategy.types';\nimport { TDurationFields } from './components.types';\nimport { SelectField } from '.';\n\nconst DurationFields = ({\n    id,\n    field_name,\n    dropdown_list,\n    selected_value,\n    label,\n    select_value,\n    className,\n    is_able_disabled,\n    values,\n    selected_trade_type,\n    selected_symbol,\n    setFieldValue,\n    onChangeDropdownItem,\n    onHideDropdownList,\n    onScrollStopDropdownList,\n}: TDurationFields) => {\n    const is_mobile = isMobile();\n    return id === 'duration-unit' ? (\n        <div\n            className={classNames('quick-strategy__form-row', {\n                'quick-strategy__form-row--multiple': !is_mobile,\n            })}\n        >\n            <SelectField\n                field_name={field_name as TSelectsFieldNames}\n                id={id}\n                is_mobile={is_mobile}\n                dropdown_list={dropdown_list}\n                selected_value={selected_value}\n                label={label}\n                select_value={select_value as TDropdownItems}\n                setFieldValue={setFieldValue}\n                className={className}\n                is_able_disabled={is_able_disabled}\n                values={values}\n                onChangeDropdownItem={onChangeDropdownItem}\n                onHideDropdownList={onHideDropdownList}\n                onScrollStopDropdownList={onScrollStopDropdownList}\n                selected_trade_type={selected_trade_type}\n                selected_symbol={selected_symbol}\n            />\n        </div>\n    ) : (\n        <></>\n    );\n};\n\nexport default React.memo(DurationFields);\n","import React from 'react';\nimport { TDropdownItems, TDropdowns, TSelectedValuesSelect } from '../quick-strategy.types';\nimport { TDropdownLists, TQuickStrategyFields, TSelectedValues } from './components.types';\nimport { data_fields, data_uniq_input_obj, Description, DurationFields, Inputs, Selects } from '.';\n\nconst QuickStrategyFields = React.memo(\n    ({\n        types_strategies_dropdown,\n        symbol_dropdown,\n        trade_type_dropdown,\n        duration_unit_dropdown,\n        selected_type_strategy,\n        selected_trade_type,\n        selected_symbol,\n        selected_duration_unit,\n        onChangeDropdownItem,\n        onHideDropdownList,\n        setFieldValue,\n        onScrollStopDropdownList,\n        handleChange,\n        onChangeInputValue,\n        setCurrentFocus,\n        values,\n        description,\n        errors,\n    }: TQuickStrategyFields) => {\n        const uniq_selected_input = React.useMemo(\n            () => data_uniq_input_obj.filter((_elem, index) => index === selected_type_strategy.index)[0],\n            [selected_type_strategy]\n        );\n\n        const dropdown_lists: TDropdownLists = {\n            symbol: symbol_dropdown,\n            'trade-type': trade_type_dropdown,\n            'duration-unit': duration_unit_dropdown,\n            'type-strategy': types_strategies_dropdown,\n        };\n\n        const selected_values: TSelectedValues = {\n            symbol: selected_symbol,\n            'trade-type': selected_trade_type,\n            'duration-unit': selected_duration_unit,\n            'type-strategy': selected_type_strategy,\n        };\n\n        const fields = React.useMemo(\n            () => {\n                return data_fields.map((item, idx) => {\n                    const {\n                        id,\n                        field_name,\n                        className,\n                        input_value,\n                        select_value,\n                        label,\n                        placeholder,\n                        trailing_icon_message,\n                        zIndex,\n                        is_able_disabled,\n                    } = item;\n\n                    const is_uniq_strategy_field = item?.is_uniq_strategy_field;\n                    const is_input_field = is_uniq_strategy_field || !!input_value;\n                    const is_select_field = !!select_value;\n\n                    const dropdown_list: TDropdowns = !is_uniq_strategy_field\n                        ? dropdown_lists[id as TDropdownItems]\n                        : [];\n\n                    const selected_value: Partial<TSelectedValuesSelect> = !is_uniq_strategy_field\n                        ? selected_values[id as TDropdownItems]\n                        : {};\n\n                    return (\n                        <React.Fragment key={id}>\n                            {id === 'duration-unit' && (\n                                <DurationFields\n                                    id={id}\n                                    field_name={field_name}\n                                    idx={idx}\n                                    dropdown_list={dropdown_list}\n                                    selected_value={selected_value}\n                                    label={label}\n                                    select_value={select_value}\n                                    setFieldValue={setFieldValue}\n                                    className={className}\n                                    is_able_disabled={is_able_disabled}\n                                    values={values}\n                                    onChangeDropdownItem={onChangeDropdownItem}\n                                    onHideDropdownList={onHideDropdownList}\n                                    onScrollStopDropdownList={onScrollStopDropdownList}\n                                    selected_trade_type={selected_trade_type}\n                                    selected_symbol={selected_symbol}\n                                    handleChange={handleChange}\n                                    onChangeInputValue={onChangeInputValue}\n                                    setCurrentFocus={setCurrentFocus}\n                                    errors={errors}\n                                />\n                            )}\n                            {is_input_field && (\n                                <Inputs\n                                    idx={idx}\n                                    handleChange={handleChange}\n                                    onChangeInputValue={onChangeInputValue}\n                                    setCurrentFocus={setCurrentFocus}\n                                    field_name={field_name}\n                                    id={id}\n                                    className={className}\n                                    label={label}\n                                    input_value={input_value}\n                                    placeholder={placeholder}\n                                    is_uniq_strategy_field={is_uniq_strategy_field}\n                                    trailing_icon_message={trailing_icon_message}\n                                    zIndex={zIndex}\n                                    uniq_selected_input={uniq_selected_input}\n                                    errors={errors}\n                                    is_input_field={is_input_field}\n                                />\n                            )}\n                            {is_select_field && id !== 'duration-unit' && (\n                                <Selects\n                                    field_name={field_name}\n                                    id={id}\n                                    dropdown_list={dropdown_list}\n                                    selected_value={selected_value}\n                                    label={label}\n                                    select_value={select_value}\n                                    setFieldValue={setFieldValue}\n                                    className={className}\n                                    is_able_disabled={is_able_disabled}\n                                    values={values}\n                                    onChangeDropdownItem={onChangeDropdownItem}\n                                    onHideDropdownList={onHideDropdownList}\n                                    onScrollStopDropdownList={onScrollStopDropdownList}\n                                    selected_trade_type={selected_trade_type}\n                                    selected_symbol={selected_symbol}\n                                    is_input_field={is_input_field}\n                                />\n                            )}\n                            <Description key={description} id={id} description={description} />\n                        </React.Fragment>\n                    );\n                });\n            },\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n            [\n                types_strategies_dropdown,\n                symbol_dropdown,\n                trade_type_dropdown,\n                duration_unit_dropdown,\n                selected_type_strategy,\n                selected_trade_type,\n                selected_symbol,\n                selected_duration_unit,\n                errors,\n            ]\n        );\n\n        return <div className='quick-strategy__fields'>{fields}</div>;\n    },\n    (prevProps, nextProps) =>\n        prevProps.values === nextProps.values &&\n        prevProps.errors === nextProps.errors &&\n        prevProps.duration_unit_dropdown === nextProps.duration_unit_dropdown\n);\n\nQuickStrategyFields.displayName = 'QuickStrategyFields';\n\nexport default QuickStrategyFields;\n","import React from 'react';\nimport { Button } from '@deriv/components';\nimport { isDesktop } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { TQuickStrategyFooter } from './components.types';\n\nconst QuickStrategyFooter = ({\n    is_submit_enabled,\n    is_running,\n    setFieldValue,\n    submitForm,\n    toggleStopBotDialog,\n}: TQuickStrategyFooter) => {\n    const handleCreateEdit = React.useCallback(() => {\n        setFieldValue('button', 'edit');\n        submitForm();\n    }, [is_submit_enabled]);\n\n    const handleRun = React.useCallback(async () => {\n        if (is_running) {\n            await Promise.resolve(setFieldValue('button', 'edit'))\n                .then(() => submitForm())\n                .then(() => toggleStopBotDialog());\n        } else {\n            setFieldValue('button', 'run');\n            submitForm();\n        }\n    }, [is_submit_enabled]);\n\n    return (\n        <div className={'quick-strategy__form-footer'}>\n            <Button.Group>\n                {isDesktop() && (\n                    <Button\n                        type='button'\n                        id='db-quick-strategy__button-edit'\n                        text={localize('Edit')}\n                        is_disabled={!is_submit_enabled}\n                        secondary\n                        large\n                        onClick={handleCreateEdit}\n                    />\n                )}\n                <Button\n                    type='button'\n                    id='db-quick-strategy__button-run'\n                    text={localize('Run')}\n                    is_disabled={!is_submit_enabled}\n                    primary\n                    large\n                    onClick={handleRun}\n                />\n            </Button.Group>\n        </div>\n    );\n};\n\nexport default React.memo(QuickStrategyFooter);\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Form, Formik, FormikProps } from 'formik';\nimport * as Yup from 'yup';\nimport { Text, ThemedScrollbars } from '@deriv/components';\nimport { isMobile, isSafari } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { TQuickStrategyFormValues } from '../quick-strategy.types';\nimport { TQuickStrategyForm } from './components.types';\nimport { QuickStrategyFields, QuickStrategyFooter } from '.';\n\nconst QuickStrategyForm = ({\n    duration_unit_dropdown,\n    types_strategies_dropdown,\n    initial_values,\n    is_onscreen_keyboard_active,\n    is_stop_button_visible,\n    symbol_dropdown,\n    trade_type_dropdown,\n    selected_symbol,\n    selected_trade_type,\n    selected_duration_unit,\n    selected_type_strategy,\n    description,\n    is_contract_dialog_open,\n    is_stop_bot_dialog_open,\n    is_running,\n    createStrategy,\n    onChangeDropdownItem,\n    onChangeInputValue,\n    onHideDropdownList,\n    onScrollStopDropdownList,\n    setCurrentFocus,\n    toggleStopBotDialog,\n}: TQuickStrategyForm) => {\n    const { min, max } = selected_duration_unit;\n\n    const setDefaultValidationNumber = () =>\n        Yup.number()\n            .typeError(localize('Must be a number'))\n            .round('ceil')\n            .min(1, localize('Must be a number higher than 0'));\n\n    const SchemaFields = Yup.object().shape({\n        'quick-strategy__duration-value': Yup.number()\n            .typeError(localize('Must be a number'))\n            .required(localize('Field cannot be empty'))\n            .min(min, localize('Minimum duration: {{ min }}', { min }))\n            .max(max, localize('Maximum duration: {{ max }}', { max })),\n        'quick-strategy__stake': setDefaultValidationNumber(),\n        'quick-strategy__loss': setDefaultValidationNumber(),\n        'martingale-size': Yup.number()\n            .typeError(localize('Must be a number'))\n            .round('floor')\n            .min(2, localize('The value must be equal to or greater than 2.')),\n        'alembert-unit': setDefaultValidationNumber(),\n        'oscar-unit': setDefaultValidationNumber(),\n        'quick-strategy__profit': setDefaultValidationNumber(),\n    });\n    return (\n        <Formik\n            initialValues={initial_values}\n            validationSchema={SchemaFields}\n            onSubmit={createStrategy}\n            enableReinitialize={true}\n            validateOnMount={true}\n        >\n            {({\n                errors,\n                handleChange,\n                values,\n                isSubmitting,\n                setFieldValue,\n                submitForm,\n            }: FormikProps<TQuickStrategyFormValues>) => {\n                const is_valid =\n                    Object.keys(errors).length === 0 && !Object.values(values).some(elem => (elem as string) === '');\n                const is_submit_enabled = !isSubmitting && is_valid;\n                const is_mobile = isMobile();\n\n                return (\n                    <Form\n                        className={classNames('quick-strategy__form', {\n                            'quick-strategy__form--active-keyboard': is_onscreen_keyboard_active,\n                        })}\n                    >\n                        <ThemedScrollbars autohide is_bypassed={is_mobile} className='quick-strategy__form-scrollbar'>\n                            <div\n                                className={classNames('quick-strategy__form-content', {\n                                    'quick-strategy__form-content--active-keyboard': is_onscreen_keyboard_active,\n                                    'quick-strategy__form-content--safari-fix': isSafari(),\n                                })}\n                            >\n                                <div className={classNames('quick-strategy__text', 'quick-strategy__text--margin')}>\n                                    <Text weight='normal' size={is_mobile ? 'xxs' : 's'}>\n                                        {localize('Choose a template and set your trade parameters.')}\n                                    </Text>\n                                </div>\n\n                                <QuickStrategyFields\n                                    types_strategies_dropdown={types_strategies_dropdown}\n                                    symbol_dropdown={symbol_dropdown}\n                                    trade_type_dropdown={trade_type_dropdown}\n                                    duration_unit_dropdown={duration_unit_dropdown}\n                                    selected_type_strategy={selected_type_strategy}\n                                    selected_trade_type={selected_trade_type}\n                                    selected_symbol={selected_symbol}\n                                    selected_duration_unit={selected_duration_unit}\n                                    onChangeDropdownItem={onChangeDropdownItem}\n                                    onHideDropdownList={onHideDropdownList}\n                                    setFieldValue={setFieldValue}\n                                    onScrollStopDropdownList={onScrollStopDropdownList}\n                                    handleChange={handleChange}\n                                    onChangeInputValue={onChangeInputValue}\n                                    setCurrentFocus={setCurrentFocus}\n                                    values={values}\n                                    description={description}\n                                    errors={errors}\n                                />\n                            </div>\n                        </ThemedScrollbars>\n                        <QuickStrategyFooter\n                            is_submit_enabled={is_submit_enabled}\n                            is_stop_button_visible={is_stop_button_visible}\n                            setFieldValue={setFieldValue}\n                            submitForm={submitForm}\n                            is_running={is_running}\n                            is_contract_dialog_open={is_contract_dialog_open}\n                            toggleStopBotDialog={toggleStopBotDialog}\n                            is_stop_bot_dialog_open={is_stop_bot_dialog_open}\n                        />\n                    </Form>\n                );\n            }}\n        </Formik>\n    );\n};\n\nexport default React.memo(QuickStrategyForm);\n","import React from 'react';\nimport { Field, FieldProps } from 'formik';\nimport { Icon, Input, Popover } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport { TFormValues, TInputBaseFields, TInputCommonFields } from '../quick-strategy.types';\nimport { TDataFields } from './data/data-fields';\nimport { TDataUniqInput } from './data/data-uniq-input-obj';\nimport { TInputFieldProps } from './components.types';\nimport { data_fields } from '.';\n\nconst InputField = ({\n    idx,\n    handleChange,\n    onChangeInputValue,\n    setCurrentFocus,\n    is_mobile,\n    field_name,\n    id,\n    className,\n    label,\n    input_value,\n    placeholder,\n    is_uniq_strategy_field,\n    trailing_icon_message,\n    zIndex,\n    uniq_selected_input,\n    errors,\n}: TInputFieldProps) => {\n    const dataField = () => {\n        if (is_uniq_strategy_field) {\n            return uniq_selected_input;\n        }\n        return idx ? data_fields[idx] : {};\n    };\n\n    const {\n        field_name: new_field_name,\n        id: new_id,\n        className: new_className,\n        label: new_label,\n        input_value: new_input_value,\n        placeholder: new_placeholder,\n        trailing_icon_message: new_trailing_icon_message,\n        zIndex: new_zIndex,\n    } = (dataField() as TDataUniqInput | TDataFields) || {};\n\n    return (\n        <Field name={field_name || new_field_name} key={id || new_id} id={id || new_id}>\n            {({ field }: FieldProps<string, TFormValues>) => {\n                return (\n                    <Input\n                        {...field}\n                        className={className || new_className}\n                        type='text'\n                        error={errors[(field.name as keyof typeof errors) || (new_field_name as keyof typeof errors)]}\n                        label={localize(label || new_label)}\n                        onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                            handleChange(e);\n                            onChangeInputValue(\n                                input_value\n                                    ? (input_value as TInputBaseFields)\n                                    : (new_input_value as TInputCommonFields),\n                                e\n                            );\n                        }}\n                        onFocus={(e: React.FocusEvent<HTMLInputElement>) => setCurrentFocus(e.currentTarget.name)}\n                        onBlur={() => setCurrentFocus(null)}\n                        placeholder={placeholder || new_placeholder}\n                        trailing_icon={\n                            <Popover\n                                alignment={is_mobile ? 'top' : 'bottom'}\n                                message={localize(trailing_icon_message || new_trailing_icon_message)}\n                                zIndex={zIndex || new_zIndex}\n                            >\n                                <Icon icon='IcInfoOutline' />\n                            </Popover>\n                        }\n                    />\n                );\n            }}\n        </Field>\n    );\n};\n\nexport default React.memo(InputField);\n","import React from 'react';\nimport classNames from 'classnames';\nimport { isMobile } from '@deriv/shared';\nimport { TInputsFieldNames } from '../quick-strategy.types';\nimport { TInputs } from './components.types';\nimport { InputField } from '.';\n\nconst Inputs = ({\n    idx,\n    field_name,\n    id,\n    className,\n    label,\n    input_value,\n    placeholder,\n    is_uniq_strategy_field,\n    trailing_icon_message,\n    zIndex,\n    uniq_selected_input,\n    errors,\n    is_input_field,\n    handleChange,\n    onChangeInputValue,\n    setCurrentFocus,\n}: TInputs) => {\n    const is_mobile = isMobile();\n    return is_input_field ? (\n        <div\n            className={classNames('quick-strategy__form-row', {\n                'quick-strategy__form-row--multiple': !is_mobile,\n            })}\n        >\n            <InputField\n                idx={idx}\n                handleChange={handleChange}\n                onChangeInputValue={onChangeInputValue}\n                setCurrentFocus={setCurrentFocus}\n                is_mobile={is_mobile}\n                field_name={field_name as TInputsFieldNames}\n                id={id}\n                className={className}\n                label={label}\n                input_value={input_value}\n                placeholder={placeholder}\n                is_uniq_strategy_field={is_uniq_strategy_field}\n                trailing_icon_message={trailing_icon_message}\n                zIndex={zIndex}\n                uniq_selected_input={uniq_selected_input}\n                errors={errors}\n            />\n        </div>\n    ) : (\n        <></>\n    );\n};\n\nInputs.displayName = 'Inputs';\n\nexport default React.memo(Inputs);\n","import React from 'react';\nimport { Icon, Text } from '@deriv/components';\nimport { TMarketOptionProps } from './components.types';\n\nconst MarketOption = ({ symbol }: TMarketOptionProps) => (\n    <div key={symbol.value} className='quick-strategy__option'>\n        <Icon icon={`IcUnderlying${symbol.value}`} size={32} />\n        <Text className='quick-strategy__symbol' size='xs' color='prominent'>\n            {symbol.text}\n        </Text>\n    </div>\n);\n\nexport default React.memo(MarketOption);\n","import React from 'react';\nimport { Field, FieldProps } from 'formik';\nimport { Autocomplete, Icon, IconTradeTypes, SelectNative, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport { TFormValues, TSelectsFieldNames } from '../quick-strategy.types';\nimport { TSelectFieldProps } from './components.types';\n\nconst SelectField = React.memo(\n    ({\n        field_name,\n        id,\n        is_mobile,\n        dropdown_list,\n        selected_value,\n        label,\n        select_value,\n        setFieldValue,\n        className,\n        is_able_disabled,\n        values,\n        onChangeDropdownItem,\n        onHideDropdownList,\n        onScrollStopDropdownList,\n        selected_trade_type,\n        selected_symbol,\n    }: TSelectFieldProps) => (\n        <Field name={field_name} key={id} id={id}>\n            {({ field }: FieldProps<string, TFormValues>) => (\n                <>\n                    {is_mobile ? (\n                        <SelectNative\n                            list_items={dropdown_list}\n                            value={typeof selected_value === 'string' ? selected_value : selected_value.value}\n                            label={localize(label)}\n                            should_show_empty_option={false}\n                            onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                                onChangeDropdownItem(select_value, e.target.value, setFieldValue);\n                            }}\n                        />\n                    ) : (\n                        <Autocomplete\n                            {...field}\n                            autoComplete='off'\n                            className={className}\n                            type='text'\n                            label={localize(label)}\n                            list_items={dropdown_list}\n                            disabled={is_able_disabled && dropdown_list?.length === 1}\n                            onHideDropdownList={() => {\n                                onHideDropdownList(\n                                    select_value,\n                                    values[field.name] as TSelectsFieldNames,\n                                    setFieldValue\n                                );\n                            }}\n                            onItemSelection={({ value }: { value: string }) => {\n                                onChangeDropdownItem(select_value, value, setFieldValue);\n                            }}\n                            onScrollStop={() => onScrollStopDropdownList(select_value)}\n                            leading_icon={\n                                (select_value === 'trade-type' && selected_trade_type?.icon && (\n                                    <Text>\n                                        <IconTradeTypes type={selected_trade_type?.icon[0]} />\n                                        <IconTradeTypes type={selected_trade_type?.icon[1]} />\n                                    </Text>\n                                )) ||\n                                (select_value === 'symbol' && (selected_symbol?.value as string) && (\n                                    <Icon icon={`IcUnderlying${selected_symbol?.value}`} size={24} />\n                                ))\n                            }\n                        />\n                    )}\n                </>\n            )}\n        </Field>\n    ),\n    (prevProps, nextProps) => {\n        return (\n            prevProps.dropdown_list === nextProps.dropdown_list && prevProps.selected_value === nextProps.selected_value\n        );\n    }\n);\nSelectField.displayName = 'SelectField';\n\nexport default SelectField;\n","import React from 'react';\nimport { isMobile } from '@deriv/shared';\nimport { TDropdownItems, TSelectsFieldNames } from '../quick-strategy.types';\nimport { TSelects } from './components.types';\nimport { SelectField } from '.';\n\nconst Selects = ({\n    field_name,\n    id,\n    dropdown_list,\n    selected_value,\n    label,\n    select_value,\n    setFieldValue,\n    className,\n    is_able_disabled,\n    values,\n    onChangeDropdownItem,\n    onHideDropdownList,\n    onScrollStopDropdownList,\n    selected_trade_type,\n    selected_symbol,\n    is_input_field,\n}: TSelects & { is_input_field: boolean }) =>\n    !is_input_field && id !== 'duration-unit' ? (\n        <div className='quick-strategy__form-row'>\n            <SelectField\n                field_name={field_name as TSelectsFieldNames}\n                id={id}\n                is_mobile={isMobile()}\n                dropdown_list={dropdown_list}\n                selected_value={selected_value}\n                label={label}\n                select_value={select_value as TDropdownItems}\n                setFieldValue={setFieldValue}\n                className={className}\n                is_able_disabled={is_able_disabled}\n                values={values}\n                onChangeDropdownItem={onChangeDropdownItem}\n                onHideDropdownList={onHideDropdownList}\n                onScrollStopDropdownList={onScrollStopDropdownList}\n                selected_trade_type={selected_trade_type}\n                selected_symbol={selected_symbol}\n            />\n        </div>\n    ) : (\n        <></>\n    );\n\nSelects.displayName = 'Selects';\n\nexport default React.memo(Selects);\n","import React from 'react';\nimport { IconTradeTypes, Text } from '@deriv/components';\nimport { TTradeTypeOptionProps } from './components.types';\n\nconst TradeTypeOption = ({ trade_type }: TTradeTypeOptionProps) => (\n    <div key={trade_type.value} className='quick-strategy__option'>\n        <IconTradeTypes type={trade_type.icon[0]} className='quick-strategy__icon' />\n        <IconTradeTypes type={trade_type.icon[1]} className='quick-strategy__icon' />\n        <Text className='quick-strategy__symbol' size='xs' color='prominent'>\n            {trade_type.text}\n        </Text>\n    </div>\n);\n\nexport default React.memo(TradeTypeOption);\n","import React from 'react';\nimport { MobileFullPageModal, Modal } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { QuickStrategyContainer } from './quick-strategy-components';\n\nconst QuickStrategy = observer(() => {\n    const is_mobile = isMobile();\n    const { quick_strategy, run_panel } = useDBotStore();\n    const { ui } = useStore();\n    const {\n        is_strategy_modal_open,\n        loadDataStrategy,\n        active_index,\n        description,\n        createStrategy,\n        duration_unit_dropdown,\n        types_strategies_dropdown,\n        getSizeDesc,\n        initial_values,\n        onChangeDropdownItem,\n        onChangeInputValue,\n        onHideDropdownList,\n        onScrollStopDropdownList,\n        selected_symbol,\n        selected_trade_type,\n        selected_duration_unit,\n        selected_type_strategy,\n        symbol_dropdown,\n        trade_type_dropdown,\n        toggleStopBotDialog,\n        is_contract_dialog_open,\n        is_stop_bot_dialog_open,\n    } = quick_strategy;\n    const { is_stop_button_visible, is_running } = run_panel;\n    const { is_onscreen_keyboard_active, setCurrentFocus } = ui;\n\n    const quick_strategy_props = {\n        symbol_dropdown,\n        trade_type_dropdown,\n        active_index,\n        description,\n        duration_unit_dropdown,\n        types_strategies_dropdown,\n        initial_values,\n        is_onscreen_keyboard_active,\n        is_stop_button_visible,\n        selected_symbol,\n        selected_trade_type,\n        selected_duration_unit,\n        selected_type_strategy,\n        is_running,\n        is_contract_dialog_open,\n        is_stop_bot_dialog_open,\n        createStrategy,\n        getSizeDesc,\n        onChangeDropdownItem,\n        onChangeInputValue,\n        onHideDropdownList,\n        onScrollStopDropdownList,\n        setCurrentFocus,\n        toggleStopBotDialog,\n    };\n\n    return (\n        <>\n            {is_mobile ? (\n                <MobileFullPageModal\n                    is_modal_open={is_strategy_modal_open}\n                    className='quick-strategy__wrapper'\n                    header={localize('Quick Strategy')}\n                    onClickClose={loadDataStrategy}\n                    height_offset='8rem'\n                >\n                    <QuickStrategyContainer {...quick_strategy_props} />\n                </MobileFullPageModal>\n            ) : (\n                <Modal\n                    title={localize('Quick strategy')}\n                    className='modal--strategy'\n                    is_open={is_strategy_modal_open}\n                    toggleModal={loadDataStrategy}\n                    width={'78rem'}\n                >\n                    <div className='modal__content'>\n                        <QuickStrategyContainer {...quick_strategy_props} />\n                    </div>\n                </Modal>\n            )}\n        </>\n    );\n});\n\nexport default QuickStrategy;\n","import QuickStrategy from './quick-strategy';\nimport './quick-strategy.scss';\n\nexport default QuickStrategy;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { observer } from '@deriv/stores';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst FlyoutBlock = observer(({ block_node, should_center_block, should_hide_display_name }) => {\n    const { flyout } = useDBotStore();\n    const { initBlockWorkspace } = flyout;\n\n    let el_block_workspace = React.useRef();\n\n    React.useEffect(() => {\n        initBlockWorkspace(el_block_workspace, block_node, should_center_block);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return (\n        <div\n            ref={el => (el_block_workspace = el)}\n            className={classNames({\n                'flyout__block-workspace--center': should_hide_display_name,\n                'flyout__block-workspace--top': !should_hide_display_name,\n            })}\n        />\n    );\n});\n\nexport default FlyoutBlock;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { PropTypes } from 'prop-types';\nimport { Button, Text } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\nimport FlyoutBlock from './flyout-block.jsx';\n\nconst FlyoutBlockGroup = ({ onInfoClick, block_node, is_active, should_hide_display_name }) => {\n    const block_type = block_node.getAttribute('type');\n    const block_meta = Blockly.Blocks[block_type].meta();\n    const is_variables_get = block_type === 'variables_get';\n    const is_variables_set = block_type === 'variables_set';\n    const { display_name, description } = block_meta;\n\n    const AddButton = () => (\n        <div className='flyout__item-buttons'>\n            <Button\n                id={`db-flyout__add--${block_type}`}\n                className='flyout__button-add flyout__button-add--hide'\n                has_effect\n                is_plus\n                onClick={() => Blockly.derivWorkspace.addBlockNode(block_node)}\n                type='button'\n            />\n        </div>\n    );\n\n    return (\n        <>\n            {is_variables_set && <div className='flyout__hr' />}\n            <div className={classNames('flyout__item', { 'flyout__item--active': is_active })}>\n                {!should_hide_display_name && (\n                    <>\n                        <div className='flyout__item-header'>\n                            <Text\n                                size={is_variables_get ? 'xs' : 'xsm'}\n                                line_height={is_variables_get ? undefined : 'xl'}\n                                weight={is_variables_get ? undefined : 'bold'}\n                            >\n                                {display_name}\n                            </Text>\n                            {!is_variables_get && <AddButton />}\n                        </div>\n                        <div className='flyout__item-description'>\n                            {description}\n                            {onInfoClick && (\n                                <a\n                                    id={display_name.replace(/\\s/gi, '-')}\n                                    className='flyout__item-info'\n                                    onClick={onInfoClick}\n                                >\n                                    <Localize i18n_default_text='Learn more' />\n                                </a>\n                            )}\n                        </div>\n                    </>\n                )}\n                <div className='flyout__block-workspace__header'>\n                    <FlyoutBlock should_center_block block_node={block_node} should_hide_display_name />\n                    {is_variables_get && <AddButton />}\n                </div>\n            </div>\n        </>\n    );\n};\n\nFlyoutBlockGroup.propTypes = {\n    block_nodes: PropTypes.array,\n    onInfoClick: PropTypes.func,\n};\n\nexport default FlyoutBlockGroup;\n","import React from 'react';\nimport { PropTypes } from 'prop-types';\n\nconst FlyoutImage = props => {\n    const { width, url } = props;\n    const style = { width };\n\n    return (\n        <div className='flyout__item'>\n            <img src={url} className='flyout__image' style={style} />\n        </div>\n    );\n};\n\nFlyoutImage.propTypes = {\n    url: PropTypes.string,\n};\n\nexport default FlyoutImage;\n","import React from 'react';\nimport { PropTypes } from 'prop-types';\nimport { Text } from '@deriv/components';\n\nconst FlyoutText = props => {\n    const { text } = props;\n\n    return (\n        <Text as='p' size='xs' styles={{ lineHeight: '1.3em' }}>\n            {text}\n        </Text>\n    );\n};\n\nFlyoutText.propTypes = {\n    text: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n};\n\nexport default FlyoutText;\n","import React from 'react';\nimport { PropTypes } from 'prop-types';\n\nconst FlyoutVideo = props => {\n    return (\n        <div className='flyout__item'>\n            <iframe\n                className='flyout__video'\n                src={props.url}\n                frameBorder='0'\n                allow='accelerometer; encrypted-media; gyroscope; picture-in-picture'\n                allowFullScreen\n                width={'100%'}\n            />\n        </div>\n    );\n};\n\nFlyoutVideo.propTypes = {\n    url: PropTypes.string,\n};\n\nexport default FlyoutVideo;\n","import React from 'react';\nimport { Button, Icon, Text } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { help_content_config, help_content_types } from 'Utils/help-content/help-content.config';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport FlyoutBlock from '../flyout-block.jsx';\nimport FlyoutImage from './flyout-img.jsx';\nimport FlyoutText from './flyout-text.jsx';\nimport FlyoutVideo from './flyout-video.jsx';\n\nconst HelpBase = observer(() => {\n    const { flyout, flyout_help } = useDBotStore();\n    const {\n        block_node,\n        block_type,\n        examples,\n        help_string,\n        onBackClick,\n        onSequenceClick,\n        should_next_disable,\n        should_previous_disable,\n        title,\n    } = flyout_help;\n    const { is_search_flyout } = flyout;\n\n    const block_help_component = help_string && help_content_config(__webpack_public_path__)[block_type];\n    let text_count = 0;\n\n    return (\n        <React.Fragment>\n            <div className='flyout__help-header'>\n                <button className='dc-btn flyout__button-back' onClick={onBackClick}>\n                    <Icon icon='IcArrowLeft' />\n                </button>\n                <Text weight='bold' className='flyout__help-title'>\n                    {title}\n                </Text>\n                <div className='flyout__item-buttons'>\n                    <Button\n                        className='flyout__button-add'\n                        has_effect\n                        id={`db-flyout-help__add--${block_type}`}\n                        onClick={() => Blockly.derivWorkspace.addBlockNode(block_node)}\n                        primary\n                        text={localize('Add')}\n                        type='button'\n                    />\n                </div>\n            </div>\n            <div className='flyout__help-content'>\n                {block_help_component &&\n                    block_help_component.map((component, index) => {\n                        const { type, width, url, example_id } = component;\n                        const { text } = help_string;\n                        const example_node = examples.find(example => example.id === example_id);\n                        switch (type) {\n                            case help_content_types.TEXT:\n                                if (text_count < text.length) {\n                                    return <FlyoutText key={`${block_type}_${index}`} text={text[text_count++]} />;\n                                }\n                                return null;\n                            case help_content_types.VIDEO:\n                                return <FlyoutVideo key={`${block_type}_${index}`} url={url} />;\n                            case help_content_types.IMAGE:\n                                return <FlyoutImage key={`${block_type}_${index}`} width={width} url={url} />;\n                            case help_content_types.BLOCK: {\n                                return (\n                                    <FlyoutBlock\n                                        key={`${block_type}_${index}`}\n                                        should_center_block={true}\n                                        block_node={block_node}\n                                    />\n                                );\n                            }\n                            case help_content_types.EXAMPLE:\n                                if (example_node) {\n                                    return (\n                                        <FlyoutBlock\n                                            key={`${block_type}_${index}`}\n                                            should_center_block={true}\n                                            block_node={example_node.childNodes[0]}\n                                        />\n                                    );\n                                }\n                                return null;\n                            default:\n                                return null;\n                        }\n                    })}\n            </div>\n            {!is_search_flyout && !(should_previous_disable && should_next_disable) && (\n                <div className='flyout__help-footer'>\n                    <Button\n                        className='flyout__button-previous'\n                        secondary\n                        onClick={() => onSequenceClick(false)}\n                        text={localize('Previous')}\n                        type='button'\n                        is_disabled={should_previous_disable}\n                        renderText={text =>\n                            should_previous_disable && (\n                                <Text size='xs' weight='bold' align='center' color='disabled'>\n                                    {text}\n                                </Text>\n                            )\n                        }\n                    />\n                    <Button\n                        className='flyout__button-next'\n                        secondary\n                        onClick={() => onSequenceClick(true)}\n                        text={localize('Next')}\n                        type='button'\n                        is_disabled={should_next_disable}\n                        renderText={text =>\n                            should_next_disable && (\n                                <Text size='xs' weight='bold' align='center' color='disabled'>\n                                    {text}\n                                </Text>\n                            )\n                        }\n                    />\n                </div>\n            )}\n        </React.Fragment>\n    );\n});\n\nexport default HelpBase;\n","import HelpBase from './flyout-help-base.jsx';\n\nexport default HelpBase;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Icon, Input, Text, ThemedScrollbars } from '@deriv/components';\nimport { getPlatformSettings } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { help_content_config } from 'Utils/help-content/help-content.config';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport FlyoutBlockGroup from './flyout-block-group.jsx';\nimport HelpBase from './help-contents';\n\nconst SearchResult = ({ search_term, total_result }) => (\n    <div className='flyout__search-header'>\n        <Text weight='bold' className='flyout__search-header-text'>\n            {localize('Results for \"{{ search_term }}\"', {\n                search_term,\n                interpolation: { escapeValue: false },\n            })}\n        </Text>\n        <Text weight='bold' color='profit-success' className='flyout__search-header-text'>\n            {`${total_result} ${total_result > 1 ? localize('results') : localize('result')}`}\n        </Text>\n    </div>\n);\n\nconst FlyoutContent = props => {\n    const flyout_ref = React.useRef();\n    const {\n        flyout_content,\n        active_helper,\n        setHelpContent,\n        initFlyoutHelp,\n        is_empty,\n        is_search_flyout,\n        selected_category,\n        first_get_variable_block_index,\n    } = props;\n\n    return (\n        <div\n            ref={flyout_ref}\n            className={classNames('flyout__content', { 'flyout__normal-content': !is_search_flyout })}\n        >\n            <ThemedScrollbars className='flyout__content-scrollbar'>\n                {selected_category?.getAttribute('id') === 'indicators' && (\n                    <div className='flyout__content-disclaimer'>\n                        <span className='flyout__content-disclaimer-icon'>\n                            <Icon\n                                icon='IcBlackWarning'\n                                custom_color='#000000'\n                                className='flyout__content-disclaimer__warning-icon'\n                            />\n                        </span>\n                        <span className='flyout__content-disclaimer-text'>\n                            {localize(\n                                'Indicators on the chart tab are for indicative purposes only and may vary slightly from the ones on the {{platform_name_dbot}} workspace.',\n                                { platform_name_dbot: getPlatformSettings('dbot').name }\n                            )}\n                        </span>\n                    </div>\n                )}\n                {is_empty ? (\n                    <div className='flyout__search-empty'>\n                        <Text as='h2' weight='bold' line_height='xxs'>\n                            {localize('No results found')}\n                        </Text>\n                    </div>\n                ) : (\n                    flyout_content.map((node, index) => {\n                        const tag_name = node.tagName.toUpperCase();\n\n                        switch (tag_name) {\n                            case Blockly.Xml.NODE_BLOCK: {\n                                const block_type = node.getAttribute('type');\n\n                                return (\n                                    <FlyoutBlockGroup\n                                        key={`${node.getAttribute('type')}${Blockly.utils.genUid()}`}\n                                        id={`flyout__item-workspace--${index}`}\n                                        block_node={node}\n                                        should_hide_display_name={\n                                            block_type === 'variables_get'\n                                                ? index !== first_get_variable_block_index\n                                                : false\n                                        }\n                                        onInfoClick={\n                                            help_content_config(__webpack_public_path__)[block_type] &&\n                                            (is_search_flyout\n                                                ? () => setHelpContent(node)\n                                                : () => initFlyoutHelp(node, block_type))\n                                        }\n                                        is_active={active_helper === block_type}\n                                    />\n                                );\n                            }\n                            case Blockly.Xml.NODE_LABEL: {\n                                return (\n                                    <div\n                                        key={`${node.getAttribute('text')}${index}`}\n                                        className='flyout__item-label-bold'\n                                    >\n                                        {node.getAttribute('text')}\n                                    </div>\n                                );\n                            }\n                            case Blockly.Xml.NODE_INPUT: {\n                                return (\n                                    <Input\n                                        key={`${node.getAttribute('name')}${index}`}\n                                        className={`${node.getAttribute('className')}`}\n                                        type={`${node.getAttribute('type')}`}\n                                        name={`${node.getAttribute('name')}`}\n                                        placeholder={`${node.getAttribute('placeholder')}`}\n                                        autoComplete='off'\n                                    />\n                                );\n                            }\n                            case Blockly.Xml.NODE_BUTTON: {\n                                const callback_key = node.getAttribute('callbackKey');\n                                const callback_id = node.getAttribute('id');\n\n                                return (\n                                    <button\n                                        id={callback_id}\n                                        key={`${callback_key}${index}`}\n                                        className={classNames(\n                                            'dc-btn',\n                                            'dc-btn-effect',\n                                            'dc-btn--primary',\n                                            `${node.getAttribute('className')}`\n                                        )}\n                                        onClick={button => {\n                                            const workspace = Blockly.derivWorkspace;\n                                            const button_cb = workspace.getButtonCallback(callback_key);\n                                            const callback = button_cb || (() => {});\n\n                                            // Workaround for not having a flyout workspace.\n                                            // eslint-disable-next-line no-underscore-dangle\n                                            button.targetWorkspace_ = workspace;\n                                            button.getTargetWorkspace = () => {\n                                                // eslint-disable-next-line no-underscore-dangle\n                                                return button.targetWorkspace_;\n                                            };\n\n                                            callback(button);\n                                        }}\n                                    >\n                                        {node.getAttribute('text')}\n                                    </button>\n                                );\n                            }\n                            default:\n                                return null;\n                        }\n                    })\n                )}\n            </ThemedScrollbars>\n        </div>\n    );\n};\n\nconst Flyout = observer(() => {\n    const { flyout, flyout_help } = useDBotStore();\n    const { gtm } = useStore();\n    const { active_helper, initFlyoutHelp, setHelpContent } = flyout_help;\n    const {\n        flyout_content,\n        flyout_width,\n        is_help_content,\n        is_search_flyout,\n        is_visible,\n        onMount,\n        onUnmount,\n        search_term,\n        selected_category,\n        first_get_variable_block_index,\n    } = flyout;\n    const { pushDataLayer } = gtm;\n\n    React.useEffect(() => {\n        onMount();\n        return () => onUnmount();\n    }, [onMount, onUnmount]);\n\n    if (is_visible && is_search_flyout) {\n        pushDataLayer({ event: 'dbot_search_results', value: true });\n    }\n\n    const total_result = Object.keys(flyout_content).length;\n    const is_empty = total_result === 0;\n\n    return (\n        is_visible && (\n            <div\n                id='gtm-search-results'\n                className={classNames('flyout', {\n                    flyout__search: is_search_flyout,\n                    flyout__help: is_help_content,\n                    flyout__normal: !is_help_content && !is_search_flyout,\n                })}\n                style={{ width: `${flyout_width}px` }}\n            >\n                {is_search_flyout && !is_help_content && (\n                    <SearchResult search_term={search_term} total_result={total_result} />\n                )}\n                {is_help_content ? (\n                    <HelpBase />\n                ) : (\n                    <FlyoutContent\n                        is_empty={is_empty}\n                        flyout_content={flyout_content}\n                        active_helper={active_helper}\n                        setHelpContent={setHelpContent}\n                        initFlyoutHelp={initFlyoutHelp}\n                        is_search_flyout={is_search_flyout}\n                        selected_category={selected_category}\n                        first_get_variable_block_index={first_get_variable_block_index}\n                    />\n                )}\n            </div>\n        )\n    );\n});\n\nexport default Flyout;\n","import Flyout from './flyout.jsx';\nimport './flyout.scss';\n\nexport default Flyout;\n","import React from 'react';\nimport { Button } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst LocalFooter = observer(() => {\n    const { load_modal, dashboard } = useDBotStore();\n    const { is_open_button_loading, loadFileFromLocal, setLoadedLocalFile, toggleLoadModal } = load_modal;\n    const { setOpenSettings, setPreviewOnPopup } = dashboard;\n\n    const is_mobile = isMobile();\n    const Wrapper = is_mobile ? Button.Group : React.Fragment;\n\n    return (\n        <Wrapper>\n            {is_mobile && (\n                <Button text={localize('Cancel')} onClick={() => setLoadedLocalFile(null)} has_effect secondary large />\n            )}\n            <Button\n                text={localize('Open')}\n                onClick={() => {\n                    loadFileFromLocal();\n                    toggleLoadModal();\n                    setPreviewOnPopup(false);\n                    setOpenSettings('import');\n                }}\n                is_loading={is_open_button_loading}\n                has_effect\n                primary\n                large\n            />\n        </Wrapper>\n    );\n});\n\nexport default LocalFooter;\n","import React from 'react';\nimport { Icon } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst WorkspaceControl = observer(() => {\n    const { dashboard } = useDBotStore();\n    const { onZoomInOutClick } = dashboard;\n\n    return (\n        <div className='load-strategy__preview-workspace-controls'>\n            <Icon\n                icon={'IcAddRounded'}\n                className='load-strategy__preview-workspace-icon'\n                onClick={() => onZoomInOutClick(true)}\n            />\n            <Icon\n                icon={'IcMinusRounded'}\n                className='load-strategy__preview-workspace-icon'\n                onClick={() => onZoomInOutClick(false)}\n            />\n        </div>\n    );\n});\n\nexport default WorkspaceControl;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Button, Icon } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport LocalFooter from './local-footer';\nimport WorkspaceControl from './workspace-control';\n\nconst LocalComponent = observer(() => {\n    const { dashboard, load_modal } = useDBotStore();\n    const { active_tab, has_started_bot_builder_tour } = dashboard;\n    const { handleFileChange, loaded_local_file, setLoadedLocalFile } = load_modal;\n\n    const file_input_ref = React.useRef(null);\n    const [is_file_supported, setIsFileSupported] = React.useState(true);\n    const is_mobile = isMobile();\n\n    if (loaded_local_file && is_file_supported) {\n        return (\n            <div className='load-strategy__container load-strategy__container--has-footer'>\n                <div\n                    className={classNames('load-strategy__local-preview', {\n                        'load-strategy__local-preview--active': active_tab === 1 && has_started_bot_builder_tour,\n                    })}\n                >\n                    <div className='load-strategy__title'>\n                        <Localize i18n_default_text='Preview' />\n                    </div>\n                    <div className='load-strategy__preview-workspace'>\n                        <div id='load-strategy__blockly-container' style={{ height: '100%' }}>\n                            <div className='load-strategy__local-preview-close'>\n                                <Icon icon='IcCross' onClick={() => setLoadedLocalFile(null)} />\n                            </div>\n                            <WorkspaceControl />\n                        </div>\n                    </div>\n                </div>\n                {is_mobile && (\n                    <div className='load-strategy__local-footer'>\n                        <LocalFooter />\n                    </div>\n                )}\n            </div>\n        );\n    }\n\n    return (\n        <div className='load-strategy__container'>\n            <div className='load-strategy__local-dropzone'>\n                <input\n                    type='file'\n                    ref={file_input_ref}\n                    accept='.xml'\n                    style={{ display: 'none' }}\n                    onChange={e => setIsFileSupported(handleFileChange(e, false))}\n                />\n                <div\n                    className='load-strategy__local-dropzone-area'\n                    onDrop={e => {\n                        handleFileChange(e, false);\n                    }}\n                >\n                    {is_mobile ? (\n                        <Icon icon='IcLocal' className='load-strategy__local-icon' size={is_mobile ? 96 : 128} />\n                    ) : (\n                        <React.Fragment>\n                            <Icon icon='IcPc' className='load-strategy__local-icon' size={is_mobile ? 96 : 128} />\n                            <div className='load-strategy__local-title'>\n                                <Localize i18n_default_text='Drag your XML file here' />\n                            </div>\n                            <div className='load-strategy__local-description'>\n                                <Localize i18n_default_text='or, if you prefer...' />\n                            </div>\n                        </React.Fragment>\n                    )}\n                    <Button\n                        text={\n                            is_file_supported\n                                ? localize('Select an XML file from your device')\n                                : localize('Please upload an XML file')\n                        }\n                        onClick={() => file_input_ref.current.click()}\n                        has_effect\n                        primary\n                        large\n                    />\n                </div>\n            </div>\n        </div>\n    );\n});\n\nexport default LocalComponent;\n","import React from 'react';\nimport classnames from 'classnames';\nimport { timeSince } from '@deriv/bot-skeleton';\nimport { save_types } from '@deriv/bot-skeleton/src/constants/save-type';\nimport { Icon } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\ntype TRecentWorkspaceProps = {\n    workspace: { [key: string]: any };\n};\n\nconst RecentWorkspace = observer(({ workspace }: TRecentWorkspaceProps) => {\n    const { load_modal } = useDBotStore();\n    const { getRecentFileIcon, getSaveType, previewRecentStrategy, selected_strategy_id } = load_modal;\n    return (\n        <div\n            className={classnames('load-strategy__recent-item load-dialog', {\n                'load-strategy__recent-item--selected': selected_strategy_id === workspace.id,\n            })}\n            key={workspace.id}\n            onClick={selected_strategy_id === workspace.id ? undefined : () => previewRecentStrategy(workspace.id)}\n        >\n            <div className='load-strategy__recent-item-text load-dialog'>\n                <div className='load-strategy__recent-item-title'>{workspace.name}</div>\n                <div className='load-strategy__recent-item-time'>{timeSince(workspace.timestamp)}</div>\n            </div>\n            <div className='load-strategy__recent-item-location load-dialog'>\n                <Icon\n                    icon={getRecentFileIcon(workspace.save_type)}\n                    className={classnames({\n                        'load-strategy__recent-icon--active': workspace.save_type === save_types.GOOGLE_DRIVE,\n                    })}\n                />\n                <div className='load-strategy__recent-item-saved'>{getSaveType(workspace.save_type)}</div>\n            </div>\n        </div>\n    );\n});\n\nexport default RecentWorkspace;\n","import React from 'react';\nimport classnames from 'classnames';\nimport { Icon } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { Localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport RecentWorkspace from './recent-workspace';\nimport WorkspaceControl from './workspace-control';\n\nconst RecentComponent = observer(() => {\n    const { load_modal } = useDBotStore();\n    const { is_explanation_expand, recent_strategies, toggleExplanationExpand } = load_modal;\n    if (recent_strategies.length) {\n        return (\n            <div className='load-strategy__container load-strategy__container--has-footer'>\n                <div className='load-strategy__recent'>\n                    <div className='load-strategy__recent-files'>\n                        <div className='load-strategy__title'>\n                            <Localize i18n_default_text='Recent' />\n                        </div>\n                        <div className='load-strategy__recent-files-list'>\n                            {recent_strategies.map(workspace => (\n                                <RecentWorkspace key={workspace.id} workspace={workspace} />\n                            ))}\n                        </div>\n                    </div>\n                    <div className='load-strategy__recent-preview'>\n                        <div className='load-strategy__title load-strategy__recent-preview-title'>\n                            <Localize i18n_default_text='Preview' />\n                        </div>\n                        <div className='load-strategy__preview-workspace'>\n                            <div id='load-strategy__blockly-container' style={{ height: '100%' }}>\n                                <WorkspaceControl />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className='load-strategy__container'>\n            <div className='load-strategy__recent-empty'>\n                <Icon icon='IcEmptyFolder' className='load-strategy__recent-empty-icon' size={128} />\n                <div className='load-strategy__recent-empty-title'>\n                    <Localize i18n_default_text='You do not have any recent bots' />\n                </div>\n                <div className='load-strategy__recent-empty-description'>\n                    <Localize i18n_default_text='Create one or upload one from your local drive or Google Drive.' />\n                </div>\n                <div className='load-strategy__recent-empty-expand' onClick={toggleExplanationExpand}>\n                    <Localize i18n_default_text=\"Why can't I see my recent bots?\" />\n                </div>\n                <div\n                    className={classnames('load-strategy__recent-empty-explanation', {\n                        'load-strategy__recent-empty-explanation--show': is_explanation_expand,\n                    })}\n                >\n                    <div>\n                        <Localize i18n_default_text=\"If you've recently used bots but don't see them in this list, it may be because you:\" />\n                    </div>\n                    <ol className='load-strategy__recent-empty-explanation-list'>\n                        <li>\n                            <Localize i18n_default_text='1. Logged in from a different device' />\n                        </li>\n                        <li>\n                            <Localize i18n_default_text='2. Logged in from a different browser' />\n                        </li>\n                        <li>\n                            <Localize i18n_default_text='3. Cleared your browser cache' />\n                        </li>\n                    </ol>\n                </div>\n            </div>\n        </div>\n    );\n});\n\nexport default RecentComponent;\n","import React from 'react';\nimport { Button } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst RecentFooter = observer(() => {\n    const { load_modal, dashboard } = useDBotStore();\n    const { is_open_button_loading, loadFileFromRecent, toggleLoadModal } = load_modal;\n    const { setOpenSettings } = dashboard;\n\n    return (\n        <Button\n            text={localize('Open')}\n            onClick={() => {\n                loadFileFromRecent();\n                toggleLoadModal();\n                setOpenSettings('import');\n            }}\n            is_loading={is_open_button_loading}\n            has_effect\n            primary\n            large\n        />\n    );\n});\n\nexport default RecentFooter;\n","import React from 'react';\nimport { MobileFullPageModal, Modal, Tabs } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { tabs_title } from 'Constants/load-modal';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport GoogleDrive from '../dashboard/dashboard-component/load-bot-preview/google-drive';\nimport Local from './local';\nimport LocalFooter from './local-footer';\nimport Recent from './recent';\nimport RecentFooter from './recent-footer';\n\nconst LoadModal = observer(() => {\n    const { load_modal, dashboard } = useDBotStore();\n    const {\n        active_index,\n        is_load_modal_open,\n        loaded_local_file,\n        onEntered,\n        recent_strategies,\n        setActiveTabIndex,\n        toggleLoadModal,\n        tab_name,\n    } = load_modal;\n    const { setPreviewOnPopup } = dashboard;\n    const header_text = localize('Load strategy');\n\n    if (isMobile()) {\n        return (\n            <MobileFullPageModal\n                is_modal_open={is_load_modal_open}\n                className='load-strategy__wrapper'\n                header={localize('Load strategy')}\n                onClickClose={() => {\n                    setPreviewOnPopup(false);\n                    toggleLoadModal();\n                }}\n                height_offset='80px'\n                page_overlay\n            >\n                <Tabs active_index={active_index} onTabItemClick={setActiveTabIndex} top>\n                    <div label={localize('Local')}>\n                        <Local />\n                    </div>\n                    <div label='Google Drive'>\n                        <GoogleDrive />\n                    </div>\n                </Tabs>\n            </MobileFullPageModal>\n        );\n    }\n\n    const has_loaded_file = loaded_local_file && tab_name === tabs_title.TAB_LOCAL;\n    const has_recent_strategies = recent_strategies.length > 0 && tab_name === tabs_title.TAB_RECENT;\n\n    return (\n        <Modal\n            title={header_text}\n            className='load-strategy'\n            width='1000px'\n            height='80vh'\n            is_open={is_load_modal_open}\n            toggleModal={toggleLoadModal}\n            onEntered={onEntered}\n            elements_to_ignore={[document.querySelector('.injectionDiv')]}\n        >\n            <Modal.Body>\n                <Tabs active_index={active_index} onTabItemClick={setActiveTabIndex} top header_fit_content>\n                    <div label={localize('Recent')}>\n                        <Recent />\n                    </div>\n                    <div label={localize('Local')}>\n                        <Local />\n                    </div>\n                    <div label='Google Drive'>\n                        <GoogleDrive />\n                    </div>\n                </Tabs>\n            </Modal.Body>\n            {has_recent_strategies && (\n                <Modal.Footer has_separator>\n                    <RecentFooter />\n                </Modal.Footer>\n            )}\n            {has_loaded_file && (\n                <Modal.Footer has_separator>\n                    <LocalFooter />\n                </Modal.Footer>\n            )}\n        </Modal>\n    );\n});\n\nexport default LoadModal;\n","import LoadModal from './load-modal';\nimport './load-modal.scss';\n\nexport default LoadModal;\n","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport { MobileWrapper, Toast } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\n\n// TODO: Need to sanitize,\n// Same sort of component is being used inside DTrader,\n// In Future we might move the `NetworkStatusToastError` to the core packages for resuability.\n\n/**\n * Network status Toast components\n */\n\nconst NetworkStatusToastError = observer(() => {\n    const { common } = useStore();\n    const { network_status } = common;\n    const [is_open, setIsOpen] = React.useState(false);\n    const { message, status } = network_status;\n    const portal_id = 'popup_root';\n\n    if (!document.getElementById(portal_id) || !message) return null;\n\n    if (!is_open && status !== 'online') {\n        setIsOpen(true); // open if status === 'blinker' or 'offline'\n    } else if (is_open && status === 'online') {\n        setTimeout(() => {\n            setIsOpen(false);\n        }, 1500);\n    }\n\n    return ReactDOM.createPortal(\n        <MobileWrapper>\n            <Toast\n                className={classNames({\n                    'dc-toast--blinker': status === 'blinker',\n                })}\n                is_open={is_open}\n                timeout={0}\n                type='error'\n            >\n                {message}\n            </Toast>\n        </MobileWrapper>,\n        document.getElementById(portal_id)\n    );\n});\n\nexport default NetworkStatusToastError;\n","import NetworkToastPopup from './network-toast-popup';\n\nexport default NetworkToastPopup;\n","import React from 'react';\nimport { Button, ExpansionPanel, Icon } from '@deriv/components';\n\nconst getIcon = type => {\n    switch (type) {\n        case 'error':\n            return 'IcAlertDanger';\n        case 'warn':\n            return 'IcAlertWarning';\n        case 'info':\n            return 'IcAlertInfo';\n        default:\n            return 'IcAlertWarning';\n    }\n};\n\nexport const messageWithButton = ({ unique_id, type, message, btn_text, onClick }) => (\n    <>\n        <div key={`${unique_id}_message`} className='notify__item-container'>\n            <Icon key={`${unique_id}_icon`} icon={getIcon(type)} size='22' />\n            <div key={`${unique_id}_text`} className='notify__item-message'>\n                {message}\n            </div>\n        </div>\n        <Button\n            key={`${unique_id}_btn`}\n            className='notify__item-button'\n            text={btn_text}\n            onClick={onClick}\n            has_effect\n            secondary\n        />\n    </>\n);\n\nexport const messageWithImage = (message, image) => (\n    <>\n        <div className='notify__item-message'>{message}</div>\n        <img src={image} style={{ width: '100%' }} />\n    </>\n);\n\n// eslint-disable-next-line react/display-name\nexport const arrayAsMessage = parsedArray => measure => <ExpansionPanel message={parsedArray} onResize={measure} />;\n","import React from 'react';\nimport { Dialog } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst RoutePromptDialog = observer(() => {\n    const { route_prompt_dialog } = useDBotStore();\n    const { continueRoute, should_show, is_confirmed, last_location, onCancel, onConfirm } = route_prompt_dialog;\n\n    React.useEffect(continueRoute, [is_confirmed, last_location, continueRoute]);\n\n    return (\n        <Dialog\n            title={localize('Leaving already?')}\n            confirm_button_text={localize(\"Yes, I'll come back later\")}\n            cancel_button_text={localize(\"No, I'll stay\")}\n            onConfirm={onConfirm}\n            onCancel={onCancel}\n            is_visible={should_show}\n            has_close_icon={false}\n        >\n            <Localize i18n_default_text='If you leave, your current contract will be completed, but your bot will stop running immediately.' />\n        </Dialog>\n    );\n});\n\nexport default RoutePromptDialog;\n","import RoutePromptDialog from './route-prompt-dialog';\n\nexport default RoutePromptDialog;\n","import React from 'react';\nimport { Dialog, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\n\nexport type TStopBotModalContent = {\n    is_running: boolean;\n    is_dialog_open: boolean;\n    is_contract_dialog_open: boolean;\n    is_stop_bot_dialog_open: boolean;\n    is_multiplier: boolean;\n    closeMultiplierContract: () => void;\n    onOkButtonClick: () => void;\n    toggleStopBotDialog: () => void;\n};\n\nconst StopBotModalContent = ({\n    is_running,\n    is_multiplier,\n    is_contract_dialog_open,\n    is_stop_bot_dialog_open,\n    closeMultiplierContract,\n    onOkButtonClick,\n    toggleStopBotDialog,\n}: TStopBotModalContent) => {\n    const confirm_button_text = is_running && is_multiplier ? localize('Keep my contract') : localize('Stop my bot');\n    const cancel_button_text = is_running && is_multiplier ? localize('Close my contract') : localize('Back');\n    const title_text =\n        is_running && is_multiplier ? localize('Keep your current contract?') : localize('Stop your current bot?');\n    const toggle_dialog_or_stop = is_running && is_multiplier ? closeMultiplierContract : toggleStopBotDialog;\n\n    return (\n        <React.Fragment>\n            <Dialog\n                portal_element_id='modal_root'\n                title={title_text}\n                is_visible={is_running ? is_stop_bot_dialog_open : is_contract_dialog_open}\n                confirm_button_text={confirm_button_text}\n                onConfirm={onOkButtonClick}\n                cancel_button_text={cancel_button_text}\n                onCancel={toggle_dialog_or_stop}\n                is_mobile_full_width={false}\n                className={'toolbar__dialog'}\n                has_close_icon\n            >\n                {is_running && is_multiplier ? (\n                    <>\n                        <Text as='p' line_height='s' size='xs' styles={{ paddingBottom: '2rem', paddingTop: '1rem' }}>\n                            {localize(\n                                'Close your contract now or keep it running. If you decide to keep it running, you can check and close it later on the '\n                            )}\n                            <Text as='span' line_height='s' size='xs'>\n                                <strong>{localize('Reports')}</strong>\n                            </Text>\n                            {localize(' page.')}\n                        </Text>\n                        <Text as='p' line_height='s' size='xs'>\n                            {localize('The Quick Strategy you just created will be loaded to the workspace.')}\n                        </Text>\n                    </>\n                ) : (\n                    <>\n                        <Text as='p' line_height='s' size='xs' styles={{ paddingBottom: '2rem', paddingTop: '1rem' }}>\n                            {localize(\n                                'Stopping the current bot will load the Quick Strategy you just created to the workspace.'\n                            )}\n                        </Text>\n                        <Text as='p' line_height='s' size='xs'>\n                            {localize(' Any open contracts can be viewed on the ')}\n                            <Text as='span' line_height='s' size='xs'>\n                                <strong>{localize('Reports')}</strong>\n                            </Text>\n                            {localize(' page.')}\n                        </Text>\n                    </>\n                )}\n            </Dialog>\n        </React.Fragment>\n    );\n};\n\nexport default StopBotModalContent;\n","import React from 'react';\nimport { observer } from '@deriv/stores';\nimport { useDBotStore } from '../../../../stores/useDBotStore';\nimport StopBotModalContent from '../stop-bot-modal-content';\n\nconst StopBotModal = observer(() => {\n    const { run_panel, quick_strategy, summary_card } = useDBotStore();\n\n    const { is_contract_dialog_open, is_stop_bot_dialog_open, toggleStopBotDialog } = quick_strategy;\n    const { is_running, closeMultiplierContract, stopMyBot, is_dialog_open } = run_panel;\n    const { is_multiplier } = summary_card;\n\n    return (\n        <StopBotModalContent\n            is_running={is_running}\n            onOkButtonClick={stopMyBot}\n            is_contract_dialog_open={is_contract_dialog_open}\n            is_stop_bot_dialog_open={is_stop_bot_dialog_open}\n            is_multiplier={is_multiplier}\n            closeMultiplierContract={closeMultiplierContract}\n            is_dialog_open={is_dialog_open}\n            toggleStopBotDialog={toggleStopBotDialog}\n        />\n    );\n});\n\nexport default StopBotModal;\n","import React from 'react';\nimport { Button, Popover } from '@deriv/components';\n\ntype TToolbarButton = {\n    popover_message?: string;\n    button_id: string;\n    button_classname: string;\n    buttonOnClick: () => void;\n    icon?: React.ReactElement;\n    button_text: string;\n};\n\nconst ToolbarButton = ({\n    popover_message,\n    button_id,\n    button_classname,\n    buttonOnClick,\n    icon,\n    button_text,\n}: TToolbarButton) => (\n    <Popover alignment='bottom' message={popover_message} should_disable_pointer_events>\n        <Button id={button_id} className={button_classname} has_effect onClick={buttonOnClick} icon={icon} green>\n            {button_text}\n        </Button>\n    </Popover>\n);\n\nexport default ToolbarButton;\n","import React from 'react';\nimport { Icon, Popover } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { popover_zindex } from 'Constants/z-indexes';\n\ntype TToolbarIcon = {\n    popover_message: string;\n    icon: string;\n    icon_id: string;\n    action: () => void;\n    icon_color?: string;\n};\n\nconst ToolbarIcon = ({ popover_message, icon, icon_id, icon_color, action }: TToolbarIcon) => {\n    const renderIcon = () => (\n        <Icon\n            icon={icon}\n            id={icon_id}\n            className='toolbar__icon'\n            onClick={action}\n            {...(icon_color && { color: icon_color })}\n        />\n    );\n\n    if (isMobile()) {\n        return renderIcon();\n    }\n\n    return (\n        <Popover\n            alignment='bottom'\n            message={popover_message}\n            zIndex={popover_zindex.TOOLBAR}\n            should_disable_pointer_events\n        >\n            {renderIcon()}\n        </Popover>\n    );\n};\n\nexport default ToolbarIcon;\n","import React from 'react';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport ToolbarIcon from './toolbar-icon';\n\ntype TWorkspaceGroup = {\n    has_redo_stack: boolean;\n    has_undo_stack: boolean;\n    onResetClick: () => void;\n    onSortClick: () => void;\n    onUndoClick: (param?: boolean) => void;\n    onZoomInOutClick: (param?: boolean) => void;\n    toggleLoadModal: () => void;\n    toggleSaveModal: () => void;\n};\n\nconst WorkspaceGroup = observer(\n    ({\n        has_redo_stack,\n        has_undo_stack,\n        onResetClick,\n        onSortClick,\n        onUndoClick,\n        onZoomInOutClick,\n        toggleLoadModal,\n        toggleSaveModal,\n    }: TWorkspaceGroup) => {\n        const { dashboard } = useDBotStore();\n        const { setPreviewOnPopup } = dashboard;\n\n        return (\n            <div className='toolbar__group toolbar__group-btn'>\n                <ToolbarIcon\n                    popover_message={localize('Reset')}\n                    icon='IcReset'\n                    icon_id='db-toolbar__reset-button'\n                    action={onResetClick}\n                />\n                <ToolbarIcon\n                    popover_message={localize('Import')}\n                    icon='IcFolderOpen'\n                    icon_id='db-toolbar__import-button'\n                    action={() => {\n                        setPreviewOnPopup(true);\n                        toggleLoadModal();\n                    }}\n                />\n                <ToolbarIcon\n                    popover_message={localize('Save')}\n                    icon='IcSave'\n                    icon_id='db-toolbar__save-button'\n                    action={toggleSaveModal}\n                />\n                <ToolbarIcon\n                    popover_message={localize('Sort blocks')}\n                    icon='IcSort'\n                    icon_id='db-toolbar__sort-button'\n                    action={onSortClick}\n                />\n                <div className='vertical-divider' />\n                <ToolbarIcon\n                    popover_message={localize('Undo')}\n                    icon='IcUndo'\n                    icon_id='db-toolbar__undo-button'\n                    icon_color={has_undo_stack ? undefined : 'disabled'}\n                    action={() => onUndoClick(/* redo */ false)}\n                />\n                <ToolbarIcon\n                    popover_message={localize('Redo')}\n                    icon='IcRedo'\n                    icon_id='db-toolbar__redo-button'\n                    icon_color={has_redo_stack ? undefined : 'disabled'}\n                    action={() => onUndoClick(/* redo */ true)}\n                />\n                <div className='vertical-divider' />\n                <ToolbarIcon\n                    popover_message={localize('Zoom in')}\n                    icon='IcZoomIn'\n                    icon_id='db-toolbar__zoom-in-button'\n                    action={() => onZoomInOutClick(/* in */ true)}\n                />\n                <ToolbarIcon\n                    popover_message={localize('Zoom out')}\n                    icon='IcZoomOut'\n                    icon_id='db-toolbar__zoom-out'\n                    action={() => onZoomInOutClick(/* in */ false)}\n                />\n            </div>\n        );\n    }\n);\n\nexport default WorkspaceGroup;\n","import React from 'react';\nimport { Dialog } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport ToolbarButton from './toolbar-button';\nimport WorkspaceGroup from './workspace-group';\n\nconst Toolbar = observer(() => {\n    const { run_panel, save_modal, load_modal, toolbar, quick_strategy } = useDBotStore();\n    const {\n        has_redo_stack,\n        has_undo_stack,\n        is_dialog_open,\n        closeResetDialog,\n        onResetOkButtonClick: onOkButtonClick,\n        onResetClick,\n        onSortClick,\n        onUndoClick,\n        onZoomInOutClick,\n    } = toolbar;\n    const { toggleSaveModal } = save_modal;\n    const { toggleLoadModal } = load_modal;\n    const { loadDataStrategy } = quick_strategy;\n    const { is_running } = run_panel;\n\n    const confirm_button_text = is_running ? localize('Yes') : localize('OK');\n    const cancel_button_text = is_running ? localize('No') : localize('Cancel');\n\n    return (\n        <React.Fragment>\n            <div className='toolbar dashboard__toolbar' data-testid='dashboard__toolbar'>\n                <div className='toolbar__section'>\n                    {isMobile() && (\n                        <ToolbarButton\n                            popover_message={localize('Click here to start building your Deriv Bot.')}\n                            button_id='db-toolbar__get-started-button'\n                            button_classname='toolbar__btn toolbar__btn--icon toolbar__btn--start'\n                            buttonOnClick={loadDataStrategy}\n                            button_text={localize('Quick strategy')}\n                        />\n                    )}\n                    <WorkspaceGroup\n                        has_redo_stack={has_redo_stack}\n                        has_undo_stack={has_undo_stack}\n                        onResetClick={onResetClick}\n                        onSortClick={onSortClick}\n                        onUndoClick={onUndoClick}\n                        onZoomInOutClick={onZoomInOutClick}\n                        toggleLoadModal={toggleLoadModal}\n                        toggleSaveModal={toggleSaveModal}\n                    />\n                </div>\n            </div>\n            <Dialog\n                portal_element_id='modal_root'\n                title={localize('Are you sure?')}\n                is_visible={is_dialog_open}\n                confirm_button_text={confirm_button_text}\n                onConfirm={onOkButtonClick}\n                cancel_button_text={cancel_button_text}\n                onCancel={closeResetDialog}\n                is_mobile_full_width={false}\n                className={'toolbar__dialog'}\n                has_close_icon\n            >\n                {is_running ? (\n                    <Localize\n                        i18n_default_text='Deriv Bot will not proceed with any new trades. Any ongoing trades will be completed by our system. Any unsaved changes will be lost.<0>Note: Please check your statement to view completed transactions.</0>'\n                        components={[\n                            <div\n                                key={0}\n                                className='toolbar__dialog-text--second'\n                                data-testid='toolbar__dialog-text--second'\n                            />,\n                        ]}\n                    />\n                ) : (\n                    localize('Any unsaved changes will be lost.')\n                )}\n            </Dialog>\n        </React.Fragment>\n    );\n});\n\nexport default Toolbar;\n","import Toolbar from './toolbar';\nimport './toolbar.scss';\n\nexport default Toolbar;\n","import React from 'react';\nimport { Icon } from '@deriv/components';\n\ntype TSearchIcon = {\n    search: string;\n    is_search_loading: boolean;\n    onClick: () => void;\n};\n\nconst SearchIcon = ({ search, is_search_loading, onClick }: TSearchIcon) => {\n    if (!search) return <Icon icon='IcSearch' />;\n    if (is_search_loading) return <div className='loader' />;\n    return <Icon icon='IcCloseCircle' onClick={onClick} color='secondary' />;\n};\n\nexport default SearchIcon;\n","import React from 'react';\nimport { Field as FormField, FieldProps, Form, Formik } from 'formik';\nimport { Input } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport SearchIcon from './search-icon';\n\ntype TSearchBox = {\n    is_search_loading: boolean;\n    onSearch: () => void;\n    onSearchBlur: () => void;\n    onSearchClear: (param: (field: string, value: number | string, shouldValidate?: boolean) => void) => void;\n    onSearchKeyUp: (param: () => void) => void;\n};\n\ntype TFormValues = { [key: string]: string };\n\nconst SearchBox = ({ is_search_loading, onSearch, onSearchBlur, onSearchClear, onSearchKeyUp }: TSearchBox) => (\n    <div className='db-toolbox__search'>\n        <Formik initialValues={{ search: '' }} onSubmit={onSearch}>\n            {({ submitForm, values: { search }, setFieldValue }) => (\n                <Form>\n                    <FormField name='search'>\n                        {({ field }: FieldProps<string, TFormValues>) => (\n                            <Input\n                                {...field}\n                                className='db-toolbox__search-field'\n                                type='text'\n                                name='search'\n                                placeholder={localize('Search')}\n                                onKeyUp={() => onSearchKeyUp(submitForm)}\n                                onFocus={submitForm}\n                                onBlur={onSearchBlur}\n                                leading_icon={\n                                    <SearchIcon\n                                        search={search}\n                                        is_search_loading={is_search_loading}\n                                        onClick={() => onSearchClear(setFieldValue)}\n                                    />\n                                }\n                            />\n                        )}\n                    </FormField>\n                </Form>\n            )}\n        </Formik>\n    </div>\n);\n\nexport default SearchBox;\n","import SearchBox from './search-box';\n\nexport default SearchBox;\n","import React from 'react';\nimport ReactDomServer from 'react-dom/server';\nimport { localize } from '@deriv/translations';\n\nconst Arg = ({ ...props }) => {\n    return React.createElement('arg', props);\n};\n\nconst Block = ({ ...props }) => {\n    return React.createElement('block', props);\n};\n\nconst Category = ({ ...props }) => {\n    return React.createElement('category', props);\n};\n\nconst Example = ({ ...props }) => {\n    return React.createElement('example', props);\n};\n\nconst Examples = ({ ...props }) => {\n    return React.createElement('examples', props);\n};\n\nconst Field = ({ ...props }) => {\n    return React.createElement('field', props);\n};\n\nconst Mutation = ({ ...props }) => {\n    return React.createElement('mutation', props);\n};\n\nconst Next = ({ ...props }) => {\n    return React.createElement('next', props);\n};\n\nconst Shadow = ({ ...props }) => {\n    return React.createElement('shadow', props);\n};\n\nconst Statement = ({ ...props }) => {\n    return React.createElement('statement', props);\n};\n\nconst Value = ({ ...props }) => {\n    return React.createElement('value', props);\n};\n\nconst Xml = ({ ...props }) => {\n    return React.createElement('xml', props);\n};\n\nexport const ToolboxItems = ReactDomServer.renderToStaticMarkup(\n    <Xml xmlns='http://www.w3.org/1999/xhtml' id='toolbox'>\n        <Category id='trade_parameters' name={localize('Trade parameters')}>\n            <Block type='trade_definition'>\n                <Statement name='TRADE_OPTIONS'>\n                    <Block type='trade_definition_market' deletable='false' movable='false'>\n                        <Field name='MARKET_LIST' />\n                        <Field name='SUBMARKET_LIST' />\n                        <Field name='SYMBOL_LIST' />\n                        <Next>\n                            <Block type='trade_definition_tradetype' deletable='false' movable='false'>\n                                <Field name='TRADETYPECAT_LIST' />\n                                <Field name='TRADETYPE_LIST' />\n                                <Next>\n                                    <Block type='trade_definition_contracttype' deletable='false' movable='false'>\n                                        <Field name='TYPE_LIST' />\n                                        <Next>\n                                            <Block\n                                                type='trade_definition_candleinterval'\n                                                deletable='false'\n                                                movable='false'\n                                            >\n                                                <Field name='CANDLEINTERVAL_LIST'>60</Field>\n                                                <Next>\n                                                    <Block\n                                                        type='trade_definition_restartbuysell'\n                                                        deletable='false'\n                                                        movable='false'\n                                                    >\n                                                        <Field name='TIME_MACHINE_ENABLED'>FALSE</Field>\n                                                        <Next>\n                                                            <Block\n                                                                type='trade_definition_restartonerror'\n                                                                deletable='false'\n                                                                movable='false'\n                                                            >\n                                                                <Field name='RESTARTONERROR'>TRUE</Field>\n                                                            </Block>\n                                                        </Next>\n                                                    </Block>\n                                                </Next>\n                                            </Block>\n                                        </Next>\n                                    </Block>\n                                </Next>\n                            </Block>\n                        </Next>\n                    </Block>\n                </Statement>\n            </Block>\n            <Block type='trade_definition_tradeoptions'>\n                <Mutation has_first_barrier='false' has_second_barrier='false' has_prediction='false' />\n                <Field name='DURATIONTYPE_LIST' />\n                <Field name='CURRENCY_LIST'>USD</Field>\n                <Value name='DURATION'>\n                    <Shadow type='math_number'>\n                        <Field name='NUM'>1</Field>\n                    </Shadow>\n                </Value>\n                <Value name='AMOUNT'>\n                    <Shadow type='math_number'>\n                        <Field name='NUM'>1</Field>\n                    </Shadow>\n                </Value>\n                <Field name='AMOUNT_LIMITS' />\n            </Block>\n            <Block type='trade_definition_multiplier'>\n                <Field name='MULTIPLIERTYPE_LIST' />\n                <Field name='CURRENCY_LIST'>USD</Field>\n                <Value name='AMOUNT'>\n                    <Shadow type='math_number'>\n                        <Field name='NUM'>1</Field>\n                    </Shadow>\n                </Value>\n                <Field name='AMOUNT_LIMITS' />\n            </Block>\n            <Block type='multiplier_take_profit'>\n                <Value name='AMOUNT'>\n                    <Shadow type='math_number'>\n                        <Field name='NUM'>0</Field>\n                    </Shadow>\n                </Value>\n            </Block>\n            <Block type='multiplier_stop_loss'>\n                <Value name='AMOUNT'>\n                    <Shadow type='math_number'>\n                        <Field name='NUM'>0</Field>\n                    </Shadow>\n                </Value>\n            </Block>\n        </Category>\n        <Category id='purchase_conditions' name={localize('Purchase conditions')}>\n            <Block type='before_purchase' />\n            <Block type='purchase' />\n        </Category>\n        <Category id='sell_conditions' name={localize('Sell conditions (optional)')}>\n            <Block type='during_purchase' />\n            <Block type='sell_at_market' />\n        </Category>\n        <Category id='trade_results' name={localize('Restart trading conditions')}>\n            <Block type='after_purchase' />\n            <Block type='trade_again' />\n        </Category>\n\n        <Category id='analysis' name={localize('Analysis')}>\n            <Category id='indicators' name={localize('Indicators')}>\n                <Block type='sma_statement'>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST' />\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='smaa_statement'>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST' />\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='bb_statement'>\n                    <Field name='BBRESULT_LIST'>0</Field>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST' />\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                    <Next>\n                                        <Block type='std_dev_multiplier_up' deletable='false' movable='false'>\n                                            <Value name='UPMULTIPLIER'>\n                                                <Shadow type='math_number'>\n                                                    <Field name='NUM'>5</Field>\n                                                </Shadow>\n                                            </Value>\n                                            <Next>\n                                                <Block type='std_dev_multiplier_down'>\n                                                    <Value name='DOWNMULTIPLIER'>\n                                                        <Shadow type='math_number'>\n                                                            <Field name='NUM'>5</Field>\n                                                        </Shadow>\n                                                    </Value>\n                                                </Block>\n                                            </Next>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='bba_statement'>\n                    <Field name='BBRESULT_LIST'>0</Field>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST' />\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                    <Next>\n                                        <Block type='std_dev_multiplier_up' deletable='false' movable='false'>\n                                            <Value name='UPMULTIPLIER'>\n                                                <Shadow type='math_number'>\n                                                    <Field name='NUM'>5</Field>\n                                                </Shadow>\n                                            </Value>\n                                            <Next>\n                                                <Block type='std_dev_multiplier_down'>\n                                                    <Value name='DOWNMULTIPLIER'>\n                                                        <Shadow type='math_number'>\n                                                            <Field name='NUM'>5</Field>\n                                                        </Shadow>\n                                                    </Value>\n                                                </Block>\n                                            </Next>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='ema_statement'>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST' />\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='emaa_statement'>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST' />\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='rsi_statement'>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='rsia_statement'>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST' />\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='macda_statement'>\n                    <Field name='MACDFIELDS_LIST'>1</Field>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST' />\n                            <Next>\n                                <Block type='fast_ema_period' deletable='false' movable='false'>\n                                    <Value name='FAST_EMA_PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>12</Field>\n                                        </Shadow>\n                                    </Value>\n                                    <Next>\n                                        <Block type='slow_ema_period' deletable='false' movable='false'>\n                                            <Value name='SLOW_EMA_PERIOD'>\n                                                <Shadow type='math_number'>\n                                                    <Field name='NUM'>26</Field>\n                                                </Shadow>\n                                            </Value>\n                                            <Next>\n                                                <Block type='signal_ema_period' deletable='false' movable='false'>\n                                                    <Value name='SIGNAL_EMA_PERIOD'>\n                                                        <Shadow type='math_number'>\n                                                            <Field name='NUM'>9</Field>\n                                                        </Shadow>\n                                                    </Value>\n                                                </Block>\n                                            </Next>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Category>\n\n            <Category name={localize('Tick and candle analysis')} id='tick_analysis'>\n                <Block type='tick_analysis' />\n                <Block type='tick' />\n                <Block type='last_digit' />\n                <Block type='ticks' />\n                <Block type='lastDigitList' />\n                <Block type='check_direction' />\n                <Block type='is_candle_black' />\n                <Block type='read_ohlc'>\n                    <Field name='OHLCFIELD_LIST'>open</Field>\n                    <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                    <Value name='CANDLEINDEX'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='read_ohlc_obj' />\n                <Block type='ohlc_values' />\n                <Block type='ohlc_values_in_list' />\n                <Block type='get_ohlc'>\n                    <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                    <Value name='CANDLEINDEX'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='ohlc' />\n            </Category>\n\n            <Category name={localize('Contract')} id='contract_details'>\n                <Block type='contract_check_result' />\n                <Block type='read_details' />\n                <Block type='sell_price' />\n                <Block type='check_sell' />\n                <Block type='payout' />\n                <Block type='ask_price' />\n            </Category>\n\n            <Category name={localize('Stats')} id='stats'>\n                <Block type='balance' />\n                <Block type='total_profit' />\n                <Block type='total_runs' />\n            </Category>\n        </Category>\n\n        <Category id='utility' name={localize('Utility')}>\n            <Category name={localize('Custom functions')} id='custom_functions' dynamic='PROCEDURE' />\n\n            <Category name={localize('Variables')} id='variables' dynamic='VARIABLE' />\n\n            <Category name={localize('Notifications')} id='notifications'>\n                <Block type='text_print'>\n                    <Value name='TEXT'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='text_prompt_ext'>\n                    <Field name='TYPE'>TEXT</Field>\n                    <Value name='TEXT'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='notify'>\n                    <Field name='NOTIFICATION_TYPE'>success</Field>\n                    <Value name='MESSAGE'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='notify_telegram'>\n                    <Value name='TELEGRAM_ACCESS_TOKEN'>\n                        <Shadow type='text'>\n                            <Field name='TEXT' />\n                        </Shadow>\n                    </Value>\n                    <Value name='TELEGRAM_CHAT_ID'>\n                        <Shadow type='text'>\n                            <Field name='TEXT' />\n                        </Shadow>\n                    </Value>\n                    <Value name='TELEGRAM_MESSAGE'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n            </Category>\n\n            <Category name={localize('Time')} id='time'>\n                <Block type='epoch' />\n                <Block type='timeout' />\n                <Block type='totimestamp'>\n                    <Value name='DATETIME'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>yyyy-mm-dd hh:mm:ss</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='todatetime'>\n                    <Value name='TIMESTAMP'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>0</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n            </Category>\n\n            <Category name={localize('Math')} id='math'>\n                <Block type='math_number' />\n                <Block type='math_arithmetic'>\n                    <Field name='OP'>ADD</Field>\n                    <Value name='A'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                    <Value name='B'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_single'>\n                    <Field name='OP'>ROOT</Field>\n                    <Value name='NUM'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>9</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_trig'>\n                    <Field name='OP'>SIN</Field>\n                    <Value name='NUM'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>45</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_constant' />\n                <Block type='math_number_property'>\n                    <Mutation divisor_input='false' />\n                    <Field name='PROPERTY'>EVEN</Field>\n                    <Value name='NUMBER_TO_CHECK'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>0</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_change'>\n                    <Field name='VAR' variabletype=''>\n                        item\n                    </Field>\n                    <Value name='DELTA'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_on_list' />\n                <Block type='math_round'>\n                    <Field name='OP'>ROUND</Field>\n                    <Value name='NUM'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>3.1</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_modulo'>\n                    <Value name='DIVIDEND'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>64</Field>\n                        </Shadow>\n                    </Value>\n                    <Value name='DIVISOR'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>10</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_constrain'>\n                    <Value name='Value'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>50</Field>\n                        </Shadow>\n                    </Value>\n                    <Value name='LOW'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                    <Value name='HIGH'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>100</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_random_int'>\n                    <Value name='FROM'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                    <Value name='TO'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>100</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_random_float' />\n            </Category>\n\n            <Category name={localize('Text')} id='text'>\n                <Block type='text'>\n                    <Field name='TEXT'>abc</Field>\n                </Block>\n                <Block type='text_join'>\n                    <Field name='VARIABLE' variabletype=''>\n                        text\n                    </Field>\n                    <Statement name='STACK'>\n                        <Block type='text_statement' movable='false'>\n                            <Value name='TEXT'>\n                                <Shadow type='text'>\n                                    <Field name='TEXT'>abc</Field>\n                                </Shadow>\n                            </Value>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='text_append'>\n                    <Field name='VAR' variabletype=''>\n                        text\n                    </Field>\n                    <Value name='TEXT'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='text_length'>\n                    <Value name='Value'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='text_isEmpty'>\n                    <Value name='Value'>\n                        <Shadow type='text'>\n                            <Field name='TEXT' />\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='text_indexOf'>\n                    <Field name='END'>FIRST</Field>\n                    <Value name='Value'>\n                        <Block type='variables_get'>\n                            <Field name='VAR' variabletype=''>\n                                text\n                            </Field>\n                        </Block>\n                    </Value>\n                    <Value name='FIND'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='text_charAt'>\n                    <Mutation at='true' />\n                    <Field name='WHERE'>FROM_START</Field>\n                    <Value name='Value'>\n                        <Block type='variables_get'>\n                            <Field name='VAR' variabletype=''>\n                                item\n                            </Field>\n                        </Block>\n                    </Value>\n                    <Value name='AT'>\n                        <Shadow type='math_number_positive'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='text_getSubstring'>\n                    <Mutation at1='true' at2='true' />\n                    <Field name='WHERE1'>FROM_START</Field>\n                    <Field name='WHERE2'>FROM_START</Field>\n                    <Value name='STRING'>\n                        <Block type='variables_get'>\n                            <Field name='VAR' variabletype=''>\n                                text\n                            </Field>\n                        </Block>\n                    </Value>\n                    <Value name='AT1'>\n                        <Shadow type='math_number_positive'>\n                            <Field name='NUM'>0</Field>\n                        </Shadow>\n                    </Value>\n                    <Value name='AT2'>\n                        <Shadow type='math_number_positive'>\n                            <Field name='NUM'>2</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='text_changeCase'>\n                    <Field name='CASE'>UPPERCASE</Field>\n                    <Value name='TEXT'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='text_trim'>\n                    <Field name='MODE'>BOTH</Field>\n                    <Value name='TEXT'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n            </Category>\n\n            <Category name={localize('Logic')} id='logic'>\n                <Block type='controls_if' />\n                <Block type='logic_compare' />\n                <Block type='logic_operation' />\n                <Block type='logic_negate' />\n                <Block type='logic_boolean' />\n                <Block type='logic_null' />\n                <Block type='logic_ternary' />\n            </Category>\n\n            <Category name={localize('Lists')} id='lists'>\n                <Block type='lists_create_with'>\n                    <Field name='VARIABLE' variabletype=''>\n                        list\n                    </Field>\n                    <Statement name='STACK'>\n                        <Block type='lists_statement' movable='false'>\n                            <Next>\n                                <Block type='lists_statement' movable='false' />\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='lists_repeat'>\n                    <Value name='NUM'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>5</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='lists_length' />\n                <Block type='lists_isEmpty' />\n                <Block type='lists_indexOf' />\n                <Block type='lists_getIndex' />\n                <Block type='lists_setIndex' />\n                <Block type='lists_getSublist' />\n                <Block type='lists_split'>\n                    <Mutation mode='SPLIT' />\n                    <Field name='MODE'>SPLIT</Field>\n                    <Value name='DELIM'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>,</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='lists_sort' />\n            </Category>\n\n            <Category name={localize('Loops')} id='loops'>\n                <Block type='controls_repeat' />\n                <Block type='controls_repeat_ext' />\n                <Block type='controls_whileUntil' />\n                <Block type='controls_for' />\n                <Block type='controls_forEach' />\n                <Block type='controls_flow_statements' />\n            </Category>\n\n            <Category name={localize('Miscellaneous')} id='misc'>\n                <Block type='loader' />\n                <Block type='block_holder' />\n                <Block type='console'>\n                    <Value name='MESSAGE'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n            </Category>\n        </Category>\n\n        <Examples id='examples'>\n            <Example id='sell_available'>\n                <Block type='during_purchase'>\n                    <Statement name='DURING_PURCHASE_STACK'>\n                        <Block type='controls_if'>\n                            <Value name='IF0'>\n                                <Block type='check_sell' />\n                            </Value>\n                            <Statement name='DO0'>\n                                <Block type='sell_at_market' />\n                            </Statement>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='trade_again'>\n                <Block type='after_purchase'>\n                    <Statement name='AFTERPURCHASE_STACK'>\n                        <Block type='controls_if'>\n                            <Value name='IF0'>\n                                <Block type='logic_compare'>\n                                    <Field name='OP'>EQ</Field>\n                                    <Value name='A'>\n                                        <Block type='total_profit' />\n                                    </Value>\n                                    <Value name='B'>\n                                        <Block type='variables_get'>\n                                            <Field name='VAR' variabletype=''>\n                                                target_profit\n                                            </Field>\n                                        </Block>\n                                    </Value>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='sma_block_example'>\n                <Block type='sma_statement'>\n                    <Field name='VARIABLE' variabletype=''>\n                        sma\n                    </Field>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST'>\n                                <Block type='ohlc_values'>\n                                    <Field name='OHLCFIELD_LIST'>open</Field>\n                                    <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                                </Block>\n                            </Value>\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='sma_array'>\n                <Block type='smaa_statement'>\n                    <Field name='VARIABLE' variabletype=''>\n                        smaa\n                    </Field>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='sma_block_example_1'>\n                <Block type='sma_statement'>\n                    <Field name='VARIABLE' variabletype=''>\n                        sma\n                    </Field>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST'>\n                                <Block type='ticks' />\n                            </Value>\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='in_candle_list_read'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        op\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='read_ohlc'>\n                            <Field name='OHLCFIELD_LIST'>open</Field>\n                            <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                            <Value name='CANDLEINDEX'>\n                                <Shadow type='math_number'>\n                                    <Field name='NUM'>1</Field>\n                                </Shadow>\n                            </Value>\n                        </Block>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='read_candle_value'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        op\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='read_ohlc_obj'>\n                            <Field name='OHLCFIELD_LIST'>open</Field>\n                            <Value name='OHLCOBJ'>\n                                <Block type='read_ohlc'>\n                                    <Field name='OHLCFIELD_LIST'>open</Field>\n                                    <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                                    <Value name='CANDLEINDEX'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>1</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='candle_list'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        candle_list\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='ohlc_values'>\n                            <Field name='OHLCFIELD_LIST'>open</Field>\n                            <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                        </Block>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='candle_list_1'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        cl\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='ohlc_values_in_list'>\n                            <Field name='OHLCFIELD_LIST'>open</Field>\n                            <Value name='OHLCLIST'>\n                                <Block type='ohlc'>\n                                    <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='get_candle'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        candle_open_price\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='read_ohlc_obj'>\n                            <Field name='OHLCFIELD_LIST'>epoch</Field>\n                            <Value name='OHLCOBJ'>\n                                <Block type='get_ohlc'>\n                                    <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                                    <Value name='CANDLEINDEX'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>2</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='check_result'>\n                <Block type='after_purchase'>\n                    <Statement name='AFTERPURCHASE_STACK'>\n                        <Block type='controls_if'>\n                            <Value name='IF0'>\n                                <Block type='contract_check_result'>\n                                    <Field name='CHECK_RESULT'>win</Field>\n                                </Block>\n                            </Value>\n                            <Statement name='DO0'>\n                                <Block type='trade_again' />\n                            </Statement>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='sell_pl'>\n                <Block type='during_purchase'>\n                    <Statement name='DURING_PURCHASE_STACK'>\n                        <Block type='controls_if'>\n                            <Value name='IF0'>\n                                <Block type='check_sell' />\n                            </Value>\n                            <Statement name='DO0'>\n                                <Block type='controls_if'>\n                                    <Value name='IF0'>\n                                        <Block type='logic_compare'>\n                                            <Field name='OP'>EQ</Field>\n                                            <Value name='A'>\n                                                <Block type='sell_price' />\n                                            </Value>\n                                            <Value name='B'>\n                                                <Block type='variables_get'>\n                                                    <Field name='VAR' variabletype=''>\n                                                        stake\n                                                    </Field>\n                                                </Block>\n                                            </Value>\n                                        </Block>\n                                    </Value>\n                                    <Statement name='DO0'>\n                                        <Block type='sell_at_market' />\n                                    </Statement>\n                                </Block>\n                            </Statement>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='if-return'>\n                <Block type='procedures_defreturn'>\n                    <Mutation>\n                        <Arg name='x' />\n                    </Mutation>\n                    <Field name='NAME'>do something</Field>\n                    <Statement name='STACK'>\n                        <Block type='procedures_ifreturn'>\n                            <Mutation value='1' />\n                            <Value name='CONDITION'>\n                                <Block type='logic_compare'>\n                                    <Field name='OP'>EQ</Field>\n                                    <Value name='A'>\n                                        <Block type='variables_get'>\n                                            <Field name='VAR' variabletype=''>\n                                                x\n                                            </Field>\n                                        </Block>\n                                    </Value>\n                                    <Value name='B'>\n                                        <Block type='variables_get'>\n                                            <Field name='VAR' variabletype=''>\n                                                x\n                                            </Field>\n                                        </Block>\n                                    </Value>\n                                </Block>\n                            </Value>\n                            <Value name='VALUE'>\n                                <Block type='text'>\n                                    <Field name='TEXT'>x must be positive or zero</Field>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Statement>\n                    <Value name='RETURN'>\n                        <Block type='math_single'>\n                            <Field name='OP'>ROOT</Field>\n                            <Value name='NUM'>\n                                <Shadow type='math_number'>\n                                    <Field name='NUM'>9</Field>\n                                </Shadow>\n                                <Block type='variables_get'>\n                                    <Field name='VAR' variabletype=''>\n                                        x\n                                    </Field>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='notify_telegram'>\n                <Block type='notify_telegram'>\n                    <Value name='TELEGRAM_ACCESS_TOKEN'>\n                        <Shadow type='text'>\n                            <Field name='TEXT' />\n                        </Shadow>\n                        <Block type='variables_get'>\n                            <Field name='VAR' variabletype=''>\n                                access_token\n                            </Field>\n                        </Block>\n                    </Value>\n                    <Value name='TELEGRAM_CHAT_ID'>\n                        <Shadow type='text'>\n                            <Field name='TEXT' />\n                        </Shadow>\n                        <Block type='variables_get'>\n                            <Field name='VAR' variabletype=''>\n                                chat_id\n                            </Field>\n                        </Block>\n                    </Value>\n                    <Value name='TELEGRAM_MESSAGE'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>Enjoy!</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='epoch'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        candle\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='read_ohlc'>\n                            <Field name='OHLCFIELD_LIST'>open</Field>\n                            <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                            <Value name='CANDLEINDEX'>\n                                <Shadow type='math_number'>\n                                    <Field name='NUM'>1</Field>\n                                </Shadow>\n                            </Value>\n                        </Block>\n                    </Value>\n                    <Next>\n                        <Block type='variables_set'>\n                            <Field name='VAR' variabletype=''>\n                                Open Time\n                            </Field>\n                            <Value name='VALUE'>\n                                <Block type='read_ohlc_obj'>\n                                    <Field name='OHLCFIELD_LIST'>epoch</Field>\n                                    <Value name='OHLCOBJ'>\n                                        <Block type='variables_get'>\n                                            <Field name='VAR' variabletype=''>\n                                                candle\n                                            </Field>\n                                        </Block>\n                                    </Value>\n                                </Block>\n                            </Value>\n                            <Next>\n                                <Block type='variables_set'>\n                                    <Field name='VAR' variabletype=''>\n                                        Open Time\n                                    </Field>\n                                    <Value name='VALUE'>\n                                        <Block type='math_arithmetic'>\n                                            <Field name='OP'>MINUS</Field>\n                                            <Value name='A'>\n                                                <Shadow type='math_number'>\n                                                    <Field name='NUM'>1</Field>\n                                                </Shadow>\n                                                <Block type='epoch' />\n                                            </Value>\n                                            <Value name='B'>\n                                                <Shadow type='math_number'>\n                                                    <Field name='NUM'>1</Field>\n                                                </Shadow>\n                                                <Block type='variables_get'>\n                                                    <Field name='VAR' variabletype=''>\n                                                        Open Time\n                                                    </Field>\n                                                </Block>\n                                            </Value>\n                                        </Block>\n                                    </Value>\n                                    <Next>\n                                        <Block type='controls_if'>\n                                            <Value name='IF0'>\n                                                <Block type='logic_compare'>\n                                                    <Field name='OP'>GTE</Field>\n                                                    <Value name='A'>\n                                                        <Block type='variables_get'>\n                                                            <Field name='VAR' variabletype=''>\n                                                                Time Since Candle Opened\n                                                            </Field>\n                                                        </Block>\n                                                    </Value>\n                                                    <Value name='B'>\n                                                        <Block type='math_number'>\n                                                            <Field name='NUM'>30</Field>\n                                                        </Block>\n                                                    </Value>\n                                                </Block>\n                                            </Value>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Next>\n                </Block>\n            </Example>\n            <Example id='totimestamp'>\n                <Block type='before_purchase'>\n                    <Statement name='BEFOREPURCHASE_STACK'>\n                        <Block type='controls_if'>\n                            <Value name='IF0'>\n                                <Block type='logic_compare'>\n                                    <Field name='OP'>EQ</Field>\n                                    <Value name='A'>\n                                        <Block type='epoch' />\n                                    </Value>\n                                    <Value name='B'>\n                                        <Block type='totimestamp'>\n                                            <Value name='DATETIME'>\n                                                <Shadow type='text'>\n                                                    <Field name='TEXT'>1957-08-31 00:00:00</Field>\n                                                </Shadow>\n                                            </Value>\n                                        </Block>\n                                    </Value>\n                                </Block>\n                            </Value>\n                            <Statement name='DO0'>\n                                <Block type='purchase'>\n                                    <Field name='PURCHASE_LIST'>CALL</Field>\n                                </Block>\n                            </Statement>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='todatetime'>\n                <Block type='notify'>\n                    <Field name='NOTIFICATION_TYPE'>success</Field>\n                    <Field name='NOTIFICATION_SOUND'>silent</Field>\n                    <Value name='MESSAGE'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                        <Block type='todatetime'>\n                            <Value name='TIMESTAMP'>\n                                <Shadow type='math_number'>\n                                    <Field name='NUM'>0</Field>\n                                </Shadow>\n                                <Block type='epoch' />\n                            </Value>\n                        </Block>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='constrain'>\n                <Block type='math_constrain'>\n                    <Value name='VALUE'>\n                        <Block type='math_number'>\n                            <Field name='NUM'>5</Field>\n                        </Block>\n                    </Value>\n                    <Value name='LOW'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>10</Field>\n                        </Shadow>\n                    </Value>\n                    <Value name='HIGH'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>20</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='controls_if'>\n                <Block type='controls_if'>\n                    <Mutation elseif='1' else='1' />\n                    <Value name='IF0'>\n                        <Block type='logic_compare'>\n                            <Field name='OP'>EQ</Field>\n                            <Value name='A'>\n                                <Block type='variables_get'>\n                                    <Field name='VAR' variabletype=''>\n                                        var1\n                                    </Field>\n                                </Block>\n                            </Value>\n                            <Value name='B'>\n                                <Block type='variables_get'>\n                                    <Field name='VAR' variabletype=''>\n                                        var2\n                                    </Field>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Value>\n                    <Value name='IF1'>\n                        <Block type='logic_compare'>\n                            <Field name='OP'>EQ</Field>\n                            <Value name='A'>\n                                <Block type='variables_get'>\n                                    <Field name='VAR' variabletype=''>\n                                        var3\n                                    </Field>\n                                </Block>\n                            </Value>\n                            <Value name='B'>\n                                <Block type='variables_get'>\n                                    <Field name='VAR' variabletype=''>\n                                        var4\n                                    </Field>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='compare_logic'>\n                <Block type='logic_compare'>\n                    <Field name='OP'>EQ</Field>\n                </Block>\n            </Example>\n            <Example id='compare_logic_1'>\n                <Block type='logic_operation'>\n                    <Field name='OP'>AND</Field>\n                </Block>\n            </Example>\n            <Example id='repeat_while'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        x\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='math_number'>\n                            <Field name='NUM'>0</Field>\n                        </Block>\n                    </Value>\n                    <Next>\n                        <Block type='controls_whileUntil'>\n                            <Field name='MODE'>WHILE</Field>\n                            <Value name='BOOL'>\n                                <Block type='logic_compare'>\n                                    <Field name='OP'>LTE</Field>\n                                    <Value name='A'>\n                                        <Block type='variables_get'>\n                                            <Field name='VAR' variabletype=''>\n                                                x\n                                            </Field>\n                                        </Block>\n                                    </Value>\n                                    <Value name='B'>\n                                        <Block type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Block>\n                                    </Value>\n                                </Block>\n                            </Value>\n                            <Statement name='DO'>\n                                <Block type='math_change'>\n                                    <Field name='VAR' variabletype=''>\n                                        x\n                                    </Field>\n                                    <Value name='DELTA'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>1</Field>\n                                        </Shadow>\n                                    </Value>\n                                    <Next>\n                                        <Block type='notify'>\n                                            <Field name='NOTIFICATION_TYPE'>success</Field>\n                                            <Field name='NOTIFICATION_SOUND'>silent</Field>\n                                            <Value name='MESSAGE'>\n                                                <Shadow type='text'>\n                                                    <Field name='TEXT'>abc</Field>\n                                                </Shadow>\n                                                <Block type='variables_get'>\n                                                    <Field name='VAR' variabletype=''>\n                                                        x\n                                                    </Field>\n                                                </Block>\n                                            </Value>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Statement>\n                        </Block>\n                    </Next>\n                </Block>\n            </Example>\n            <Example id='repeat_until'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        x\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='math_number'>\n                            <Field name='NUM'>20</Field>\n                        </Block>\n                    </Value>\n                    <Next>\n                        <Block type='controls_whileUntil'>\n                            <Field name='MODE'>UNTIL</Field>\n                            <Value name='BOOL'>\n                                <Block type='logic_compare'>\n                                    <Field name='OP'>EQ</Field>\n                                    <Value name='A'>\n                                        <Block type='variables_get'>\n                                            <Field name='VAR' variabletype=''>\n                                                x\n                                            </Field>\n                                        </Block>\n                                    </Value>\n                                    <Value name='B'>\n                                        <Block type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Block>\n                                    </Value>\n                                </Block>\n                            </Value>\n                            <Statement name='DO'>\n                                <Block type='math_change'>\n                                    <Field name='VAR' variabletype=''>\n                                        x\n                                    </Field>\n                                    <Value name='DELTA'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>-1</Field>\n                                        </Shadow>\n                                    </Value>\n                                    <Next>\n                                        <Block type='notify'>\n                                            <Field name='NOTIFICATION_TYPE'>success</Field>\n                                            <Field name='NOTIFICATION_SOUND'>silent</Field>\n                                            <Value name='MESSAGE'>\n                                                <Shadow type='text'>\n                                                    <Field name='TEXT'>abc</Field>\n                                                </Shadow>\n                                                <Block type='variables_get'>\n                                                    <Field name='VAR' variabletype=''>\n                                                        x\n                                                    </Field>\n                                                </Block>\n                                            </Value>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Statement>\n                        </Block>\n                    </Next>\n                </Block>\n            </Example>\n            <Example id='controls_for'>\n                <Block type='controls_for'>\n                    <Field name='VAR' variabletype=''>\n                        i\n                    </Field>\n                    <Value name='FROM'>\n                        <Block type='math_number'>\n                            <Field name='NUM'>0</Field>\n                        </Block>\n                    </Value>\n                    <Value name='TO'>\n                        <Block type='math_number'>\n                            <Field name='NUM'>10</Field>\n                        </Block>\n                    </Value>\n                    <Value name='BY'>\n                        <Block type='math_number'>\n                            <Field name='NUM'>2</Field>\n                        </Block>\n                    </Value>\n                    <Statement name='DO'>\n                        <Block type='notify'>\n                            <Field name='NOTIFICATION_TYPE'>success</Field>\n                            <Field name='NOTIFICATION_SOUND'>silent</Field>\n                            <Value name='MESSAGE'>\n                                <Shadow type='text'>\n                                    <Field name='TEXT'>abc</Field>\n                                </Shadow>\n                                <Block type='variables_get'>\n                                    <Field name='VAR' variabletype=''>\n                                        i\n                                    </Field>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='controls_forEach'>\n                <Block type='lists_create_with'>\n                    <Field name='VARIABLE'>list</Field>\n                    <Statement name='STACK'>\n                        <Block type='lists_statement'>\n                            <Value name='VALUE'>\n                                <Block type='variables_get'>\n                                    <Field name='VAR' variabletype=''>\n                                        item1\n                                    </Field>\n                                </Block>\n                            </Value>\n                            <Next>\n                                <Block type='lists_statement'>\n                                    <Value name='VALUE'>\n                                        <Block type='variables_get'>\n                                            <Field name='VAR' variabletype=''>\n                                                item2\n                                            </Field>\n                                        </Block>\n                                    </Value>\n                                    <Next>\n                                        <Block type='lists_statement'>\n                                            <Value name='VALUE'>\n                                                <Block type='variables_get'>\n                                                    <Field name='VAR' variabletype=''>\n                                                        item3\n                                                    </Field>\n                                                </Block>\n                                            </Value>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                    <Next>\n                        <Block type='controls_forEach'>\n                            <Field name='VAR' variabletype=''>\n                                i\n                            </Field>\n                            <Value name='LIST'>\n                                <Block type='variables_get'>\n                                    <Field name='VAR' variabletype=''>\n                                        list\n                                    </Field>\n                                </Block>\n                            </Value>\n                            <Statement name='DO'>\n                                <Block type='notify'>\n                                    <Field name='NOTIFICATION_TYPE'>success</Field>\n                                    <Field name='NOTIFICATION_SOUND'>silent</Field>\n                                    <Value name='MESSAGE'>\n                                        <Shadow type='text'>\n                                            <Field name='TEXT'>abc</Field>\n                                        </Shadow>\n                                        <Block type='variables_get'>\n                                            <Field name='VAR' variabletype=''>\n                                                i\n                                            </Field>\n                                        </Block>\n                                    </Value>\n                                </Block>\n                            </Statement>\n                        </Block>\n                    </Next>\n                </Block>\n            </Example>\n            <Example id='break_out'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        x\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='logic_boolean'>\n                            <Field name='BOOL'>TRUE</Field>\n                        </Block>\n                    </Value>\n                    <Next>\n                        <Block type='controls_repeat'>\n                            <Field name='TIMES'>10</Field>\n                            <Statement name='DO'>\n                                <Block type='controls_if'>\n                                    <Value name='IF0'>\n                                        <Block type='logic_negate'>\n                                            <Value name='BOOL'>\n                                                <Block type='variables_get'>\n                                                    <Field name='VAR' variabletype=''>\n                                                        x\n                                                    </Field>\n                                                </Block>\n                                            </Value>\n                                        </Block>\n                                    </Value>\n                                    <Statement name='DO0'>\n                                        <Block type='controls_flow_statements'>\n                                            <Field name='FLOW'>BREAK</Field>\n                                        </Block>\n                                    </Statement>\n                                    <Next>\n                                        <Block type='notify'>\n                                            <Field name='NOTIFICATION_TYPE'>success</Field>\n                                            <Field name='NOTIFICATION_SOUND'>silent</Field>\n                                            <Value name='MESSAGE'>\n                                                <Shadow type='text'>\n                                                    <Field name='TEXT'>abc</Field>\n                                                </Shadow>\n                                            </Value>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Statement>\n                        </Block>\n                    </Next>\n                </Block>\n            </Example>\n            <Example id='continue'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        x\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='logic_boolean'>\n                            <Field name='BOOL'>FALSE</Field>\n                        </Block>\n                    </Value>\n                    <Next>\n                        <Block type='controls_repeat'>\n                            <Field name='TIMES'>10</Field>\n                            <Statement name='DO'>\n                                <Block type='controls_if'>\n                                    <Value name='IF0'>\n                                        <Block type='logic_negate'>\n                                            <Value name='BOOL'>\n                                                <Block type='variables_get'>\n                                                    <Field name='VAR' variabletype=''>\n                                                        x\n                                                    </Field>\n                                                </Block>\n                                            </Value>\n                                        </Block>\n                                    </Value>\n                                    <Statement name='DO0'>\n                                        <Block type='variables_set'>\n                                            <Field name='VAR' variabletype=''>\n                                                x\n                                            </Field>\n                                            <Value name='VALUE'>\n                                                <Block type='logic_boolean'>\n                                                    <Field name='BOOL'>TRUE</Field>\n                                                </Block>\n                                            </Value>\n                                            <Next>\n                                                <Block type='controls_flow_statements'>\n                                                    <Field name='FLOW'>CONTINUE</Field>\n                                                </Block>\n                                            </Next>\n                                        </Block>\n                                    </Statement>\n                                    <Next>\n                                        <Block type='notify'>\n                                            <Field name='NOTIFICATION_TYPE'>success</Field>\n                                            <Field name='NOTIFICATION_SOUND'>silent</Field>\n                                            <Value name='MESSAGE'>\n                                                <Shadow type='text'>\n                                                    <Field name='TEXT'>abc</Field>\n                                                </Shadow>\n                                            </Value>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Statement>\n                        </Block>\n                    </Next>\n                </Block>\n            </Example>\n        </Examples>\n    </Xml>\n);\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Icon, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from '../../../../stores/useDBotStore';\nimport ToolbarButton from '../toolbar/toolbar-button';\nimport SearchBox from './search-box';\nimport { ToolboxItems } from './toolbox-items';\n\nconst Toolbox = observer(() => {\n    const { toolbox, flyout, quick_strategy } = useDBotStore();\n    const {\n        hasSubCategory,\n        is_search_loading,\n        onMount,\n        onSearch,\n        onSearchBlur,\n        onSearchClear,\n        onSearchKeyUp,\n        onToolboxItemClick,\n        onToolboxItemExpand,\n        onUnmount,\n        sub_category_index,\n        toolbox_dom,\n    } = toolbox;\n\n    const { setVisibility } = flyout;\n    const { loadDataStrategy } = quick_strategy;\n\n    const toolbox_ref = React.useRef(ToolboxItems);\n    const [is_open, setOpen] = React.useState(true);\n\n    React.useEffect(() => {\n        onMount(toolbox_ref);\n        return () => onUnmount();\n    }, []);\n\n    if (!isMobile()) {\n        return (\n            <div className='dashboard__toolbox' data-testid='dashboard__toolbox'>\n                <ToolbarButton\n                    popover_message={localize('Click here to start building your Deriv Bot.')}\n                    button_id='db-toolbar__get-started-button'\n                    button_classname='toolbar__btn toolbar__btn--icon toolbar__btn--start'\n                    buttonOnClick={loadDataStrategy}\n                    button_text={localize('Quick strategy')}\n                />\n                <div id='gtm-toolbox' className='db-toolbox__content'>\n                    <div className='db-toolbox__header'>\n                        <div\n                            className='db-toolbox__title'\n                            data-testid='db-toolbox__title'\n                            onClick={() => {\n                                setOpen(!is_open);\n                                setVisibility(false);\n                            }}\n                        >\n                            {localize('Blocks menu')}\n                            <span\n                                className={classNames('db-toolbox__title__chevron', {\n                                    'db-toolbox__title__chevron--active': is_open,\n                                })}\n                            >\n                                <Icon icon='IcChevronDownBold' />\n                            </span>\n                        </div>\n                    </div>\n                    <div\n                        className={classNames('db-toolbox__content-wrapper', { active: is_open })}\n                        data-testid='db-toolbox__content-wrapper'\n                    >\n                        <SearchBox\n                            is_search_loading={is_search_loading}\n                            onSearch={onSearch}\n                            onSearchBlur={onSearchBlur}\n                            onSearchClear={onSearchClear}\n                            onSearchKeyUp={onSearchKeyUp}\n                        />\n                        <div className='db-toolbox__category-menu'>\n                            {toolbox_dom &&\n                                (Array.from(toolbox_dom.childNodes) as HTMLElement[]).map((category, index) => {\n                                    if (category.tagName.toUpperCase() === 'CATEGORY') {\n                                        const has_sub_category = hasSubCategory(category.children);\n                                        const is_sub_category_open = sub_category_index.includes(index);\n                                        return (\n                                            <div\n                                                key={`db-toolbox__row--${category.getAttribute('id')}`}\n                                                className='db-toolbox__row'\n                                            >\n                                                <div\n                                                    className='db-toolbox__item'\n                                                    onClick={() => {\n                                                        // eslint-disable-next-line no-unused-expressions\n                                                        has_sub_category\n                                                            ? onToolboxItemExpand(index)\n                                                            : onToolboxItemClick(category);\n                                                    }}\n                                                >\n                                                    <div className='db-toolbox__category-text'>\n                                                        <div className='db-toolbox__label'>\n                                                            {localize(category.getAttribute('name') as string)}\n                                                        </div>\n                                                        {has_sub_category && (\n                                                            <div\n                                                                className={classNames('db-toolbox__category-arrow', {\n                                                                    'db-toolbox__category-arrow--active':\n                                                                        is_sub_category_open,\n                                                                })}\n                                                            >\n                                                                <Icon icon='IcChevronDownBold' />\n                                                            </div>\n                                                        )}\n                                                    </div>\n                                                </div>\n                                                {has_sub_category &&\n                                                    is_sub_category_open &&\n                                                    (Array.from(category.childNodes) as HTMLElement[]).map(\n                                                        subCategory => {\n                                                            return (\n                                                                <div\n                                                                    key={`db-toolbox__sub-category-row--${subCategory.getAttribute(\n                                                                        'id'\n                                                                    )}`}\n                                                                    className='db-toolbox__sub-category-row'\n                                                                    onClick={() => {\n                                                                        onToolboxItemClick(subCategory);\n                                                                    }}\n                                                                >\n                                                                    <Text size='xxs'>\n                                                                        {localize(\n                                                                            subCategory.getAttribute('name') as string\n                                                                        )}\n                                                                    </Text>\n                                                                </div>\n                                                            );\n                                                        }\n                                                    )}\n                                            </div>\n                                        );\n                                    }\n                                    return null;\n                                })}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n    return null;\n});\n\nexport default Toolbox;\n","import Toolbox from './toolbox';\nimport './toolbox.scss';\n\nexport default Toolbox;\n","import React from 'react';\nimport { observer } from '@deriv/stores';\nimport Flyout from 'Components/flyout';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport StopBotModal from '../dashboard-component/load-bot-preview/stop-bot-modal';\nimport Toolbar from './toolbar';\nimport Toolbox from './toolbox';\nimport './workspace.scss';\n\nconst WorkspaceWrapper = observer(() => {\n    const { blockly_store } = useDBotStore();\n    const { onMount, onUnmount, is_loading } = blockly_store;\n\n    React.useEffect(() => {\n        onMount();\n        return () => {\n            onUnmount();\n        };\n    }, []);\n\n    if (is_loading) return null;\n\n    if (Blockly?.derivWorkspace)\n        return (\n            <React.Fragment>\n                <Toolbox />\n                <Toolbar />\n                <Flyout />\n                <StopBotModal />\n            </React.Fragment>\n        );\n\n    return null;\n});\n\nexport default WorkspaceWrapper;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { DesktopWrapper, MobileWrapper } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { useDBotStore } from '../../../stores/useDBotStore';\nimport LoadModal from '../../load-modal';\nimport SaveModal from '../dashboard-component/load-bot-preview/save-modal';\nimport { BOT_BUILDER_TOUR } from '../joyride-config';\nimport QuickStrategy from '../quick-strategy';\nimport ReactJoyrideWrapper from '../react-joyride-wrapper';\nimport TourSlider from '../tour-slider';\nimport WorkspaceWrapper from './workspace-wrapper';\n\nconst BotBuilder = observer(() => {\n    const { dashboard, app } = useDBotStore();\n    const { active_tab, has_started_onboarding_tour, has_started_bot_builder_tour, is_preview_on_popup } = dashboard;\n\n    const [is_tour_running] = React.useState<boolean>(true);\n    const { onMount, onUnmount } = app;\n    const el_ref = React.useRef<HTMLInputElement | null>(null);\n\n    React.useEffect(() => {\n        onMount();\n        return () => onUnmount();\n    }, []);\n\n    return (\n        <>\n            <div\n                className={classNames('bot-builder', {\n                    'bot-builder--active': active_tab === 1 && !is_preview_on_popup,\n                    'bot-builder--inactive': is_preview_on_popup,\n                    'bot-builder--tour-active': has_started_bot_builder_tour,\n                })}\n            >\n                {is_preview_on_popup ? null : (\n                    <div\n                        id='scratch_div'\n                        ref={el_ref}\n                        style={{\n                            width: 'calc(100vw - 3.2rem)',\n                            height: 'var(--bot-content-height)',\n                        }}\n                    >\n                        <WorkspaceWrapper />\n                    </div>\n                )}\n            </div>\n            {has_started_bot_builder_tour && active_tab === 1 && !has_started_onboarding_tour && (\n                <>\n                    <MobileWrapper>\n                        <TourSlider />\n                    </MobileWrapper>\n                    <DesktopWrapper>\n                        <ReactJoyrideWrapper\n                            steps={BOT_BUILDER_TOUR}\n                            run={is_tour_running}\n                            showProgress\n                            styles={{\n                                options: {\n                                    arrowColor: 'transparent',\n                                    backgroundColor: 'var(--general-main-2)',\n                                    primaryColor: 'var(--brand-red-coral)',\n                                    textColor: 'var(--text-general)',\n                                },\n                            }}\n                        />\n                    </DesktopWrapper>\n                </>\n            )}\n            {/* removed this outside from toolbar becuase it needs to loaded seperately without dependency */}\n            <LoadModal />\n            <SaveModal />\n            <QuickStrategy />\n        </>\n    );\n});\n\nexport default BotBuilder;\n","import BotBuilder from './bot-builder';\nimport './workspace.scss';\n\nexport default BotBuilder;\n","import React, { ReactElement } from 'react';\nimport classNames from 'classnames';\nimport ContentLoader from 'react-content-loader';\nimport { getContractTypeName } from '@deriv/bot-skeleton';\nimport { Icon, IconTradeTypes, Popover } from '@deriv/components';\nimport { convertDateFormat } from '@deriv/shared';\nimport { transaction_elements } from 'Constants/transactions';\nimport { TColumn, TDesktopTransactionTable, TTableCell } from './transaction-details.types';\n\nconst PARENT_CLASS = 'transaction-details-modal-desktop';\n\nconst TableCell = ({ label, extra_classes = [], loader = false }: TTableCell) => {\n    return (\n        <div className={classNames(`${PARENT_CLASS}__table-cell`, ...extra_classes)}>\n            {loader ? <CellLoader /> : label}\n        </div>\n    );\n};\n\nconst TableHeader = ({ columns }: { columns: TColumn[] }) => (\n    <div className={classNames(`${PARENT_CLASS}__table-row`, `${PARENT_CLASS}__table-header`)}>\n        {columns?.map(column => (\n            <TableCell\n                key={column.key}\n                extra_classes={[column.extra_class ? `${PARENT_CLASS}__table-cell${column.extra_class}` : '']}\n                label={column.label}\n                loader={false}\n            />\n        ))}\n    </div>\n);\n\nconst IconWrapper = ({ message, icon }: { message: string; icon: ReactElement }) => (\n    <div className={`${PARENT_CLASS}__icon-wrapper`}>\n        <Popover alignment='left' message={message} zIndex={'9999'}>\n            {icon}\n        </Popover>\n    </div>\n);\n\nconst CellLoader = () => (\n    <ContentLoader\n        className='transactions__loader-text'\n        data-testid='transaction_details_table_cell_loader'\n        height={10}\n        width={80}\n        speed={3}\n        backgroundColor={'var(--general-section-2)'}\n        foregroundColor={'var(--general-hover)'}\n    >\n        <rect x='0' y='0' rx='0' ry='0' width='100' height='12' />\n    </ContentLoader>\n);\n\nexport default function DesktopTransactionTable({\n    result,\n    result_columns,\n    transactions,\n    transaction_columns,\n}: TDesktopTransactionTable) {\n    return (\n        <div data-testid='transaction_details_tables'>\n            <div\n                className={classNames(\n                    `${PARENT_CLASS}__table-container`,\n                    `${PARENT_CLASS}__table-container__top-table`\n                )}\n            >\n                <TableHeader columns={transaction_columns} />\n                {transactions?.map(transaction => {\n                    const { data, type } = transaction;\n                    if (type === transaction_elements.CONTRACT) {\n                        return (\n                            <div className={`${PARENT_CLASS}__table-row`} key={data?.transaction_ids?.buy}>\n                                <TableCell\n                                    label={\n                                        data?.date_start &&\n                                        convertDateFormat(\n                                            data?.date_start,\n                                            'YYYY-M-D HH:mm:ss [GMT]',\n                                            'YYYY-MM-DD HH:mm:ss [GMT] ZZ'\n                                        )\n                                    }\n                                    extra_classes={[`${PARENT_CLASS}__table-cell--grow-big`]}\n                                />\n                                <TableCell\n                                    label={data?.transaction_ids?.buy}\n                                    extra_classes={[`${PARENT_CLASS}__table-cell--grow-mid`]}\n                                />\n                                <TableCell\n                                    label={\n                                        <IconWrapper\n                                            message={data?.display_name}\n                                            icon={<Icon icon={`IcUnderlying${data?.underlying}`} size={24} />}\n                                        />\n                                    }\n                                />\n                                <TableCell\n                                    label={\n                                        <IconWrapper\n                                            message={getContractTypeName(data)}\n                                            icon={<IconTradeTypes type={data?.contract_type} size={24} />}\n                                        />\n                                    }\n                                />\n                                <TableCell label={data?.entry_tick} loader={!data?.entry_tick} />\n                                <TableCell label={data?.exit_tick} loader={!data.exit_tick} />\n                                <TableCell label={Math.abs(data?.buy_price ?? 0).toFixed(2)} />\n                                <TableCell\n                                    label={\n                                        <div\n                                            className={classNames({\n                                                [`${PARENT_CLASS}__profit--win`]: data?.profit > 0,\n                                                [`${PARENT_CLASS}__profit--loss`]: data?.profit < 0,\n                                            })}\n                                        >\n                                            {Math.abs(data?.profit ?? 0).toFixed(2)}\n                                        </div>\n                                    }\n                                    loader={!data.is_completed}\n                                />\n                            </div>\n                        );\n                    }\n\n                    return (\n                        <div className={`${PARENT_CLASS}__table-row`} key={`transaction-row-divider-${data}`}>\n                            <div className={`${PARENT_CLASS}__divider`}>\n                                <div className='transactions__divider-line' />\n                            </div>\n                        </div>\n                    );\n                })}\n            </div>\n            <div className={classNames(`${PARENT_CLASS}__table-container`)}>\n                <TableHeader columns={result_columns} />\n                <div className={`${PARENT_CLASS}__table-row`}>\n                    <TableCell label={result?.number_of_runs} />\n                    <TableCell label={Math.abs(result?.total_stake ?? 0).toFixed(2)} />\n                    <TableCell label={Math.abs(result?.total_payout ?? 0).toFixed(2)} />\n                    <TableCell label={result?.won_contracts} />\n                    <TableCell label={result?.lost_contracts} extra_classes={[`${PARENT_CLASS}__loss`]} />\n                    <TableCell\n                        label={\n                            <div\n                                className={classNames(\n                                    result?.total_profit && {\n                                        [`${PARENT_CLASS}__profit--win`]: result?.total_profit > 0,\n                                        [`${PARENT_CLASS}__profit--loss`]: result?.total_profit < 0,\n                                    }\n                                )}\n                                data-testid='transaction_details_table_profit'\n                            >\n                                {Math.abs(result?.total_profit ?? 0).toFixed(2)}\n                            </div>\n                        }\n                    />\n                </div>\n            </div>\n        </div>\n    );\n}\n","import React from 'react';\nimport { Dialog } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport DesktopTransactionTable from './desktop-transaction-table';\nimport { TColumn, TRunPanelStore, TTransactionStore } from './transaction-details.types';\nimport './transaction-details-desktop.scss';\n\nconst transaction_columns: TColumn[] = [\n    { key: 'timestamp', label: localize('Timestamp'), extra_class: '--grow-big' },\n    { key: 'reference', label: localize('Reference'), extra_class: '--grow-mid' },\n    { key: 'market', label: localize('Market') },\n    { key: 'contract_type', label: localize('Trade type') },\n    { key: 'entry_tick', label: localize('Entry spot') },\n    { key: 'exit_tick', label: localize('Exit spot') },\n    { key: 'buy_price', label: localize('Buy price') },\n    { key: 'profit', label: localize('Profit/Loss') },\n];\n\n/* TODO: Add back account & balance when we have support from transaction store */\nconst result_columns: TColumn[] = [\n    // { key: 'account', label: localize('Account') },\n    { key: 'no_of_runs', label: localize('No. of runs') },\n    { key: 'total_stake', label: localize('Total stake') },\n    { key: 'total_payout    ', label: localize('Total payout') },\n    { key: 'win', label: localize('Win') },\n    { key: 'loss', label: localize('Loss') },\n    { key: 'total_profit', label: localize('Total profit/loss') },\n    // { key: 'balance', label: localize('Balance') },\n];\n\nconst TransactionDetailsDesktop = observer(() => {\n    const { transactions, run_panel } = useDBotStore();\n    const { toggleTransactionDetailsModal, is_transaction_details_modal_open, elements }: Partial<TTransactionStore> =\n        transactions;\n    const { statistics }: Partial<TRunPanelStore> = run_panel;\n    return (\n        <Dialog\n            cancel_button_text=''\n            className='transaction-details-modal-desktop'\n            confirm_button_text=''\n            has_close_icon\n            is_mobile_full_width\n            is_visible={is_transaction_details_modal_open}\n            onClose={() => {\n                toggleTransactionDetailsModal(false);\n            }}\n            portal_element_id='modal_root'\n            title={localize('Transactions detailed summary')}\n        >\n            <DesktopTransactionTable\n                transaction_columns={transaction_columns}\n                transactions={elements}\n                result_columns={result_columns}\n                result={statistics}\n            />\n        </Dialog>\n    );\n});\n\nexport default TransactionDetailsDesktop;\n","import React, { ReactElement } from 'react';\nimport classNames from 'classnames';\nimport ContentLoader from 'react-content-loader';\nimport { getContractTypeName } from '@deriv/bot-skeleton';\nimport { Icon, IconTradeTypes, Popover } from '@deriv/components';\nimport { convertDateFormat } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { TTransaction } from './transaction-details.types';\n\nconst PARENT_CLASS = 'transaction-details-modal-mobile';\n\ntype TCardRow = {\n    title: string;\n    label: string | number | ReactElement;\n    right_aligned: boolean;\n    large_title: boolean;\n    loader: boolean;\n};\n\nconst CellLoader = () => (\n    <ContentLoader\n        className='transactions__loader-text'\n        data-testid='transaction_details_card_cell_loader'\n        height={10}\n        width={80}\n        speed={3}\n        foregroundColor={'var(--general-section-2)'}\n        backgroundColor={'var(--general-hover)'}\n    >\n        <rect x='0' y='0' rx='0' ry='0' width='100' height='12' />\n    </ContentLoader>\n);\n\nconst CardColumn = ({\n    label = '',\n    large_title = false,\n    right_aligned = false,\n    title = '',\n    loader = false,\n}: Partial<TCardRow>) => (\n    <div\n        className={classNames(`${PARENT_CLASS}__card__column`, {\n            [`${PARENT_CLASS}__right-align`]: right_aligned,\n        })}\n    >\n        {title && (\n            <div\n                className={classNames({\n                    [`${PARENT_CLASS}__small-title`]: !large_title,\n                    [`${PARENT_CLASS}__large-title`]: large_title,\n                })}\n            >\n                {localize(title)}\n            </div>\n        )}\n        <div className={`${PARENT_CLASS}__label`}>{loader ? <CellLoader /> : label}</div>\n    </div>\n);\n\nconst IconContainer = ({ message, icon }: { message: string; icon: ReactElement }) => (\n    <div className={classNames(`${PARENT_CLASS}__table-cell`, `${PARENT_CLASS}__table-cell__icon-wrapper`)}>\n        {message && (\n            <Popover alignment='right' message={message} zIndex={'7'}>\n                {icon}\n            </Popover>\n        )}\n    </div>\n);\n\nexport default function MobileTransactionCards({ transaction }: { transaction: TTransaction }) {\n    return (\n        <div className={`${PARENT_CLASS}__card`}>\n            <div className={`${PARENT_CLASS}__card__row`}>\n                <CardColumn\n                    label={\n                        <div className={`${PARENT_CLASS}__icon-wrapper`}>\n                            <IconContainer\n                                message={transaction?.display_name}\n                                icon={<Icon icon={`IcUnderlying${transaction?.underlying}`} size={32} />}\n                            />\n                            <IconContainer\n                                message={getContractTypeName(transaction)}\n                                icon={<IconTradeTypes type={transaction?.contract_type} size={24} />}\n                            />\n                        </div>\n                    }\n                />\n            </div>\n            <div className={`${PARENT_CLASS}__card__row`}>\n                <CardColumn title='Ref. ID' label={transaction?.transaction_ids?.buy} />\n            </div>\n            <div className={`${PARENT_CLASS}__card__row`}>\n                <CardColumn\n                    title='Timestamp'\n                    label={convertDateFormat(\n                        transaction?.date_start,\n                        'YYYY-M-D HH:mm:ss [GMT]',\n                        'YYYY-MM-DD HH:mm:ss [GMT] ZZ'\n                    )}\n                />\n                <CardColumn\n                    title='Entry Spot'\n                    label={transaction?.entry_tick}\n                    right_aligned\n                    loader={!transaction.entry_tick}\n                />\n            </div>\n            <div className={`${PARENT_CLASS}__card__row`}>\n                <CardColumn title='Buy Price' label={Math.abs(transaction?.buy_price ?? 0).toFixed(2)} />\n                <CardColumn\n                    title='Exit Spot'\n                    label={transaction?.exit_tick}\n                    right_aligned\n                    loader={!transaction.exit_tick}\n                />\n            </div>\n\n            <div className={`${PARENT_CLASS}__card__row`}>\n                <CardColumn title='Profit / Loss' large_title />\n                <CardColumn\n                    label={\n                        <div\n                            className={classNames({\n                                [`${PARENT_CLASS}__card__profit--win`]: transaction?.profit > 0,\n                                [`${PARENT_CLASS}__card__profit--loss`]: transaction?.profit < 0,\n                            })}\n                        >\n                            {Math.abs(transaction?.profit ?? 0).toFixed(2)}\n                        </div>\n                    }\n                    right_aligned\n                    loader={!transaction.is_completed}\n                />\n            </div>\n        </div>\n    );\n}\n","import React from 'react';\nimport { MobileFullPageModal } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { StatisticsSummary } from 'Components/run-panel/run-panel';\nimport { transaction_elements } from 'Constants/transactions';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport MobileTransactionCards from './mobile-transaction-card';\nimport { TRunPanelStore, TTransactionStore } from './transaction-details.types';\nimport './transaction-details-mobile.scss';\n\nconst TransactionDetailsMobile = observer(() => {\n    const { client } = useStore();\n    const { transactions, run_panel } = useDBotStore();\n    const { toggleTransactionDetailsModal, is_transaction_details_modal_open, elements }: Partial<TTransactionStore> =\n        transactions;\n    const { statistics, toggleStatisticsInfoModal }: Partial<TRunPanelStore> = run_panel;\n\n    return (\n        <MobileFullPageModal\n            is_modal_open={is_transaction_details_modal_open}\n            className='transaction-details-modal-mobile'\n            header={localize('Transactions detailed summary')}\n            onClickClose={() => {\n                toggleTransactionDetailsModal(false);\n            }}\n            height_offset='80px'\n        >\n            <div className='transaction-details-modal-mobile__wrapper' data-testid='transaction_details_cards'>\n                {elements?.map(({ data, type }) => {\n                    if (type === transaction_elements.CONTRACT)\n                        return <MobileTransactionCards transaction={data} key={data?.transaction_ids?.buy} />;\n                    return (\n                        <div\n                            className='transaction-details-modal-mobile__divider'\n                            key={`transaction-row-divider-${data}`}\n                        >\n                            <div className='transactions__divider-line' />\n                        </div>\n                    );\n                })}\n            </div>\n            <div className='transaction-details-modal-mobile__card__footer'>\n                <StatisticsSummary\n                    has_started_onboarding_tour={false}\n                    currency={client?.currency}\n                    is_mobile={true}\n                    lost_contracts={statistics?.lost_contracts}\n                    number_of_runs={statistics?.number_of_runs}\n                    toggleStatisticsInfoModal={toggleStatisticsInfoModal}\n                    total_payout={statistics?.total_payout}\n                    total_profit={statistics?.total_profit}\n                    total_stake={statistics?.total_stake}\n                    won_contracts={statistics?.won_contracts}\n                />\n            </div>\n        </MobileFullPageModal>\n    );\n});\n\nexport default TransactionDetailsMobile;\n","import TransactionDetails from './transaction-details';\n\nexport default TransactionDetails;\n","import React, { Suspense } from 'react';\nimport { Loading } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\nimport TransactionDetailsDesktop from './transaction-details-desktop';\nimport TransactionDetailsMobile from './transaction-details-mobile';\n\nexport default function TransactionDetails() {\n    const is_mobile = isMobile();\n    return (\n        <Suspense fallback={<Loading />}>\n            {is_mobile ? <TransactionDetailsMobile /> : <TransactionDetailsDesktop />}\n        </Suspense>\n    );\n}\n","import BlocklyLoading from './blockly-loading';\nimport './blockly-loading.scss';\n\nexport default BlocklyLoading;\n","import React from 'react';\nimport { Loading } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { useDBotStore } from '../../stores/useDBotStore';\n\nconst BlocklyLoading = observer(() => {\n    const { blockly_store } = useDBotStore();\n    const { is_loading } = blockly_store;\n    return (\n        <>\n            {is_loading && (\n                <div className='bot__loading' data-testid='blockly-loader'>\n                    <Loading />\n                </div>\n            )}\n        </>\n    );\n});\n\nexport default BlocklyLoading;\n","import React from 'react';\nimport { ApiHelpers, ServerTime, setColors } from '@deriv/bot-skeleton';\nimport { Loading } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { Audio, BotNotificationMessages, Dashboard, NetworkToastPopup, RoutePromptDialog } from 'Components';\nimport BotBuilder from 'Components/dashboard/bot-builder';\nimport TransactionDetailsModal from 'Components/transaction-details';\nimport GTM from 'Utils/gtm';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport BlocklyLoading from '../components/blockly-loading';\nimport './app.scss';\n\nconst AppContent = observer(() => {\n    const [is_loading, setIsLoading] = React.useState(true);\n    const RootStore = useStore();\n    const {\n        common,\n        client,\n        ui: { is_dark_mode_on },\n    } = RootStore;\n    const DBotStores = useDBotStore();\n    const { app } = DBotStores;\n    const { showDigitalOptionsMaltainvestError } = app;\n\n    // TODO: Remove this when connect is removed completely\n    const combinedStore = { ...DBotStores, core: { ...RootStore } };\n\n    //Do not remove this is for the bot-skeleton package to load blockly with the theme\n    React.useEffect(() => {\n        setColors(is_dark_mode_on);\n    }, [is_dark_mode_on]);\n\n    React.useEffect(() => {\n        /**\n         * Inject: External Script Hotjar - for DBot only\n         */\n        (function (h, o, t, j) {\n            /* eslint-disable */\n            h.hj =\n                h.hj ||\n                function () {\n                    (h.hj.q = h.hj.q || []).push(arguments);\n                };\n            /* eslint-enable */\n            h._hjSettings = { hjid: 3050531, hjsv: 6 };\n            const a = o.getElementsByTagName('head')[0];\n            const r = o.createElement('script');\n            r.async = 1;\n            r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;\n            a.appendChild(r);\n        })(window, document, 'https://static.hotjar.com/c/hotjar-', '.js?sv=');\n    }, []);\n\n    React.useEffect(() => {\n        showDigitalOptionsMaltainvestError(client, common);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [client.is_options_blocked, client.account_settings.country_code]);\n\n    const init = () => {\n        GTM.init(combinedStore);\n        ServerTime.init(common);\n        app.setDBotEngineStores(combinedStore);\n        ApiHelpers.setInstance(app.api_helpers_store);\n    };\n\n    const changeActiveSymbolLoadingState = () => {\n        init();\n        const { active_symbols } = ApiHelpers.instance;\n        active_symbols.retrieveActiveSymbols(true).then(() => {\n            setIsLoading(false);\n        });\n    };\n\n    React.useEffect(() => {\n        init();\n        setIsLoading(true);\n        if (!client.is_logged_in) {\n            changeActiveSymbolLoadingState();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    // use is_landing_company_loaded to know got details of accounts to identify should show an error or not\n    if (client.is_landing_company_loaded) {\n        changeActiveSymbolLoadingState();\n    }\n\n    React.useEffect(() => {\n        const onDisconnectFromNetwork = () => {\n            setIsLoading(false);\n        };\n        window.addEventListener('offline', onDisconnectFromNetwork);\n        return () => {\n            window.removeEventListener('offline', onDisconnectFromNetwork);\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return is_loading ? (\n        <Loading />\n    ) : (\n        <>\n            <BlocklyLoading />\n            <div className='bot-dashboard bot'>\n                <Audio />\n                <BotNotificationMessages />\n                <Dashboard />\n                <NetworkToastPopup />\n                <BotBuilder />\n                <RoutePromptDialog />\n                <TransactionDetailsModal />\n            </div>\n        </>\n    );\n});\n\nexport default AppContent;\n","import React from 'react';\nimport { StoreProvider } from '@deriv/stores';\nimport type { TRootStore, TWebSocket } from 'Types';\nimport { DBotStoreProvider } from 'Stores/useDBotStore';\n\nconst DBotProviders = ({ children, store, WS }: React.PropsWithChildren<{ store: TRootStore; WS: TWebSocket }>) => {\n    return (\n        <StoreProvider store={store}>\n            <DBotStoreProvider ws={WS}>{children}</DBotStoreProvider>\n        </StoreProvider>\n    );\n};\n\nexport default DBotProviders;\n","import '../public-path'; // Leave this here (at the top)! OK boss!\nimport React from 'react';\nimport type { TRootStore, TWebSocket } from 'Types';\nimport AppContent from './app-content';\nimport DBotProviders from './dbot-providers';\n\ntype TAppProps = {\n    passthrough: {\n        WS: TWebSocket;\n        root_store: TRootStore;\n    };\n};\n\nconst App = ({ passthrough }: TAppProps) => {\n    const { root_store, WS } = passthrough;\n\n    React.useEffect(() => {\n        const initSurvicate = () => {\n            if (document.getElementById('dbot-survicate')) {\n                const survicate_box = document.getElementById('survicate-box') || undefined;\n                if (survicate_box) {\n                    survicate_box.style.display = 'block';\n                }\n                return;\n            }\n            const script = document.createElement('script');\n            script.id = 'dbot-survicate';\n            script.async = true;\n            script.src = 'https://survey.survicate.com/workspaces/83b651f6b3eca1ab4551d95760fe5deb/web_surveys.js';\n            document.body.appendChild(script);\n        };\n\n        initSurvicate();\n        return () => {\n            const survicate_box = document.getElementById('survicate-box') || undefined;\n            if (survicate_box) {\n                survicate_box.style.display = 'none';\n            }\n        };\n    }, []);\n\n    return (\n        <DBotProviders store={root_store} WS={WS}>\n            <AppContent />\n        </DBotProviders>\n    );\n};\n\nexport default App;\n","var map = {\n\t\"./dalembert.xml\": [\n\t\t9022,\n\t\t406\n\t],\n\t\"./martingale.xml\": [\n\t\t1732,\n\t\t101\n\t],\n\t\"./oscars_grind.xml\": [\n\t\t6373,\n\t\t113\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 7328;\nmodule.exports = webpackAsyncContext;"],"names":["parseOhlc","ohlc","open","high","low","close","epoch","open_time","getType","isCandle","TicksService","forget","subscription_id","api_base","api","this","ticks","Map","candles","tickListeners","ohlcListeners","subscriptions","ticks_history_promise","active_symbols_promise","candles_promise","observe","pipSizes","Promise","resolve","pip_sizes","options","symbol","granularity","style","has","get","hasIn","Number","getIn","requestStream","callback","type","key","getUUID","request","e","globalObserver","emit","setIn","deleteIn","unsubscribeIfEmptyListeners","needToUnsubscribe","tickListener","size","ohlcListener","unsubscribeAllAndSubscribeListeners","ohlcSubscriptions","tickSubscription","subscription","Array","from","values","all","map","id","doUntilDone","set","listeners","forEach","address","onMessage","subscribe","newTick","data","msg_type","tick","updateTicksAndCallListeners","quote","parseTick","getLast","slice","updateCandlesAndCallListeners","lastCandle","prevCandles","updateCandles","pushSubscription","stringified_options","JSON","stringify","promise","requestPipSizes","then","requestTicks","request_object","ticks_history","end","count","undefined","reject","send","r","historyToTicks","history","t","parseCandles","parse","createScope","observer","Observer","ticksService","stopped","createError","name","message","Error","code","trackAndEmitError","object","window","trackJs","track","isPositiveNumber","num","isFinite","isPositiveInteger","isInteger","expectInitArg","args","token","localize","contractTypes","expectOptions","candle","Object","every","expectCandle","takeField","arr","field","x","takeLast","n","length","mean","reduce","a","b","simpleMovingAverage","config","periods","acc","sum","simpleMovingAverageArray","pipSize","sequence","i","toFixed","bollingerBands","stdDevUp","stdDevDown","vals","middle","std_dev","data_mean","sq_diff","Math","pow","avg_sq_diff","sqrt","stddev","upper","lower","bollingerBandsArray","exponentialMovingAverage","init_val","weighting_multiplier","mean_val","prev","exponentialMovingAverageArray","paddingLeft","fill","macdArray","fastEmaPeriod","slowEmaPeriod","signalEmaPeriod","fast_ema_array","slow_ema_array","macd_calc_array","signal_ema_array","calcGain","q1","q2","calcLoss","calcFirstAvgDiff","comp","q","diff","calcSecondAvgDiff","init_avg","relativeStrengthIndex","memoized_diff","rest_seq","init_avg_gain","init_avg_loss","gain","loss","avg_gain","avg_loss","relativeStrengthIndexArray","decorate","f","input","tradeEngine","getPipSize","dateTimeStringToTimestamp","datetime_string","invalid_msg","validated_datetime","date_time","replace","trim","split","d","test","date_obj","Date","isNaN","getTime","parseInt","isCandleBlack","candleValues","c","expectCandles","o","candleField","notify","console","notifyTelegram","access_token","chat_id","text","url","onError","fetch","method","mode","headers","body","response","ok","getTotalRuns","getBalance","getTotalProfit","toString","tradeOptions","currency","getMiscInterface","sma","smaa","ema","emaa","rsi","rsia","bb","bba","macda","getIndicatorsInterface","highlightBlock","block_id","block","Blockly","derivWorkspace","getBlockById","highlightExecutedBlock","getLastTick","getLastDigit","getTicks","checkDirection","getOhlcFromEnd","getOhlc","getLastDigitList","getProposal","contract_type","proposals","find","proposal","purchase_reference","getPurchaseReference","balance_string","BEFORE_PURCHASE","DURING_PURCHASE","PROPOSALS_READY","CLEAR_PROPOSALS","PURCHASE_SUCCESSFUL","OPEN_CONTRACT","SELL","START","STOP","NEW_TICK","dispatchIfScopeIs","dispatch","getState","scope","dispatchIfBeforePurchaseReady","proposalsReady","constants","dispatchIfScopeIsBeforePurchase","delayIndex","initialState","state","action","openContract","payload","tickListenerKey","skeleton","totalProfit","totalWins","totalLosses","totalStake","totalPayout","totalRuns","globalStat","prevTick","watchScope","store","stopScope","passScope","passFlag","unsubscribe","newState","TradeEngine","$scope","contract","createStore","rootReducer","applyMiddleware","thunk","initArgs","startPromise","loginAndGetBalance","watchTicks","checkLimits","makeProposals","checkProposalReady","transaction","transaction_recovery_timeout","setTimeout","is_same_contract","contract_id","is_open_contract","status","proposal_open_contract","accountInfo","account_info","observeOpenContract","observeBalance","observeProposals","watchName","watchDuring","Engine","balance","getFormattedText","info","accountID","loginid","client","DBotStore","instance","Balance","regeneratePurchaseReference","selectProposal","askPrice","onSuccess","filter","p","echo_req","buy","contractStatus","transaction_id","contractId","renewProposalsOnPurchase","log","log_types","PURCHASE","longcode","updateAndReturnTotalRuns","transaction_ids","buy_price","price","isSold","timeMachineEnabled","recoverFromError","errorCode","makeDelay","clearProposals","Purchase","isSellAvailable","isExpired","isSellAtMarketAvailable","NOT_OFFERED","delay_index","onContractSold","sell_response","sold_for","sell","waitForAfter","sellContractAndGetContractInfo","error","sell_error","proposal_open_contract_response","sell_price","errors_to_ignore","error_code","Sell","expectedContractId","setContractFlags","broadcastContract","clearTimeout","updateTotals","afterPromise","is_expired","is_valid_to_sell","is_sold","entry_tick","Boolean","hasEntryTick","bidPrice","bid_price","buyPrice","getRoundedNumber","OpenContract","trade_option","isNewTradeOption","proposal_templates","tradeOptionToProposal","to_buy","ask_price","requestProposals","has_informed_error","push","passthrough","findIndex","template","some","value","Proposal","stopMonitor","monitor","ticks_list","raw","last_tick","getLastDigitsFromList","dir","getDirection","candleInterval","index","msg","expectPositiveInteger","sessionRuns","sessionProfit","register","clearStatistics","bind","sellPrice","profit","win","accountStat","getAccountStat","PROFIT","LOST","tradeOption","limitations","maxLoss","maxTrades","sleep","arg","getInterface","getDetail","createDetails","init","start","stop","purchase","getAskPrice","getPayout","payout","sellAtMarket","getSellPrice","isResult","result","isTradeAgain","readDetails","getBotInterface","getToolsInterface","getTicksInterface","watch","alert","prompt","toLocaleTimeString","JSInterpreter","takeStateSnapshot","cloneThorough","stateStack","restoreStateSnapshot","snapshot","global","initFunc_","botInitialized","bot","shouldRestartOnError","errorName","unrecoverable_errors","includes","onFinish","Interface","interpreter","revert","paused_","loop","run","pseudoToNative","createAsync","js_interpreter","func","asyncFunc","pop","reversed_args","reverse","first_defined_arg_idx","function_args","rv","nativeToPseudo","defineProperty","MAX_ACCEPTABLE_FUNC_ARGS","createAsyncFunction","initFunc","bot_interface","custom_console","ticks_interface","setProperty","pseudo_bot_interface","entries","startState","beforeState","duringState","terminateSession","is_error_triggered","unsubscribeFromTicksService","clearSubscriptions","global_timeouts","is_timeouts_cancellable","keys","timeout","is_cancellable","shouldStopOnError","botStarted","terminateConnection","terminate","workspace","before_run_funcs","public_path","api_helpers_store","is_mobile","getSavedWorkspaces","recent_files","__webpack_public_path__","ApiHelpers","setInstance","window_width","innerWidth","workspaceScale","handleFileChange","document","getElementById","offsetWidth","el_scratch_div","inject","media","trashcan","zoom","wheel","startScale","scrollbars","cached_xml","main","main_xml","addChangeListener","valueInputLimitationsListener","event","updateDisabledBlocks","dispatchBlockEventEffects","addBeforeRunFunction","unselectBlocks","disableStrayBlocks","checkForErroredBlocks","checkForRequiredBlocks","current_strategy_id","utils","genUid","strategy_to_load","mainWorkspace","file_name","default_file_name","latest_file","xml","event_group","now","Events","setGroup","Xml","domToWorkspace","textToDom","save_modal","updateBotName","cleanUp","clearUndo","dispatchEvent","Event","addEventListener","DBot","handleDragOver","handleDropOver","parentNode","overflow","saveWorkspaceToRecent","workspaceToDom","save_types","UNSAVED","generateCode","Interpreter","setIsRunning","stopBot","JavaScript","workspaceToCode","selected","unselect","getTopBlocks","isMainBlock","isIndependentBlock","disableBlocksRecursively","setDisabled","nextConnection","targetConnection","sourceBlock_","error_blocks","getAllBlocks","is_error_highlighted","disabled","self","error_message","centerOnBlock","should_animate","block_to_highlight","setErrorHighlighted","blink","hasAllRequiredBlocks","isAllRequiredBlocksEnabled","force_check","isDragging","hideChaff","END_DRAG","BLOCK_DELETE","BLOCK_CREATE","UI","element","BLOCK_CHANGE","blockId","inputList","connection","target_block","targetBlock","isChangeInMyInputs","parent_block","getParent","isParentEnabledEvent","unhighlightRecursively","child_blocks","child_block","getChildren","getRequiredValueInputs","required_inputs_object","should_highlight","input_name","is_selected","is_disabled","getInheritedDisabled","isCollapsed","hasErrorHighlightedDescendant","getInput","domToMutation","order","ORDER_ATOMIC","valueToCode","inputValidatorFn","warn","removeSelect","current_collapsed_block","setCollapsed","notify_blocks","strategy_sounds","selected_sound","fieldRow","value_","stopPropagation","preventDefault","dataTransfer","dropEffect","main_workspace_dom","local_drag_zone","contains","target","effectAllowed","common_store","clock_started","pending","NetworkMonitor","apiInstance","parentElement","addEvents","navigator","setStatus","onLine","setInterval","html","ping","PendingPromise","server_time","clone","timePromise","getContractTypeName","opposites","opposites_name","contract_type_obj","contract_type_names","shortcode_suffix","shortcode","is_risefall","importExternal","script","createElement","src","async","onload","external_global_component","onerror","appendChild","timeSince","timestamp","secondPast","minutePast","hourPast","timestampDate","day","getDate","month","toDateString","match","year","getFullYear","setColors","is_dark_mode","Colours","RootBlock","colour","colourSecondary","colourTertiary","Base","Special1","Special2","Special3","lightMode","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","getFirestore","getStorage","showInvalidStrategyError","readStorage","xmlFileRef","ref","getDownloadURL","xmlString","DOMParser","parseFromString","getElementsByTagName","blockConversion","BlockConversion","convertStrategy","blockly_xml","querySelectorAll","block_type","getAttribute","Blocks","is_collection","hasAttribute","removeLimitedBlocks","xml_block","loadBlocks","loadWorkspace","CRYPTO_CURRENCIES","lists","PAYOUTTYPE","DETAILS","CHECK_RESULT","CHECK_DIRECTION","BALANCE_TYPE","NOTIFICATION_TYPE","NOTIFICATION_SOUND","CURRENCY","MULTIPLIER","MULTUP","MULTDOWN","CALLPUT","CALL","PUT","CALLPUTEQUAL","CALLE","PUTE","HIGHERLOWER","TOUCHNOTOUCH","ONETOUCH","NOTOUCH","ENDSINOUT","EXPIRYRANGE","EXPIRYMISS","STAYSINOUT","RANGE","UPORDOWN","ASIANS","ASIANU","ASIAND","MATCHESDIFFERS","DIGITMATCH","DIGITDIFF","EVENODD","DIGITEVEN","DIGITODD","OVERUNDER","DIGITOVER","DIGITUNDER","HIGHLOWTICKS","TICKHIGH","TICKLOW","RESET","RESETCALL","RESETPUT","RUNS","RUNHIGH","RUNLOW","CALLPUTSPREAD","CALLSPREAD","PUTSPREAD","BARRIER_TYPES","ohlcFields","candleIntervals","mainBlocks","mandatoryMainBlocks","procedureDefinitionBlocks","single_instance_blocks","TRADE_TYPE_TO_CONTRACT_CATEGORY_MAPPING","callput","asian","digits","TRADE_TYPE_CATEGORIES","multiplier","touchnotouch","inout","reset","callputspread","highlowticks","runs","TRADE_TYPE_CATEGORY_NAMES","BARRIER_CATEGORIES","euro_atm","euro_non_atm","american","non_financial","lookback","DEFAULT_DURATION_DROPDOWN_OPTIONS","BARRIER_LABELS","ABSOLUTE_BARRIER_DROPDOWN_OPTION","NOT_AVAILABLE_DROPDOWN_OPTIONS","NOT_AVAILABLE_DURATIONS","display","unit","min","BARRIER_TRADE_TYPES","PREDICTION_TRADE_TYPES","DIGIT_CATEGORIES","INDEPEDENT_BLOCKS","bbResult","macdFields","gd","discovery_docs","workspaces","flyoutWorkspacesStartScale","mainWorkspaceStartScale","previewWorkspaceStartScale","strategies","martingale","label","description","dalembert","oscars_grind","message_types","freeze","ERROR","NOTIFY","SUCCESS","error_types","RECOVERABLE_ERRORS","UNRECOVERABLE_ERRORS","LOAD_BLOCK","WELCOME_BACK","LOCAL","GOOGLE_DRIVE","blocks_pending_reconnect","createWorkspace","workspace_variables","has_market_block","generateGrowingListBlock","block_node","variable_name","child_value_input_name","newBlock","block_child_nodes","children","mutation_dom","child_node","tagName","toLowerCase","items_amount","onIconClick","value_input_name","value_input_index","value_block_node","value_block","convertBlockNode","statement_block","getBlocksInStatement","connect","outputConnection","removeChild","variable","generateUniqueVariable","variable_block","setFieldValue","getId","block_to_attach","statement_blocks","generateIndicatorBlock","value_input_name_mappings","input_list","old","new","period","fast_ema_period","signal_ema_period","slow_ema_period","std_dev_multiplier_up","std_dev_multiplier_down","bb_result_list","getField","setValue","getFieldValue","macd_fields_list","required_child_blocks","required_child_block_name","getLastConnectionInStatement","previousConnection","block_in_statement","value_name_mappings","value_name_mapping","el_value","querySelector","value_input","el_value_child","converted_block","setShadow","is_symbol_type","block_node_to_use","barrier_inputs","has_prediction","block_child_node","createBarrierInputs","allow_both_types","createPredictionInput","field_name","lists_create_with","market","text_join","trade","block_fields","trade_definition_market","trade_definition_tradetype","trade_definition_contracttype","trade_definition_candleinterval","trade_definition_restartbuysell","trade_definition_restartonerror","blocks_to_connect","child_block_name","illegal_blocks","active_symbols","active_symbol","symbol_name","Options","el_injection_div","DocumentFragment","createVirtualWorkspace_","el_block","el_field","textContent","current_previous_connection","previous_block","getPreviousBlock","getSurroundParent","renamed_fields","MARKET_LIST","volidx","TRADETYPECAT_LIST","endsinout","staysinout","callputequal","TRADETYPE_LIST","risefall","risefallequals","innerText","old_name","trade_definition_block","getTradeDefinitionBlock","has_initialization_block","last_connection","unplug","current_name","counter","ws_variable","Variables","getOrCreateVariablePackage","id_","strategy_node","showIncompatibleStrategyDialog","disable","updateRenamedFields","enable","getIllegalBlocks","illegal_block_type","variable_nodes","block_nodes","strategy_child_node","nodeName","registerVariables","el_variables","el_variable","variable_id","previous_sibling_id","previous_sibling_block","sibling_previous_connection","sibling_previous_target_connection","highest_previous_connection","naivelyFixLegacyStrategyAfterConversion","initSvg","render","converted_xml","setAttribute","conversions","getConversions","is_old_block","is_collapsed","is_immovable","is_undeletable","setBlockAttributes","setMovable","setDeletable","conversion_obj","previous_connection","getClosestLegalPreviousConnection","conversion_parent","el_block_child","FieldVariable","processValueInputs","statement_name","processStatementInputs","closest_statement","closest","el_sibling_block","sibling_block","is_minimised","comment_text","comment","ScratchBlockComment","iconXY_","y","setVisible","el_input","el_input_child_block","input_child_block","el_node_with_children","block_to_use","statement_input","supposed_parent_block","useless_block","getInputTargetBlock","current_block","getFirstBlockInStack","is_protected_statement","isConnectedToProtectedStatementInput","new_parent","target_connection","getInputWithConnection","protected_statements","require","goog","defineContract","blueInfo","sellContract","finishSign","plusIconDark","plusIconLight","minusIconDark","procedures_defnoreturn","arguments","argument_var_models","jsonInit","definition","setValidator","Procedures","rename","fieldImage","FieldImage","onAddClick","appendDummyInput","appendField","setStatements","message0","function_name","function_params","args0","tooltip","category","Categories","Functions","meta","display_name","onchange","allowedEvents","isFlyout","getProcedureCallers","newValue","readOnly","isInFlyout","promptMessage","paramName","setText","join","setProcedureParameters","hasStatements","appendStatementInput","moveInputBefore","removeInput","updateParams","paramString","mutationToDom","optParamIds","container","parameter","paramIds","xmlElement","childNodes","childNode","var_name","var_id","getProcedureDef","callType","getVars","getVarModels","customContextMenu","option","enabled","xmlMutation","argumentName","xmlArg","xmlBlock","ContextMenu","callbackFactory","argumentVarModel","getOption","xmlField","generateVariableFieldDom","xmlOptionBlock","functionName","variableDB_","getName","NAME_TYPE","branch","statementToCode","STATEMENT_PREFIX","prefixLines","INDENT","INFINITE_LOOP_TRAP","returnValue","ORDER_NONE","scrub_","definitions_","procedures_defreturn","dummy","message1","args1","check","align","ALIGN_RIGHT","renameVarById","displayRenamedVar","registerWorkspaceListener","procedures_callnoreturn","previousDisabledState","previousStatement","nextStatement","recordUndo","ids","indexOf","getProcedureCall","def","getDefinition","defType","group","xy","getRelativeToSurfaceXY","SNAP_RADIUS","RTL","mutation","createTextNode","procedure_definition","dispose","oldGroup","getGroup","getProcedureDefinition","tuple","Names","equals","renameProcedure","oldName","newName","paramNames","concat","updateShape","FieldLabel","appendValueInput","topRow","removeField","select","ORDER_COMMA","procedures_callreturn","output","outputShape","OUTPUT_SHAPE_ROUND","ORDER_FUNCTION_CALL","procedures_ifreturn","hasReturnValue","condition","legal","FUNCTION_TYPES","rerender","allowed_children","field_image","List","runGroupedEvents","required_parent_id","runIrreversibleEvents","elements","isArray","lists_repeat","input_item","number","ITEM","emptyTextValidator","NUM","provideFunction_","FUNCTION_NAME_PLACEHOLDER_","repeat_count","lists_length","VALUE","list","ORDER_MEMBER","lists_isEmpty","getAllVariables","ORDER_LOGICAL_NOT","lists_indexOf","first_or_last","input_value","FIND","operator","item","oneBasedIndex","ORDER_ADDITION","lists_getIndex","MODE_OPTIONS","WHERE_OPTIONS","modeMenu","FieldDropdown","isStatement","updateStatement","setCheck","setColourFromRawValues_","setTooltip","setOutput","setOutputShape","updateAt","isAt","INPUT_VALUE","newStatement","setPreviousStatement","setNextStatement","menu","newAt","where","listOrder","at","getAdjusted","lists_setIndex","ORDER_ASSIGNMENT","cacheList","listVar","getDistinctName","ORDER_SUBTRACTION","xVar","lists_getSublist","WHERE_OPTIONS_1","WHERE_OPTIONS_2","isAt1","isAt2","at1","at2","where1","where2","where_pascal_case","FROM_START","FROM_END","FIRST","LAST","getIndex","list_name","opt_at","has_at1","has_at2","lists_split","dropdown","newMode","updateType","delimInput","spaceField","insertFieldAt","delimiter","lists_sort","sort_type","sort_direction","LIST","direction","getCompareFunctionName","lists_statement","required_parent_type","surround_parent","original_parent","controls_repeat_ext","Loop","TIMES","repeats","String","loopVar","endVar","isNumber","controls_repeat","precision","controls_whileUntil","while_or_until","boolean","BOOL","until","argument0","maxLoopVar","currentLoopVar","controls_for","start_number","end_number","step_size","FROM","TO","BY","variable0","argument1","increment","addLoopTrap","up","parseFloat","step","abs","assignment","statement","startVar","incVar","incVal","controls_forEach","indexVar","controls_flow_statements","break_or_continue","keyword","variables_get","VAR_RENAME","function_blocks","category_","old_param","new_param","param_index","variables_set","varName","after_purchase","width","height","alt","class","After_Purchase","stack","contract_check_result","win_or_loss","top_parent","getTopParent","checkWith","read_details","contract_detail","restricted_parents","detailIndex","trade_again","key_words","before_purchase","Before_Purchase","populatePurchaseList","menuGenerator_","trade_type","getChildByType","purchase_type_list","purchase_type","getValue","contract_type_options","getContractTypeOptions","updateOptions","default_value","should_pretend_empty","purchaseList","enforceLimitations","during_purchase","During_Purchase","sell_at_market","check_sell","bb_statement","band_type","Indicators","bb_result","childValueToCode","std_dev_up","std_dev_down","bba_statement","ema_statement","emaa_statement","rsi_statement","rsia_statement","sma_statement","smaa_statement","macda_statement","macd_field","setParentId","allowed_parents","has_parent","is_illegal_parent","INPUT_LIST","input_period","PERIOD","input_number","UPMULTIPLIER","DOWNMULTIPLIER","FAST_EMA_PERIOD","SLOW_EMA_PERIOD","SIGNAL_EMA_PERIOD","Tick_Analysis","tick_string","parent","ticks_string","candle_interval_type","selectedGranularity","ohlc_values","candle_property","ohlcField","read_ohlc","CANDLEINDEX","get_ohlc","check_direction","direction_type","tick_analysis","last_digit","lastDigitList","is_candle_black","input_candle","Candle","OHLCOBJ","ohlcObj","ohlc_values_in_list","candle_list","OHLCLIST","ohlcList","read_ohlc_obj","Miscellaneous","balanceType","barrier_offset","block_holder","loader","blocks_added_by_me","current_url","input_url","loader_block","loadBlocksFromCurrentUrl","oldValue","isValidUrl","isKnownUrl","loadBlocksFromRemote","log_type","error_msg","notification_type","notification_sound","input_message","MESSAGE","notificationType","sound","message_block","getVariableById","notify_telegram","input_access_token","input_chat_id","TELEGRAM_ACCESS_TOKEN","TELEGRAM_CHAT_ID","TELEGRAM_MESSAGE","total_profit","getRootInputTargetBlock","total_profit_string","total_runs","message_type","console_type","Time","stack_input","SECONDS","seconds","todatetime","input_timestamp","TIMESTAMP","invalid_timestamp","totimestamp","input_datetime","DATETIME","trade_definition","message2","message3","message4","message5","args2","args3","args4","args5","Trade_Definition","blocks_in_trade_options","is_logged_in","account","getToken","market_block","trade_type_block","contract_type_block","candle_interval_block","restart_on_error_block","restart_on_buy_sell_block","candle_interval","should_restart_on_error","should_restart_on_buy_sell","contract_type_list","toUpperCase","opposite","initialization","trade_options_statement","input_market","input_submarket","input_symbol","is_allowed_event","event_name","market_dropdown","submarket_dropdown","symbol_dropdown","submarket","market_options","getMarketDropdownOptions","populateMarketDropdown","getSubmarketDropdownOptions","getSymbolDropdownOptions","getRootBlock","isEmpty","isDescendantOf","trade_type_category","contracts_for","trade_type_cat","getTradeTypeCategories","categories","trade_type_cat_field","getTradeTypes","trade_types","is_load_event","checkbox","checked","required_inputs","trade_definition_tradeoptions","durations","is_stake","duration_unit","duration_value","getCurrencyDisplayCode","selected_block","parentBlock_","input_target","startsWith","new_value","selected_symbol","selected_market","selected_trade_type_category","selected_trade_type","selected_duration","selected_barrier_types","setCurrency","updateAmountLimits","updateBarrierInputs","updateDurationInput","updatePredictionInput","enforceSingleBarrierType","fake_creation_event","Create","fire","prediction_range","prediction_input","shadow_block","barriers","input_names","account_limits","landing_company_shortcode","getStakePayoutLimits","limits","amount_limits","max_payout","min_stake","should_use_default_unit","should_update_value","multiplier_block","parent_connection","child_connection","stake_input","stake_shadow_block","take_profit_block","take_profit_input","take_profit_shadow_block","stop_loss_block","stop_loss_input","stop_loss_shadow_block","getDurations","duration_field_dropdown","duration_input","duration_options","duration","isShadow","min_duration","should_use_default_type","should_use_default_values","getBarriers","barrier_field_dropdown","barrier_field_value","allow_absolute_type","barrier_value","should_use_default_value","getPredictionRange","initial_prediction","max","barrier_input_name","should_force_distinct","other_barrier_input_name","other_barrier_field","has_other_barrier","other_barrier_type","other_barrier_value","has_first_barrier","has_second_barrier","currency_field","AMOUNT","DURATION","is_valid_duration","trade_definition_tradeoptions_payout","prediction_value","barrier_offset_value","second_barrier_offset_value","amount","duration_type","decimal_places","getDecimalPlaces","stake_amount","getBarrierValue","barrier_offset_type","trade_definition_multiplier","validateBlocksInStatement","blocks_in_multiplier","block_types_in_multiplier","block_multiplier_take_profit","block_multiplier_stop_loss","Set","selected_multiplier","updateMultiplierInput","duration_block","duration_shadow_block","getMultiplierRange","multiplier_range","multiplier_list_dropdown","multiplier_options","setContractUpdateConfig","multiplier_value","stop_loss","take_profit","limit_order","multiplier_stop_loss","multiplier_take_profit","logic_compare","Logic","A","B","EQ","NEQ","LT","LTE","GT","GTE","ORDER_EQUALITY","ORDER_RELATIONAL","controls_if","value_connections","statement_connections","else_statement_connection","else_if_count","else_count","rebuildShape","getIfInputNames","if_input","IF","do_input","DO","reconnectChildBlocks","update","updateFn","old_mutation_dom","old_mutation","domToText","is_rendered","rendered","call","new_mutation_dom","new_mutation","change_event","BlockChange","bumpNeighbours_","BUMP_DELAY","IF_LABEL","THEN_LABEL","DELETE_ICON","j","modifyElseIf","modifyElse","storeConnections","else_input","opt_value_conns","opt_statement_conns","opt_else_statement_conns","value_connection","statement_connection","Mutator","reconnect","is_add","opt_idx","idx","logic_boolean","logic_operation","selectedOperator","ORDER_LOGICAL_AND","ORDER_LOGICAL_OR","logic_null","logic_ternary","return_value","THEN","ELSE","valueIf","ORDER_CONDITIONAL","valueThen","valueElse","logic_negate","math_change","Mathematical","DELTA","math_constant","constant","ORDER_DIVISION","math_constrain","low_number","high_number","LOW","HIGH","argument2","math_modulo","number1","number2","DIVIDEND","DIVISOR","ORDER_MODULUS","math_number","numberValidator","MAX_SAFE_INTEGER","math_number_positive","math_number_property","setOnChange","hasDivisorInput","toolip","divisorInput","inputExists","NUMBER_TO_CHECK","property","divisor","math_on_list","calculation","type_list","childBlocks_","operation","math_random_float","math_random_int","math_round","math_arithmetic","ADD","MINUS","MULTIPLY","ORDER_MULTIPLICATION","DIVIDE","POWER","math_single","ORDER_UNARY_NEGATION","math_trig","Text","quote_","text_block","text_statement","stack_blocks","getMainWorkspace","text_append","input_text","TEXT","forceString","text_length","text_isEmpty","text_indexOf","input_text1","input_text2","cateogry","substring","text_charAt","AT","textOrder","text_getSubstring","position1","index1","position2","index2","is_at","old_label_text","text_","new_input","new_at","hasInput","STRING","AT1","AT2","string_name","text_changeCase","transform_type","UPPERCASE","LOWERCASE","TITLECASE","text_trim","side","LEFT","RIGHT","BOTH","text_print","text_prompt_ext","string_or_number","is_dark_mode_on","dashboard","flyout","toolbar","toolbox","load_modal","toggleStrategyModal","setLoading","reaction","createNewInstance","singleton","BlockSvg","MIN_BLOCK_X_WITH_STATEMENT","GRID_UNIT","START_HAT_PATH","CORNER_RADIUS","EXTRA_STATEMENT_ROW_Y","EDITABLE_FIELD_PADDING","prototype","updateColour","strokeColour","getColourTertiary","renderShadowed","scratchBlocksUtils","isShadowArgumentReporter","FieldColour","FieldColourSlider","colourPickerStroke","svgPath_","fillColour","getColour","isGlowingBlock_","getShadowColour","getColourSecondary","getOpacity","outlinePath","icons","getIcons","computeOutputPadding_","input_rows","getOutputShape","row","shape","paddingStart","paddingEnd","otherShape","firstInput","inputConnection","getSourceBlock","OUTPUT_SHAPE_HEXAGONAL","deltaHeight","renderHeight","MIN_BLOCK_Y_REPORTER","SHAPE_IN_SHAPE_PADDING","lastInput","addSelect","setVisibility","addClass","svgGroup_","superClass_","updateDisabled","disabledPatternId","removeClass","child","showContextMenu_","contextMenu","menu_options","isDeletable","isMovable","blockDuplicateOption","blockDetachOption","isEditable","comments","blockCommentOption","blockDeleteOption","isShadow_","collapse","collapsed_","expand_option","collapse_option","is_trade_parameter","disable_option","restricted_parent","has_next_block","isConnected","downloadBlock","should_delete_next","block_xml","blockToDom","deleteNext","save","blockEnableOption","blockDisableOption","show","currentBlock","should_be_error_highlighted","highlight_class","highlight_block_class","hasClass","blink_class","collapsed","userAgent","search","getAllFields","forceRerender","render_list","COLLAPSED_INPUT_NAME","visibility","icon","field_class","class_","dropdown_path","pathToMedia","isDarkRgbColour","field_expand_icon","COLLAPSE_CHARS","field_label","setWarningText","blocksCoordinate","getCanvas","asserts","assert","isInsertionMarker","initOutlinePath","createIcon","updateMovable","eventsInit_","bindEventWithChecks_","getSvgRoot","onMouseDown_","Connection","DRAG_RADIUS","FLYOUT_DRAG_RADIUS","Css","CONTENT","dropDownShadow","fieldShadow","motion","tertiary","secondary","primary","optAlt","optOnClick","optFlipRtl","height_","width_","size_","math","Size","flipRtl_","tooltip_","clickHandler_","inherits","Field","fromJson","replaceMessageReferences","flipRtl","EDITABLE","fieldGroup_","createSvgElement","visible_","imageElement_","src_","Tooltip","bindMouseEvents","maybeAddClickHandler_","dom","removeNode","mouseDownWrapper_","cursor","newTip","setAttributeNS","getFlipRtl","render_","updateWidth","showEditor_","FieldTextInput","notInShadow","className_","maxDisplayLength","box_","rx","ry","stroke","insertBefore","textElement_","Gesture","updateIsDraggingFromFlyout_","targetBlock_","flyout_","isScrollable","isDragTowardWorkspace","currentDragDeltaXY_","startWorkspace_","targetWorkspace_","updateScreenCalculationsIfScrolled","startBlock_","createBlock","mostRecentEvent_","Icon","renderIcon","cursorX","collapseHidden","block_","iconGroup_","newCursorX","SIZE","computeIconLocation","SEP_SPACE_X","Block","Dimensions","getDisplayName","block_meta","getSiblings","siblings","getDescendants","getChildFieldValue","childType","childField","childBlock","statementInputName","firstBlock","statement_input_name","first_block_in_stack","lastConnectionInStack","isEnabled","parentBlock","nextParent","getDimensions","existing_dimensions_key","outer_html","outerHTML","svg","createDom_","createMainWorkspace_","block_hw","domToBlock","getHeightWidth","current_input","getInputWithBlock","hasHighlightedDescendant","is_self_highlighted","is_descendant_highlighted","isDynamic","duplicate_","wsCleanupOption","ws","numTopBlocks","wsCollapseOption","hasExpandedBlocks","topBlocks","toggleCollapseFn_","wsExpandOption","hasCollapsedBlocks","blocks","shouldCollapse","wsDeleteOption","delete_list","WorkspaceSvg","buildDeleteList_","delete_count","shift","currentGesture_","cancel","confirm","comment_option","IE","setCommentText","canDisconnect","getConnections_","moveBy","checkAreSomeEnabled","enabledArr","checkAreSomeDisabled","disabledArr","enableBlocksRecursively","DataCategory","variableModelList","getVariablesOfType","xmlList","addCreateVariable","generateVariableFieldXmlString","variableModel","string","htmlEscape","firstVariable","gap","setBlockText","setBlock","firstChild","sort","first_variable","second_variable","getBlockText","getBlock","el_button_xml","createDom","el_input_xml","button_text","callback_key","input_placeholder","registerButtonCallback","button","getTargetWorkspace","createVariable","refreshCategory","dropdown_options","DropDownDiv","isVisible","hideWithoutAnimation","previous_value","has_default_value","runInvisibleEvents","should_trigger_event","arrowSize_","arrowX_","arrowY_","arrow_","disableColourChange_","FieldCheckbox","getAltText","is_checked","old_value","el_field_group","Flyout","original_block","main_workspace","variables_before_creation","setResizesEnabled","new_block","placeNewBlock_","new_variables","getAddedVariables","ws_block","new_variable","VarCreate","autoClose","hide","setIsSearchFlyout","old_block","main_offset_pixels","getOriginOffsetInPixels","old_block_pos_pixels","Coordinate","clientX","clientY","final_offset_main_ws","difference","scale","flyoutCategory","nameField","allProcedures","populateDynamicProcedures","populateProcedures","procedureList","templateName","isNameUsed","optExclude","procName","WorkspaceDragger","drag","currentDragDeltaXY","workspace_","metrics","startDragMetrics_","newXY","startScrollXY_","contentLeft","contentTop","viewWidth","contentWidth","viewHeight","contentHeight","updateScroll_","Workspace","wait_events","undoStack_","redoStack_","setHasRedoStack","setHasUndoStack","clearPendingUndo","fireChangeListener","MAX_UNDO","unshift","listeners_","listener","waitForBlockEvent","opt_event_type","event_promise","event_type","isPending","wait_event","is_same_block_type","is_same_event_type","splice","is_ordered","fields","MouseEvent","cachedParentSvg_","constructor","gesture","getGesture","handleWsStart","scrollbar","heightWidth","blockCenterY","blockCenterX","pixelX","pixelY","getMetrics","scrollToBlockX","scrollToBlockY","scrollToCenterX","scrollToCenterY","addBlockNode","getFlyout","top_blocks","last_block","last_block_xy","extra_spacing","startHat_","START_HAT_HEIGHT","svgResize","blocks_to_clean","is_import","root_blocks","blockIndex","main_block_type","blocks_per_column","ceil","original_cursor_y","column_index","cursor_x","cursor_y","fat_neighbour_block","position_x","MIN_BLOCK_X","snapToGrid","MIN_BLOCK_Y","lowest_root_block","getTopLevelWorkspaceMetrics_","toolbox_dimensions","getDimensionsPx_","toolbox_","flyout_dimensions","svg_size","svgSize","getParentSvg","toolboxPosition","TOOLBOX_AT_TOP","TOOLBOX_AT_BOTTOM","TOOLBOX_AT_LEFT","TOOLBOX_AT_RIGHT","content_dimensions","getContentDimensions_","absolute_left","absolute_top","top","left","viewTop","scrollY","viewLeft","scrollX","absoluteTop","absoluteLeft","toolboxWidth","toolboxHeight","flyoutWidth","flyoutHeight","paste","pasteWorkspaceComment_","pasteBlock_","all_blocks","wsUndoOption","wsRedoOption","has_collapsed_blocks","has_expanded_blocks","workspaceCommentOption","disposeFn","svgBlockCanvas_","svgBubbleCanvas_","zoomControls_","audioManager_","grid_","toolboxCategoryCallbacks_","flyoutButtonCallbacks_","parentWorkspace","resizeHandlerWrapper_","unbindEvent_","asyncClear","clear","HOVER_MS","show_","params","DIV","poisonedElement_","element_","blocked_","innerHTML","wrap","LIMIT","param","div","text_span","verticalAlign","img","img_span","paddingRight","client_width","documentElement","clientWidth","client_height","clientHeight","visible","last_x","lastX_","OFFSET_X","last_y","lastY_","OFFSET_Y","offsetHeight","MARGINS","showPid_","fragment","blockDragSurface","workspaceDragSurface","zoomOptions","bubble_","setColour","VariableMap","opt_type","opt_id","opt_is_local","opt_is_cloud","getVariable","optional_id","optional_type","VariableModel","variableMap_","allUsedVarModels","variableHash","create","blockVariables","blockVariable","variableList","WorkspaceAudio","preload","NODE_BLOCK","NODE_BUTTON","NODE_LABEL","NODE_SHADOW","NODE_INPUT","saveAs","filename","blob","Blob","filesaver","contract_options","updateWorkspaceName","bot_name","title","string_to_replace","substr","new_document_title","collection","xmlDom","domToPrettyText","load","block_string","drop_event","strategy_id","is_user_disabled_state","added_blocks","blockly_metrics","scale_cancellation","blockly_left","blockly_top","cleanUpOnLoad","has_possible_missing_index_xml","onFetchError","xml_string","addLoaderBlocksFirst","addDomAsBlock","loadBlocksFromHeader","promises","remove","domToVariables","block_conversion","el","blocks_in_workspace","mandatory_tradeoptions_block","required_block_types","all_block_types","enabled_blocks_types","required_type","scrollWorkspace","scroll_amount","is_horizontal","is_chronological","ws_metrics","scroll_x","scroll_y","use_existing_group","callbackFn","opt_group_name","should_disable","string_rgb","rgb","ActiveSymbols","trading_times","sortDropdownOptions","closedFunc","is_a_closed","is_b_closed","disabled_markets","disabled_symbols","disabled_submarkets","init_promise","is_initialised","processed_symbols","is_forced_update","initialise","authorized","activeSymbols","processActiveSymbols","onMarketOpenCloseChanged","changes","symbol_obj","exchange_is_open","isExistingValue","prop","market_display_name","submarkets","submarket_display_name","symbols","pip_size","pip","is_active","is_trading_suspended","should_be_open","all_symbols","market_name","isMarketClosed","submarket_name","market_display","submarket_display","symbol_display","market_option","sorted_options","submarket_options","market_obj","isSubmarketClosed","symbol_options","accumulator","symbol_display_name","isSymbolClosed","REQUESTS","getRequestType","req_type","measures","is_bot_running","measure","datadogLogs","logger","startTime","startTimeDate","detail","isBotRunning","defineMeasure","res_type","performance","mark","getEntriesByName","clearMarks","sendIsCalled","response_promise","res","sendRequestsStatistic","clearMeasures","debounced_calls","addGlobalMethod","getLoginId","login_id","localStorage","getItem","account_id","is_running","time_interval","has_activeSymbols","reconnectIfNotConnected","readyState","getActiveSymbols","toExponential","toggleRunButton","toggle","run_button","socket_url","deriv_socket","force_update","getSocketURL","getAppId","getLanguage","website_name","WebSocket","DerivAPIBasic","middleware","APIMiddleware","initEventListeners","authorizeAndSubscribe","clearInterval","disconnect","active_loginid","client_accounts","active_account","authorize","expectResponse","s","_","time","AccountLimits","landing_company_details","landing_company","currency_config","TradingTimes","ContractsFor","cache_age_in_min","disabled_options","retrieving_contracts_for","barrier_types","barrier_props","getContractsByTradeType","contracts_for_category","offset_regexp","RegExp","isOffset","has_absolute_default_value","barrier_type","has_selected_offset_type","real_trade_type","getContractCategoryByTradeType","barrier_category","has_matching_category","contract_category","has_matching_duration","has_matching_barrier_category","has_matching_barrier_type","barrier","high_barrier","barrier_prop_name","barrier_match","assign","expiry_type","getTradeTypeCategoryByTradeType","getContractsFor","contracts","getBarrierCategoryByTradeType","has_matching_barrier","getContractsForFromApi","available","filtered_contracts","start_type","unix","convert_day_to_hours","getDurationIndex","convertDuration","unit_to_convert","duration_index","target_index","default_duration","converted_duration","min_contract_duration","max_contract_duration","start_index","end_index","day_duration_index","subcategory","last_digit_range","trade_type_options","trade_type_category_name","getTradeTypeCategoryNameByTradeType","getTradeTypeByTradeCategory","isDisabledOption","subcategories","has_durations","types","trade_type_categories","category_names","compare_obj","disabled_obj","last_update_moment","local","updateTradingTimes","periodicUpdate","updateMarketOpenClosed","next_update_date","nextUpdateDate","now_moment","next_update_moment","add","isAfter","is_open_map","is_opened","hour","minute","second","toDate","wait_period","update_timer","last_update_date","format","tradingTimes","date_str","toISOString","getUTCDate","markets","processed_times","times","is_open_all_day","is_closed_all_day","calcIsMarketOpened","session","nextDate","symbol_names","className","extra","basis","prediction","selected_tick","barrierOffset","secondBarrierOffset","barrier2","isEmptyObject","tickOld","tickNew","number_string","promiseFn","recoverFn","details","updateErrorMessage","shouldThrowError","recoverResolve","getGlobalTimeouts","setState","next_delay_in_seconds","logError","delay","req_id","getBackoffDelayInMs","findValueByKeyRecursively","repeatFn","formatTime","entry_tick_time","exit_tick_time","exit_tick","random","xmlOrFolderPath","save_type","isApolloBots","updateListStrategies","workspace_id","current_xml","current_timestamp","current_workspace_index","current_workspace","localForage","LZString","decompress","removeExistingWorkspace","eam","_action","once","unregisterIfError","unregisterAllBefore","unregisterAll","apiError","unregister","unreg","actionList","searchBy","_resolve","_reject","onWorkspaceResize","block_types","path","getUrlBase","l","location","pathname","get_path","getImageLocation","image_name","setSmartChartsPublicPath","createContext","QueryClient","useContext","StoreContext","useState","is_loading","setIsLoading","is_subscribed","setSubscribed","setError","setData","subscriber","useRef","WS","useWS","useCallback","props","current","useEffect","useSubscription","useStore","exchange_rates","base_currency","merge","BaseStore","onHydrationDone","makeObservable","observable","bound","unmount","makePersistable","properties","Function","stopPersisting","ExchangeRatesStore","FLAGS","foo","bar","baz","FeatureFlagsStore","flag","memoizedValue","useMemo","is_mock","feature_flags","Provider","tabs_title","WORKSPACE","CHART","DBOT_TABS","DASHBOARD","BOT_BUILDER","TUTORIAL","APOLLO_BOTS","TAB_IDS","AppStore","root_store","core","getErrorForNonEuClients","link","getErrorForEuClients","route","routes","traders_hub","handleErrorForEu","show_default_error","common","ui","toggleAccountsDialog","is_eu_country","showDigitalOptionsUnavailableError","showError","is_landing_company_loaded","should_show_eu_error","content_flag","ContentFlag","HIGH_RISK_CR","LOW_RISK_CR_EU","is_bot_allowed","is_eu","isEuResidenceWithOnlyVRTC","active_accounts","is_options_blocked","has_error","onBeforeUnload","run_panel","is_stop_button_visible","onClickOutsideBlockly","composedPath","classList","showDigitalOptionsMaltainvestError","onMount","onUnmount","registerReloadOnLanguageChange","registerCurrencyReaction","registerOnAccountSwitch","registerLandingCompanyChangeReaction","registerResidenceChangeReaction","setDBotEngineStores","dbot_store","timer","blockly_store","timer_counter","initWorkspace","setContainerSize","getCachedActiveTab","when","terminateBot","save_workspace_interval","disposeReloadOnLanguageChangeReaction","disposeCurrencyReaction","disposeSwitchAccountListener","disposeLandingCompanyChangeReaction","disposeResidenceChangeReaction","removeEventListener","setAccountSwitcherDisabledMessage","setPromptHandler","current_language","reload","trade_options_block","switch_broadcast","retrieveActiveSymbols","disposeCache","fake_create_event","account_settings","country_code","quick_strategy","summary_card","loadDataStrategy","getSettingsFromLocal","getSetting","settings","storeSetting","setItem","removeKeyValue","BlocklyStore","active_tab","setActiveTab","tab","g_subscribers_map","ChartStore","is_chart_loading","chart_type","wsSubscribe","req","subscribeTicksHistory","wsForget","wsForgetStream","stream_id","forgetStream","wsSendRequest","ServerTime","getMarketsOrder","synthetic_index","has_synthetic_index","is_contract_ended","computed","onStartBot","onStopBot","updateSymbol","onSymbolChange","updateGranularity","updateChartType","setChartStatus","transactions","is_ended","TAB_LOCAL","TAB_GOOGLE","TAB_RECENT","clearInjectionDiv","el_ref","getElementsByClassName","content","step_index","onCloseTour","useDBotStore","React","has_image_loaded","setImageLoaded","tour_image","Image","color","line_height","onClick","as","weight","loading","Loading","content_text","current_target","setTourSettings","tour_type","getTourSettings","setTourType","tour_status_ended","tour","handleJoyrideCallback","joyride_props","showProgress","spotlightClicks","disableBeacon","disableOverlay","disableCloseOnEsc","DBOT_ONBOARDING","dashboard_tab_index","placement","Step1","show_label","Localize","i18n_default_text","components","Step1A","Step2","Step3","Step4","Step5","Step6","BOT_BUILDER_TOUR","BOT_BUILDER_MOBILE","header","DBOT_ONBOARDING_MOBILE","step_key","DashboardStore","active_tab_tutorials","active_tour_step_number","dialog_options","faq_search_value","getFileArray","has_builder_token","has_file_loaded","has_mobile_preview_loaded","has_onboarding_token","has_started_bot_builder_tour","has_started_onboarding_tour","has_tour_ended","has_tour_started","is_dialog_open","is_file_supported","is_info_panel_visible","is_preview_on_popup","is_tour_dialog_visible","show_toast","strategy_save_type","toast_message","setOpenSettings","setIsFileSupported","setTourActiveStep","setPreviewOnDialog","onLoadModalClose","setStrategySaveType","setHasTourEnded","setBotBuilderTokenCheck","setOnBoardingTokenCheck","setBotBuilderTourState","setPreviewOnPopup","setOnBoardTourRunState","setTourDialogVisibility","setTourActive","setFileLoaded","onCloseDialog","setActiveTabTutorial","setFAQSearchValue","showVideoDialog","setInfoPanelVisibility","onZoomInOutClick","is_zoom_in","addition","toggleOnConfirm","setTourEnd","isMobile","onTourEnd","initInfoPanel","previewRecentStrategy","current_workspace_id","refreshBotBuilderTheme","DataCollectionStore","IS_PENDING","IS_PROCESSED","endpoint","run_id","run_start","should_post_xml","strategy_content","cleanXmlDom","xml_dom","useless_attributes","updated_dom","cloneObject","removeAttributesRecursively","useless_attribute","removeAttribute","getHash","btoa","crc32","trackRun","trackTransaction","setRunId","setRunStart","setStrategyContent","isProduction","hostname","xml_hash","pako","getPayload","gzip","Referer","DownloadStore","getSuccessJournalMessage","onClickDownloadTransaction","transaction_csv_titles","date_start","transaction_csv_content","transaction_encoded_uri","encodeURI","transaction_link","click","onClickDownloadJournal","journal_csv_titles","journal","filtered_messages","array_message","date","journal_csv_content","journal_encoded_uri","journal_link","help_content_types","IMAGE","BLOCK","EXAMPLE","help_content_config","example_id","variables_gets","StaticUrl","href","pushDataLayer","onRunBot","onTransactionClosed","FlyoutHelpStore","css","move","sounds","examples","help_string","should_next_disable","should_previous_disable","active_helper","setHelpContent","setExamples","example_blocks","example","setFlyoutWidth","runInAction","is_help_content","help_strings","is_search_flyout","updateSequenceButtons","getHelpContent","target_blocks","xml_list_group","block_content","getFilledBlocksIndex","blocks_type","blocks_content","getNextHelpContentIndex","is_last","filled_blocks_index","setActiveHelper","onBackClick","onSequenceClick","initFlyoutHelp","getElementsByName","onSearch","should_go_next","xml_list","current_block_index","getNextBlock","current_index","is_next","next_index","next_blocks_type","next_filled_block","next_filled_block_index","next_block_type","getCategoryContents","selected_category","groupBy","last_filled_content_index","first_filled_content_index","nodes","should_include_block_only","block_group","node","all_examples","toolbox_examples","GTM","statistics","counters","number_of_runs","total_stake","total_payout","lost_contracts","won_contracts","is_completed","reference_id","refrence_id","_root_store","run_statistics","gtm","FlyoutStore","block_listeners","block_workspaces","flyout_min_width","flyout_content","flyout_width","is_visible","search_term","initFlyout","initBlockWorkspace","setContents","setSelectedCategory","getSelectedCategory","onClickOutsideFlyout","variables_blocks_count","first_get_variable_block_index","horizontalLayout","HorizontalFlyout","VerticalFlyout","targetWorkspace","getVariableMap","createPotentialVariableMap","el_block_workspace","block_svg_root","blockMouseDown_","bindEvent_","processed_xml","longest_block_width","is_search","is_flyout_click","is_search_focus","button_status","NORMAL","LOADING","COMPLETED","GoogleDriveStore","is_authorised","setKey","client_id","process","app_id","api_key","gapi","initialiseClient","google","accounts","oauth2","initTokenClient","updateSigninStatus","saveFile","loadFile","signIn","signOut","getPickerLanguage","checkFolderExists","createSaveFilePicker","createLoadFilePicker","showGoogleDriveFilePicker","bot_folder_name","google_auth","is_signed_in","requestAccessToken","setToken","revoke","removeItem","language","drive","files","pageSize","picker","pickerBackground","xml_doc","mime_type","file","mimeType","resource","setButtonStatus","Action","PICKED","folder_id","docs","strategy_file","strategy_file_metadata","parents","form_data","FormData","append","xhr","XMLHttpRequest","responseType","setRequestHeader","CANCEL","loadPickerCallback","fileId","is_save","docs_view","DocsView","setIncludeFolders","setMimeTypes","setSelectFolderEnabled","PickerBuilder","setOrigin","protocol","host","setTitle","setLocale","setAppId","setOAuthToken","addView","setDeveloperKey","setSize","setCallback","build","showErrorMessageWithButton","showErrorMessage","centerAndHighlightBlock","messageWithButton","unique_id","btn_text","parseArray","getStoredItemsByUser","storage_key","getStoredItemsByKey","session_storage_item","sessionStorage","decompressed_item","stored_items","setStoredItemsByKey","compressed_value","JournalStore","JOURNAL_CACHE","is_filter_dialog_visible","filters","journal_filters","unfiltered_messages","playAudio","play","shallow","toggleFilterDialog","onLogSuccess","onNotify","pushMessage","getServerTime","checked_filters","filterMessage","welcomeBackUser","registerReactions","disposeReactionsFn","dbot","is","NaN","message_length","parsedArray","arrayAsMessage","isCustomJournalMessage","parsed_message","formatDate","item_id","disposeWriteJournalMessageListener","stored_journals","unfiltered_message","disposeJournalMessageListener","LoadModalStore","recent_workspace","local_workspace","drop_zone","active_index","is_load_modal_open","is_explanation_expand","is_open_button_loading","loaded_local_file","recent_strategies","dashboard_strategies","selected_strategy_id","is_strategy_loaded","is_delete_modal_open","is_strategy_removed","getSelectedStrategyID","is_body","setLoadedLocalFile","getDashboardStrategies","readFile","refreshStrategiesTheme","strategy","selected_strategy","loadFileFromRecent","loadFileFromLocal","onActiveIndexChange","tab_name","onDriveConnect","google_drive","onEntered","setActiveTabIndex","preview_workspace","zoomCenter","setSelectedStrategyId","dark_mode","setRecentStrategies","refreshStrategies","toggleExplanationExpand","toggleLoadModal","toggleTourLoadModal","getRecentFileIcon","getSaveType","onToggleDeleteDialog","is_preview","reader","FileReader","load_options","readAsText","onDriveOpen","setDashboardStrategies","QuickStrategyStore","qs_cache","selected_type_strategy","selected_duration_unit","input_duration_value","input_stake","input_martingale_size","input_alembert_unit","input_oscar_unit","input_loss","input_profit","types_strategies_dropdown","trade_type_dropdown","duration_unit_dropdown","is_contract_dialog_open","is_stop_bot_dialog_open","is_strategy_modal_open","onScrollStopDropdownList","getSizeDesc","getFieldMap","setSelected","setSelectedSymbol","setSelectedTradeType","setSelectedDurationUnit","setSelectedTypeStrategy","list_items","list_obj","getQuickStrategyFields","getHiddenCategories","hidden_categories","has_barrier","getTradeTypeOptions","is_muliplier","toggleStopBotDialog","initial_values","setDescription","setActiveTypeStrategyIndex","setDurationUnitDropdown","setSymbolDropdown","setTradeTypeDropdown","setTypesStrategiesDropdown","setDurationInputValue","onChangeDropdownItem","onChangeInputValue","onHideDropdownList","createStrategy","updateSymbolDropdown","updateTypesStrategiesDropdown","updateTradeTypeDropdown","updateDurationDropdown","updateDurationValue","type_strategy","duration_unit_options","types_strategies_options","field_map","typeStrategy","currentTarget","stake","alembert_unit","oscar_unit","getMarketBySymbol","getSubmarketBySymbol","strategy_name","strategy_xml","strategy_dom","modifyValueInputs","el_value_input","modifyFieldDropdownValues","name_list","fields_to_update","tradetype","tradetypecat","durationtype","onRunButtonClick","getAllSymbols","filtered_trade_type_categories","first_trade_type","types_strategies","first_type_strategy","first_duration_unit","duration_input_value","cache_unit","RoutePromptDialogStore","should_show","is_confirmed","last_location","shouldNavigateAfterPrompt","onConfirm","onCancel","continueRoute","next_location","routeTo","contract_stages","NOT_RUNNING","STARTING","PURCHASE_SENT","PURCHASE_RECEIVED","IS_STOPPING","CONTRACT_CLOSED","SUMMARY","TRANSACTIONS","JOURNAL","switch_account_notification","is_persistent","RunPanelStore","contract_stage","has_open_contract","is_statistics_info_modal_open","is_drawer_open","is_sell_requested","error_type","unregisterBotListeners","is_stop_button_disabled","is_clear_stat_disabled","onStopButtonClick","onClearStatClick","clearStat","toggleStatisticsInfoModal","toggleDrawer","performSelfExclusionCheck","showStopMultiplierContractDialog","showLoginDialog","showRealAccountDialog","showClearStatDialog","showContractUpdateErrorDialog","onBotSellEvent","onBotStopEvent","onBotTradeAgain","onContractStatusEvent","onClickSell","onBotContractEvent","switchToJournal","setContractStage","setHasOpenContract","handleInvalidToken","registerBotListeners","onBotRunningEvent","preloadAudio","stopMyBot","closeMultiplierContract","stats","trx","self_exclusion","checkRestriction","route_prompt_dialog","is_ios","mobileOSDetect","saveRecentWorkspace","unHighlightAllBlocks","isSafari","should_bot_run","setIsRestricted","shouldRunBot","runBot","is_multiplier","is_open","setActiveTransactionId","onOkButtonClick","onCancelButtonClick","rel","ok_button_text","cancel_button_text","notifications","registerIsSocketOpenedListener","is_socket_opened","disposeIsSocketOpenedListener","addNotificationMessage","disposeLogoutListener","disposeStopBotListener","ignore_new_version","run_limit","indicateBotStopped","resetSelfExclusion","clearContractUpdateConfigValues","listen_new_version","is_trade_again","contract_status","is_virtual","platform","platform_name","is_disposable","removeNotificationMessage","toggleNotificationsModal","removeNotificationByKey","logout","getStrategySounds","audioElement","muted","pause","SaveModalStore","is_save_modal_open","toggleSaveModal","validateBotName","errors","addStrategyToWorkspace","is_local","save_as_collection","local_type","save_collection","workspace_structure","updated_strategies","onConfirmSave","SelfExclusionStore","api_max_losses","is_restricted","setApiMaxLosses","setRunLimit","form_max_losses","getSelfExclusion","max_losses","getContractUpdateConfig","contract_update","getLimitOrderAmount","contract_update_stop_loss","contract_update_take_profit","has_contract_update_stop_loss","has_contract_update_take_profit","getCardLabels","APPLY","STAKE","CLOSE","CURRENT_STAKE","DEAL_CANCEL_FEE","TAKE_PROFIT","BUY_PRICE","STOP_LOSS","TOTAL_PROFIT_LOSS","PROFIT_LOSS","POTENTIAL_PROFIT_LOSS","INDICATIVE_PRICE","INITIAL_STAKE","PAYOUT","PURCHASE_PRICE","POTENTIAL_PAYOUT","TICK","WON","DAYS","DAY","INCREMENT_VALUE","DECREMENT_VALUE","TAKE_PROFIT_LOSS_NOT_AVAILABLE","DONT_SHOW_THIS_AGAIN","RESALE_NOT_OFFERED","NOT_AVAILABLE","getContractConfig","is_high_low","position","LBFLOATCALL","LBFLOATPUT","LBHIGHLOW","getSupportedContracts","getContractTypeDisplay","attribute","hasOwnProperty","to_replace","rules","error_count","rule","is_rule_string","rule_object","validator","getPreBuildDVRs","name1","name2","ruleObject","Validator","getRuleObject","is_valid","is_ok","addFailure","SummaryCardStore","contract_info","indicative_movement","profit_movement","validation_errors","validation_rules","trigger","contract_store","getBuyPrice","contract_update_config","indicative","is_contract_completed","is_contract_loading","is_contract_inactive","getLimitOrder","onChange","populateContractUpdateConfig","updateLimitOrder","setValidationErrorMessages","validateProperty","isMultiplierContract","profit_loss","getIndicativePrice","movements","isEqualObject","contractUpdate","propertyName","messages","inputs","isPassed","disposeSwitchAcountListener","SummaryStore","ToolbarStore","is_animation_info_modal_open","has_undo_stack","has_redo_stack","toggleAnimationInfoModal","onResetClick","closeResetDialog","onResetOkButtonClick","onSortClick","onUndoClick","is_redo","undo","hasUndoStack","hasRedoStack","ToolboxStore","is_toolbox_open","is_search_loading","sub_category_index","toolbox_dom","setWorkspaceOptions","adjustWorkspace","onToolboxItemClick","onToolboxItemExpand","getAllCategories","hasSubCategory","onSearchBlur","onSearchClear","onSearchKeyUp","showSearch","toolbox_ref","disposeToolboxToggleReaction","languageTree","hasCategories","hasCollapse","hasComments","hasDisable","toolbox_width","getBoundingClientRect","block_canvas_rect","round","scroll_distance","category_id","open_ids","open_id","dynamic","getToolboxCategoryCallback","fnToApply","subCategory","submitForm","typing_timer","search_words","all_variables","all_procedures","general_term","term","block_contents","contents","flat","pushIfNotExists","array","element_to_push","priority","block_definitions","block_name","block_type_terms","block_name_terms","definition_key_to_search","word","definition_strings","matched_meta","block_meta_strings","pushBlockWithPriority","matched_variables","unique_var_blocks","searched_procedures","procedure","unique_proce_blocks","procedure_block","transaction_elements","CONTRACT","DIVIDER","TransactionsStore","TRANSACTION_CACHE","active_transaction_id","recovered_completed_transactions","recovered_transactions","is_called_proposal_open_contract","is_transaction_details_modal_open","pushTransaction","onClickOutsideTransaction","recoverPendingContracts","updateResultsCompletedContract","sortOutPositionsBeforeAction","recoverPendingContractsById","toggleTransactionDetailsModal","isEnded","entry_tick_display_value","exit_tick_display_value","low_barrier","tick_count","underlying","same_contract_index","disposeTransactionElementsListener","stored_transactions","disposeRecoverContracts","positions","element_id","contract_details","portfolio","isBot","subscribeProposalOpenContract","RootStore","download","flyout_help","summary","chart_store","data_collection_store","DBotStoreContext","DBotStoreProvider","mock","stores","BotNotificationMessages","Notifications","notification_messages_ui","classNames","ToolbarWidget","ChartMode","portalNodeId","onChartType","onGranularity","isDesktop","StudyLegend","searchInputClassName","Views","DrawTools","Share","Chart","show_digits_stats","assetInformation","countdown","isHighestLowestMarkerEnabled","is_chart_layout_default","theme","SmartChart","showLastDigitStats","chartControlsWidgets","enabledChartFooter","chartStatusListener","v","toolbarWidget","chartType","enabledNavigationWidget","requestAPI","requestForget","requestForgetStream","requestSubscribe","topWidgets","ChartTitle","isConnectionOpened","speed","backgroundColor","foregroundColor","has_won_contract","toggle_ref","wrapper_ref","useOnClickOutside","classNameLabel","hasFilter","Checkbox","defaultChecked","logType","classnames","styles","interpolation","escapeValue","formatMoney","getLogMessage","is_new_row","in_prop","useNewRowTransition","date_el","DateItem","CSSTransition","in","getJournalItemContent","clickFunction","popover_message","Popover","classNameBubble","alignment","zIndex","Button","DesktopWrapper","enter","enterDone","exit","unmountOnExit","Journal","filtered_messages_length","unfiltered_messages_length","DataList","data_source","rowRenderer","keyMapper","SelfExclusionForm","max_losses_error","setMaxLossesError","is_onscreen_keyboard_active","updateSelfExclusion","is_reality_check_visible","onSubmitLimits","set_losses","Formik","initialValues","validate","is_number","is_integer","requested_field_message","valid_number_message","max_number_message","max_decimal_message","max_losses_limit_message","amount_decimal_array","onSubmit","touched","isValid","handleChange","Form","Input","hint","large","SelfExclusion","self_exclusion_form_props","virtual_account_loginid","FadeWrapper","keyname","PageOverlay","onClickClose","MobileWrapper","Div100vhContainer","Modal","has_close_icon","toggleModal","propTypes","PropTypes","SummaryCard","addToast","current_focus","removeToast","setCurrentFocus","card_header","ContractCard","Header","has_progress_slider","card_body","Body","error_message_alignment","getContractById","card_footer","Footer","contract_el","should_show_result_overlay","ThemedScrollbars","CircularWrapper","AnimationInfo","AnimationInfoModal","ContractStageText","TradeAnimation","info_direction","should_show_overlay","account_status","cashier_validation","is_button_disabled","updateIsButtonDisabled","is_unavailable_for_payment_agent","status_classes","progress_status","has_effect","green","status_class","popover_zindex","QUICK_STRATEGY","TOOLBAR","TRANSACTION","SUMMARY_TOOLTIPS","RUN_PANEL","TransactionIconWithText","TransactionFieldLoader","TransactionIconLoader","PopoverItem","PopoverContent","convertDateFormat","Transaction","IconTradeTypes","Money","show_currency","TransactionItem","Transactions","transactions__content","getRowSize","bool","StatisticsTile","contentClassName","StatisticsSummary","has_sign","DrawerHeader","DrawerContent","Tabs","onTabItemClick","DrawerFooter","MobileDrawerFooter","StatisticsInfoModal","RunPanel","footer","Drawer","anchor","el_portal","ReactDOM","Toast","custom_color","id_ref","LocalComponent","file_input_ref","has_dashboard_strategies","renderOpenButton","accept","Dialog","is_mobile_full_width","GoogleDrive","Group","is_document","removeBotStrategy","strategy_from_workspace","onHandleChange","confirm_button_text","useComponentVisibility","is_dropdown_visible","setDropdownVisibility","handleHideDropdown","handleClickOutside","STRATEGY","MENU_DESKTOP","CONTEXT_MENU_MOBILE","RecentWorkspace","trigger_div_ref","is_desktop","viewRecentStrategy","is_active_mobile","google_drive_connected","is_drive_radio","SaveModalForm","content_height","autohide","placeholder","onFocus","onBlur","RadioGroup","onToggle","Item","is_submit_success","SaveModal","MobileFullPageModal","is_modal_open","height_offset","page_overlay","HEADERS","getStrategies","setStrategies","actions","hidden","SIDEBAR_INTRO","handleClose","renderInfo","sidebar_item","tutorial_link","tutorial_label","switchTab","DashboardTitle","MobileIconGuide","handleTabChange","DashboardDescription","common_tour_button_properties","fontWeight","fontSize","padding","steps","continuous","locale","back","next","arrowColor","primaryColor","textColor","spotlightShadow","buttonBack","border","marginRight","borderRadius","buttonNext","overlay","TourButton","Accordion","content_data","expanded","setOpen","setStep","slider_content","setContent","slider_header","setheader","slider_image","setimg","setStepKey","MOBILE_TOUR","onClickNext","bot_tour_text","tour_button_text","ProgressBarOnboarding","amount_of_steps","toggleTour","tourDialogInfo","tourDialogAction","getTourContent","tab_id","confirm_button","onHandleConfirm","FAQ","dangerouslySetInnerHTML","__html","faq_list","hide_header","icon_close","icon_open","guide_list","subtype","dbot_settings","onboard_tour_token","bot_builder_token","triggerTour","backgroundImage","onClose","frameBorder","allowFullScreen","user_guide_content","guide_content","faq_content","guide_tab_content","search_filtered_list","setsearchFilteredList","search_faq_list","setsearchFAQList","search_input","menu_items","selected_tab","content_list","filtered_list","onChangeHandle","debounce","SelectNative","should_show_empty_option","Dashboard","tour_status","tab_value","is_tour_complete","bot_tour_token","init_render","url_hashed_values","active_hash_tab","active_tab_name","hash","setTourStatus","margin","Trashcan","MARGIN_BOTTOM_","MARGIN_SIDE_","initTrashCan","botStorageSetting","has_onboard_token_set","has_bot_builder_token_set","show_tour_dialog_desktop","show_tour_dialog_mobile","tab_index","el_id","el_tab","scrollIntoView","behavior","inline","hideCloseButton","onTabItemChange","portal_element_id","QuickStrategyContainer","symbol_dropdown_options","component","trade_type_dropdown_options","getMessage","select_value","is_able_disabled","trailing_icon_message","common_inputs_properties","is_uniq_strategy_field","quick_strategy_store","Description","displayName","DurationFields","dropdown_list","selected_value","QuickStrategyFields","uniq_selected_input","data_uniq_input_obj","_elem","dropdown_lists","selected_values","data_fields","is_input_field","is_select_field","prevProps","nextProps","QuickStrategyFooter","is_submit_enabled","handleCreateEdit","handleRun","QuickStrategyForm","setDefaultValidationNumber","Yup","typeError","SchemaFields","required","validationSchema","enableReinitialize","validateOnMount","isSubmitting","elem","is_bypassed","InputField","new_field_name","new_id","new_className","new_label","new_input_value","new_placeholder","new_trailing_icon_message","new_zIndex","trailing_icon","Inputs","MarketOption","SelectField","Autocomplete","autoComplete","onItemSelection","onScrollStop","leading_icon","Selects","TradeTypeOption","QuickStrategy","quick_strategy_props","should_center_block","should_hide_display_name","FlyoutBlockGroup","onInfoClick","is_variables_get","is_variables_set","AddButton","is_plus","FlyoutImage","FlyoutText","lineHeight","oneOfType","FlyoutVideo","allow","block_help_component","text_count","example_node","renderText","SearchResult","total_result","FlyoutContent","flyout_ref","is_empty","platform_name_dbot","getPlatformSettings","callback_id","getButtonCallback","flyout__search","flyout__help","flyout__normal","Wrapper","onDrop","header_text","has_loaded_file","has_recent_strategies","elements_to_ignore","header_fit_content","has_separator","network_status","setIsOpen","portal_id","getIcon","ExpansionPanel","onResize","title_text","toggle_dialog_or_stop","paddingBottom","paddingTop","StopBotModal","button_id","button_classname","buttonOnClick","should_disable_pointer_events","icon_id","icon_color","Toolbar","onKeyUp","Arg","Category","Example","Examples","Mutation","Next","Shadow","Statement","Value","ToolboxItems","ReactDomServer","xmlns","deletable","movable","divisor_input","variabletype","elseif","else","active","has_sub_category","is_sub_category_open","BotBuilder","is_tour_running","PARENT_CLASS","TableCell","extra_classes","CellLoader","TableHeader","columns","column","extra_class","IconWrapper","DesktopTransactionTable","result_columns","transaction_columns","TransactionDetailsDesktop","CardColumn","large_title","right_aligned","IconContainer","MobileTransactionCards","TransactionDetailsMobile","Suspense","fallback","AppContent","DBotStores","combinedStore","h","hj","_hjSettings","hjid","hjsv","changeActiveSymbolLoadingState","onDisconnectFromNetwork","survicate_box","initSurvicate","webpackAsyncContext","__webpack_require__","module","exports"],"sourceRoot":""}